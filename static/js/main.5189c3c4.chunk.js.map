{"version":3,"sources":["PrivateRoute.jsx","firebase/firebaseConfig.js","api/index.js","firebase/auth.js","components/signupPage/SignupModal.jsx","components/signupPage/SignupPage.jsx","components/avatar/Avatar.jsx","assets/plus.svg","components/glojectPage.jsx/GlojectTeam.jsx","components/common/GlojectCard.jsx","helpers.js","components/glojectPage.jsx/DifficultyLabel.jsx","components/glojectPage.jsx/GlojectPage.jsx","components/userProfilePage/UserProfilePage.jsx","components/signupPage/LoginModal.jsx","components/userProfilePage/ProfileModal.jsx","components/glojectPage.jsx/GlojectModal.jsx","components/common/NavBar.jsx","components/newGlojectPage/NewGlojectPage.jsx","components/8k.jpeg","components/WorldUtil/projectsUtil.js","components/ui/toggleExperienceBtn.js","components/ui/RandomGlojectBtn.js","components/World.js","components/WorldUtil/cameraAnimations.js","components/apiPage/ApiPage.jsx","components/editGlojectPage/EditGlojectPage.jsx","App.js","reportWebVitals.js","index.js"],"names":["PrivateRoute","props","path","component","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","convertToArray","snapshot","glojects","forEach","doc","id","data","gloject","push","this","firebase","apps","length","initializeApp","firestore","getAll","a","collection","get","getAllActives","where","getById","glojectId","exists","getAllFilters","difficulty","tags","allGlojects","console","log","filter","every","t","includes","getAllTags","allTags","Set","map","flat","create","glojectData","add","delete","update","updated","users","createUser","uid","username","email","location","set","active_glojects","past_glojects","interests","image","getCurrentUserId","auth","currentUser","signup","password","createUserWithEmailAndPassword","then","userCredential","user","sendEmailVerification","api","catch","error","errorCode","code","errorMessage","message","login","signInWithEmailAndPassword","emailVerified","Error","localStorage","setItem","logout","signOut","removeItem","SignupModal","signupOpen","setSignupOpen","React","useState","setUsername","setEmail","setLocation","setPassword","handleSignup","Modal","dimmer","open","onClose","basic","size","style","display","justifyContent","Header","as","textAlign","Content","Form","margin","marginRight","marginLeft","color","Input","onChange","event","target","value","placeholder","fluid","required","autoFocus","transparent","borderBottom","type","Button","inverted","onClick","SignupPage","history","useHistory","Avatar","removeFromTeam","setProfileOpen","profileId","setProfileId","setGlojectOpen","userData","setUserData","currUserId","getItem","useEffect","ue","flexGrow","alignSelf","Image","src","avatar","width","Icon","fitted","circular","name","cursor","e","GlojectTeam","setGlojectData","canJoinTeam","setCanJoinTeam","team","currentUserId","maxTeamSize","joinTeam","concat","member","owner","marginTop","Transition","Group","List","duration","divided","verticalAlign","userId","i","Item","Plus","GlojectCard","Card","wrapped","ui","title","Meta","className","tag","Description","description","extra","alignItems","fileToDataUrl","file","find","reader","FileReader","dataUrlPromise","Promise","resolve","reject","onerror","onload","result","readAsDataURL","redirect","document","href","process","DifficultyLabel","Label","GlojectPage","match","params","Container","objectFit","maxHeight","marginBottom","Grid","columns","Column","floated","icon","primary","split","p","UserProfilePage","useParams","activeGlojects","setActiveGlojects","pastGlojects","setPastGlojects","getUserData","promises","all","res","g","height","borderRadius","fontSize","flex","LoginModal","loginOpen","setLoginOpen","setLoggedIn","loggedIn","zIndex","Actions","ProfileModal","profileOpen","setGlojectId","handleGlobjectClick","globId","GlojectModal","glojectOpen","StyledNav","styled","div","RightDiv","NavBar","logggedIn","buttons","setButtons","handleLogout","pathname","window","NewGlojectPage","setTitle","setDescription","setTags","setDifficulty","setMaxTeamSize","setImage","longitude","latitude","loading","setLoading","errorMsg","setErrorMsg","setError","convertAndSetImage","dataUrl","handleSubmit","preventDefault","status","tagsString","trim","content","onSubmit","Message","label","TextArea","minHeight","widths","iconPosition","parseInt","accept","files","Field","inline","control","Radio","checked","scrapeToGlojectObj","coordinates","ToggleExperienceBtn","updateGlojects","state","setState","setAllTags","key","text","onExperienceClick","mode","filterGlojects","newGlojects","experienceBtnStyleALL","experienceBtnStyleEASY","experienceBtnStyleMEDIUM","experienceBtnStyleHARD","filterTagStyle","Dropdown","multiple","search","selection","options","position","bottom","left","RandomGlojectBtn","updateFocus","buttonStyle","index","Math","floor","random","right","initOptions","enableMarkerGlow","markerGlowCoefficient","markerGlowPower","markerGlowRadiusScale","markerRadiusScaleRange","markerType","enableMarkerToolTip","markerTooltipRenderer","marker","focusAnimationDuration","focusDistanceRadiusScale","cameraRotateSpeed","focusEasingFunction","enableDefocus","World","setGlojects","focus","setFocus","setOpen","hover","setHover","cardSrc","setCardSrc","cardTitle","setCardTitle","cardTags","setCardTags","cardDescription","setCardDescription","cardOwner","setCardOwner","initZoom","removeEventListener","addEventListener","startModalStyle","upperText","middleText","letterSpacing","middle","lowerText","cardStyle","globeTexture","texture","markers","onClickMarker","obj","m","zoomToMarker","onDefocus","initialCameraDistanceRadiusScale","top","backgroundColor","flexDirection","pointEvents","fontWeight","ApiPage","Segment","EditGlojectPage","join","positive","negative","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5189c3c4.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = (props) => {\r\n  const isAuth = true;\r\n  // TODO: setup authorisation\r\n  return isAuth ? (\r\n    <Route path={props.path} component={props.component}></Route>\r\n  ) : (\r\n    <Redirect to=\"/unauthorised\" />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const firebaseConfig = {\r\n    apiKey: 'AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4',\r\n    authDomain: 'glojects.firebaseapp.com',\r\n    projectId: 'glojects',\r\n    storageBucket: 'glojects.appspot.com',\r\n    messagingSenderId: '837750996466',\r\n    appId: '1:837750996466:web:79dc5e0db7ade834fb3f6b',\r\n    measurementId: 'G-6V45WZLM9W',\r\n  };","// Contains all communication with Firestore database\r\n\r\nimport firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport { firebaseConfig } from '../firebase/firebaseConfig';\r\n\r\nconst getDb = () => {\r\n  if (firebase.apps.length === 0) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n  return firebase.firestore();\r\n};\r\n\r\nconst convertToArray = (snapshot) => {\r\n  const glojects = [];\r\n  snapshot.forEach((doc) => {\r\n    const id = doc.id;\r\n    const data = doc.data();\r\n    const gloject = { id, ...data };\r\n    glojects.push(gloject);\r\n  });\r\n  return glojects;\r\n};\r\n\r\nclass API {\r\n  #db;\r\n\r\n  constructor() {\r\n    this.#db = getDb();\r\n    this.glojects = {\r\n      getAll: async () => {\r\n        const snapshot = await this.#db.collection('glojects').get();\r\n        return convertToArray(snapshot);\r\n      },\r\n      getAllActives: async () => {\r\n        const snapshot = await this.#db\r\n          .collection('glojects')\r\n          .where('status', '==', 'ACTIVE')\r\n          .get();\r\n        return convertToArray(snapshot);\r\n      },\r\n      getById: async (glojectId) => {\r\n        if (!glojectId) return {};\r\n        const snapshot = await this.#db\r\n          .collection('glojects')\r\n          .doc(glojectId)\r\n          .get();\r\n        if (!snapshot.exists) return {};\r\n        const id = snapshot.id;\r\n        const data = snapshot.data();\r\n        return { id, ...data };\r\n      },\r\n\r\n      getAllFilters: async ({ difficulty, tags }) => {\r\n        const allGlojects = await this.glojects.getAll();\r\n\r\n        console.log('tags length', tags.length);\r\n        return allGlojects\r\n          .filter((gloject) =>\r\n            difficulty === '' ? true : gloject.difficulty === difficulty\r\n          )\r\n          .filter((gloject) =>\r\n            tags.length ? tags.every((t) => gloject.tags.includes(t)) : true\r\n          );\r\n      },\r\n      getAllTags: async () => {\r\n        const allGlojects = await this.glojects.getAll();\r\n        const allTags = [\r\n          ...new Set(allGlojects.map((gloject) => gloject.tags).flat()),\r\n        ];\r\n        return allTags;\r\n      },\r\n      exists: async (glojectId) =>\r\n        (await this.glojects.getById(glojectId)).exists,\r\n      create: async (glojectData) =>\r\n        await this.#db.collection('glojects').add(glojectData),\r\n      delete: async (glojectId) =>\r\n        await this.#db.collection('glojects').doc(glojectId).delete(),\r\n      update: async (glojectId, updated) =>\r\n        await this.#db.collection('glojects').doc(glojectId).update(updated),\r\n    };\r\n    this.users = {\r\n      createUser: async (uid, username, email, location) =>\r\n        await this.#db.collection('users').doc(uid).set({\r\n          username: username,\r\n          email: email,\r\n          location: location,\r\n          active_glojects: [],\r\n          past_glojects: [],\r\n          interests: [],\r\n          image:\r\n            'https://www.nicepng.com/png/detail/933-9332131_profile-picture-default-png.png',\r\n        }),\r\n      getById: async (uid) => {\r\n        if (!uid) return {};\r\n        const snapshot = await this.#db.collection('users').doc(uid).get();\r\n        const id = snapshot.id;\r\n        const data = snapshot.data();\r\n        return { id, ...data };\r\n      },\r\n      getCurrentUserId: () => firebase.auth().currentUser.id,\r\n      exists: async (uid) => (await this.users.getById(uid)).exists,\r\n    };\r\n  }\r\n}\r\n\r\nexport default new API();\r\n","// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport firebase from 'firebase/app';\r\nimport api from '../api';\r\n\r\nexport const signup = async (email, password, username, location) => {\r\n  firebase\r\n    .auth()\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      var user = userCredential.user;\r\n      user.sendEmailVerification().then(() => {\r\n        console.log('Sent verification email');\r\n      });\r\n      api.users.createUser(user.uid, username, email, location);\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n      return false;\r\n    });\r\n  return true;\r\n};\r\n\r\nexport const resendVerification = async (email) => {\r\n  firebase\r\n    .auth()\r\n    .currentUser.sendEmailVerification()\r\n    .then(function () {\r\n      console.log('Sent verification email');\r\n    })\r\n    .catch(function (error) {\r\n      // Error occurred. Inspect error.code.\r\n    });\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  await firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      if (!user?.emailVerified) {\r\n        throw new Error('Please verify your email');\r\n      }\r\n      console.log('Successfully logged in.', user);\r\n      localStorage.setItem('id', user.uid);\r\n      return true;\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n      return false;\r\n    });\r\n};\r\n\r\nexport const logout = async () => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      localStorage.removeItem('id');\r\n      console.log('Logged out!');\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n    });\r\n};\r\n","import React from 'react';\r\nimport { Button, Modal, Form, Input, Header } from 'semantic-ui-react';\r\nimport { signup } from '../../firebase/auth';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport './InvisInput.css';\r\n\r\nexport default function SignupModal(props) {\r\n  const { signupOpen, setSignupOpen } = props;\r\n  const [username, setUsername] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const [location, setLocation] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const handleSignup = async () => {\r\n    await signup(email, password, username, location);\r\n    setSignupOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={signupOpen}\r\n      onClose={() => setSignupOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Header as=\"h1\" textAlign=\"center\">\r\n        Become part of Gl<span>&#x1f30e;</span>jects now!\r\n      </Header>\r\n      <Modal.Content>\r\n        <Form>\r\n          <div style={{ margin: 10, marginRight: 40, marginLeft: 40 }}>\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Username\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setUsername(event.target.value)}\r\n              placeholder=\"xxJohnSmithxx\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey', color: 'white' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Email\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setEmail(event.target.value)}\r\n              placeholder=\"john_smith@email.com\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Password\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setPassword(event.target.value)}\r\n              placeholder=\"*******\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              type=\"password\"\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Location\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setLocation(event.target.value)}\r\n              placeholder=\"Sydney\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n          </div>\r\n        </Form>\r\n      </Modal.Content>\r\n      <Button\r\n        style={{ margin: 'auto', display: 'flex', justifyContent: 'center' }}\r\n        inverted\r\n        onClick={() => handleSignup()}\r\n      >\r\n        Sign up\r\n      </Button>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SignupModal from './SignupModal';\r\n\r\nconst SignupPage = () => {\r\n  const history = useHistory();\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n  return (\r\n    <div>\r\n      Sign up page\r\n      <button onClick={() => history.push('/')}>Back to landing</button>\r\n      <SignupModal\r\n        signupOpen={signupOpen}\r\n        setSignupOpen={setSignupOpen}\r\n      ></SignupModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport { Button, Icon, Image } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nconst Avatar = (props) => {\r\n  const {\r\n    removeFromTeam,\r\n    setProfileOpen,\r\n    profileId,\r\n    setProfileId,\r\n    setGlojectOpen,\r\n  } = props;\r\n  const [userData, setUserData] = useState({});\r\n\r\n  const currUserId = localStorage.getItem('id');\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const userData = await api.users.getById(profileId);\r\n      console.log('response', userData);\r\n      setUserData(userData);\r\n    };\r\n    ue();\r\n  }, [profileId]);\r\n\r\n  const handleClick = () => {\r\n    setProfileId(profileId);\r\n    setProfileOpen(true);\r\n    setGlojectOpen(false);\r\n    console.log(profileId);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex' }}>\r\n      <a\r\n        onClick={() => handleClick()}\r\n        style={{ flexGrow: 1, alignSelf: 'center', color: 'white' }}\r\n      >\r\n        <Image src={userData.image} avatar style={{ marginRight: '0.5em' }} />\r\n        <span style={{ flexGrow: 1, width: '200px' }}>{`${userData.username}${\r\n          profileId === currUserId ? ' (You)' : ''\r\n        }`}</span>\r\n      </a>\r\n      {removeFromTeam && (\r\n        <Icon\r\n          fitted\r\n          circular\r\n          inverted\r\n          size=\"tiny\"\r\n          color=\"grey\"\r\n          name=\"minus\"\r\n          style={{ cursor: 'pointer' }}\r\n          onClick={(e) => removeFromTeam()}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","export default __webpack_public_path__ + \"static/media/plus.3b1907cc.svg\";","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Header, Image, List, Transition } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport Avatar from '../avatar/Avatar';\r\nimport Plus from '../../assets/plus.svg';\r\n\r\nconst GlojectTeam = (props) => {\r\n  const {\r\n    glojectData,\r\n    setGlojectData,\r\n    setProfileId,\r\n    setProfileOpen,\r\n    setGlojectOpen,\r\n  } = props;\r\n  const [canJoinTeam, setCanJoinTeam] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      glojectData.team?.includes(currentUserId),\r\n      glojectData.team?.length < glojectData.maxTeamSize - 1\r\n    );\r\n    console.log(glojectData);\r\n    setCanJoinTeam(\r\n      !glojectData.team?.includes(currentUserId) &&\r\n        glojectData.team?.length < glojectData.maxTeamSize - 1\r\n    );\r\n  }, [glojectData]);\r\n\r\n  const currentUserId = localStorage.getItem('id');\r\n\r\n  const joinTeam = async () => {\r\n    const updated = { team: glojectData.team.concat(currentUserId) };\r\n    await api.glojects.update(glojectData.id, updated);\r\n    setGlojectData(await api.glojects.getById(glojectData.id));\r\n  };\r\n\r\n  const removeFromTeam = async () => {\r\n    const updated = {\r\n      team: glojectData.team.filter((member) => member !== currentUserId),\r\n    };\r\n    await api.glojects.update(glojectData.id, updated);\r\n    setGlojectData(await api.glojects.getById(glojectData.id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header size=\"tiny\" style={{ color: 'white' }}>\r\n        Owner:\r\n      </Header>\r\n      <Avatar\r\n        profileId={glojectData.owner}\r\n        setProfileId={setProfileId}\r\n        setProfileOpen={setProfileOpen}\r\n        setGlojectOpen={setGlojectOpen}\r\n      />\r\n\r\n      <Header size=\"tiny\" style={{ marginTop: '1em', color: 'white' }}>\r\n        Team members:\r\n      </Header>\r\n      <Transition.Group as={List} duration={200} divided verticalAlign=\"middle\">\r\n        {glojectData.team?.map((userId, i) => (\r\n          <List.Item key={i}>\r\n            <Avatar\r\n              profileId={userId}\r\n              setProfileId={setProfileId}\r\n              setProfileOpen={setProfileOpen}\r\n              removeFromTeam={removeFromTeam}\r\n              setGlojectOpen={setGlojectOpen}\r\n            />\r\n          </List.Item>\r\n        ))}\r\n\r\n        {/* Only show `Join Team` if team has space */}\r\n        {canJoinTeam && (\r\n          <List.Item style={{ cursor: 'pointer' }} onClick={(e) => joinTeam()}>\r\n            <Image src={Plus} avatar style={{ marginRight: '0.5em' }} />\r\n            <span style={{ color: 'grey' }}>Join team</span>\r\n          </List.Item>\r\n        )}\r\n      </Transition.Group>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GlojectTeam;\r\n","import React from 'react';\r\nimport { Card, Image } from 'semantic-ui-react';\r\n\r\nimport Avatar from '../avatar/Avatar';\r\n\r\nconst GlojectCard = (props) => {\r\n  console.log('props', props);\r\n  return (\r\n    <Card>\r\n      <Image src={props.src} wrapped ui={false} />\r\n      <Card.Content>\r\n        <Card.Header>{props.title}</Card.Header>\r\n        <Card.Meta>\r\n          <span className=\"date\">\r\n            {props.tags &&\r\n              props.tags.map((tag) => {\r\n                return <span>{tag}</span>;\r\n              })}\r\n          </span>\r\n        </Card.Meta>\r\n        <Card.Description>{props.description}</Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar profileId={props.owner} />\r\n          <a>Read more</a>\r\n        </div>\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default GlojectCard;\r\n","// thx hayden smith xoxo\r\n/**\r\n * Given a js file object representing a jpg or png image, such as one taken\r\n * from a html file input element, return a promise which resolves to the file\r\n * data as a data url.\r\n * More info:\r\n *   https://developer.mozilla.org/en-US/docs/Web/API/File\r\n *   https://developer.mozilla.org/en-US/docs/Web/API/FileReader\r\n *   https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\r\n *\r\n * Example Usage:\r\n *   const file = document.querySelector('input[type=\"file\"]').files[0];\r\n *   console.log(fileToDataUrl(file));\r\n * @param {File} file The file to be read.\r\n * @return {Promise<string>} Promise which resolves to the file as a data url.\r\n */\r\n export function fileToDataUrl (file) {\r\n  const validFileTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n  const valid = validFileTypes.find((type) => type === file.type);\r\n  // Bad data, let's walk away.\r\n  if (!valid) {\r\n    throw new Error('provided file is not a png, jpg or jpeg image.');\r\n  }\r\n\r\n  const reader = new FileReader();\r\n  const dataUrlPromise = new Promise((resolve, reject) => {\r\n    reader.onerror = reject;\r\n    reader.onload = () => resolve(reader.result);\r\n  });\r\n  reader.readAsDataURL(file);\r\n  return dataUrlPromise;\r\n}\r\n\r\nexport function redirect (path) {\r\n  document.location.href = `${process.env.PUBLIC_URL}${path}`;\r\n}","import React from 'react';\r\n\r\nimport { Label } from 'semantic-ui-react';\r\n\r\nconst DifficultyLabel = (props) => {\r\n  const { difficulty } = props;\r\n\r\n  const color = difficulty === 'EASY' ? 'green'\r\n    : difficulty === 'MEDIUM' ? 'yellow' : 'red';\r\n\r\n  return (\r\n    <Label\r\n      color={color}\r\n    >\r\n      {difficulty}\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport default DifficultyLabel;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Grid, Header, Icon, Image, Label, Popup } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport GlojectTeam from './GlojectTeam';\r\nimport Avatar from '../avatar/Avatar';\r\nimport GlobjectCard from '../common/GlojectCard';\r\nimport { redirect } from '../../helpers';\r\nimport DifficultyLabel from './DifficultyLabel';\r\n\r\nconst GlojectPage = (props) => {\r\n  const { glojectId } = props.match.params;\r\n\r\n  const [glojectData, setGlojectData] = useState({});\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setGlojectData(glojectData);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  console.log('gjdata', glojectData);\r\n\r\n  return (\r\n    <Container>\r\n      <Image\r\n        style={{ objectFit: 'cover', maxHeight: 100, marginBottom: '1em' }}\r\n        fluid\r\n        src={glojectData.image}\r\n      />\r\n      <Grid columns=\"equal\">\r\n        <Grid.Column width={10}>\r\n          <Header size=\"huge\">{glojectData.title}</Header>\r\n          <Label.Group>\r\n            <DifficultyLabel difficulty={glojectData.difficulty} />\r\n            {/* LOCATION LABEL */}\r\n          </Label.Group>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n\r\n        {/* TODO: only show if user is owner */}\r\n        <Button circular floated='right' icon='pencil' primary onClick={() => redirect(`/g/${glojectId}/edit`)} />\r\n        </Grid.Column>\r\n      </Grid>\r\n\r\n      <Grid columns=\"equal\">\r\n        <Grid.Column width={10}>\r\n          {glojectData.description?.split('\\n').map((p, i) => (\r\n            <p key={i}>{p}</p>\r\n          ))}\r\n\r\n          <Label.Group tag style={{marginBottom: '2em'}}>\r\n            {glojectData.tags?.map(tag => (\r\n              <Label key={tag}>{tag}</Label>\r\n              ))}\r\n          </Label.Group>\r\n        </Grid.Column>\r\n\r\n        <Grid.Column>\r\n          <GlojectTeam glojectData={glojectData} setGlojectData={setGlojectData}/>\r\n        </Grid.Column>\r\n      </Grid>\r\n      <GlobjectCard\r\n        src={glojectData.image}\r\n        title={glojectData.title}\r\n        owner={glojectData.owner}\r\n        description={glojectData.description}\r\n        tags={glojectData.tags}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GlojectPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { Container, Header, Image } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nconst UserProfilePage = (props) => {\r\n  const { uid } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [userData, setUserData] = useState({\r\n    active_glojects: [],\r\n    past_glojects: [],\r\n  });\r\n  const [activeGlojects, setActiveGlojects] = useState([]);\r\n  const [pastGlojects, setPastGlojects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUserData = async () => {\r\n      const userData = await api.users.getById(uid);\r\n      setUserData(userData);\r\n    };\r\n    getUserData();\r\n  }, [uid]);\r\n\r\n  useEffect(() => {\r\n    if (!userData.active_glojects) return;\r\n\r\n    let promises = userData.active_glojects?.map((id) => {\r\n      return api.glojects.getById(id);\r\n    });\r\n    Promise.all(promises).then((res) => {\r\n      console.log('res', res);\r\n      setActiveGlojects(\r\n        res.map((g) => {\r\n          return (\r\n            <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n              <b onClick={() => history.push(`/g/${g.id}`)}>{g.title}</b>\r\n            </div>\r\n          );\r\n        })\r\n      );\r\n    });\r\n    promises = userData.past_glojects?.map((id) => {\r\n      return api.glojects.getById(id);\r\n    });\r\n    Promise.all(promises).then((res) => {\r\n      setPastGlojects(\r\n        res.map((g) => {\r\n          return (\r\n            <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n              <b onClick={() => history.push(`/g/${g.id}`)}>{g.title}</b>\r\n            </div>\r\n          );\r\n        })\r\n      );\r\n    });\r\n  }, [userData]);\r\n\r\n  return (\r\n    <div>\r\n      <Container style={{ marginTop: '5%' }}>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            marginBottom: '70px',\r\n          }}\r\n        >\r\n          <Image\r\n            style={{\r\n              objectFit: 'cover',\r\n              height: '150px',\r\n              width: '150px',\r\n              borderRadius: '50%',\r\n            }}\r\n            src={userData.image}\r\n          />\r\n          <div style={{ marginLeft: '50px' }}>\r\n            <Header style={{ fontSize: '40px' }}>{userData.username}</Header>\r\n            <Header>&#x1f4e7;: {userData.email}</Header>\r\n          </div>\r\n        </div>\r\n        <Header>About me</Header>\r\n        Lorem Ipsum is simply dummy text of the printing and typesetting\r\n        industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n        since the 1500s, when an unknown printer took a galley of type and\r\n        scrambled it to make a type specimen book. It has survived not only five\r\n        centuries, but also the leap into electronic typesetting, remaining\r\n        essentially unchanged. It was popularised in the 1960s with the release\r\n        of Letraset sheets containing Lorem Ipsum passages, and more recently\r\n        with desktop publishing software like Aldus PageMaker including versions\r\n        of Lorem Ipsum.\r\n        <div\r\n          style={{\r\n            marginTop: '50px',\r\n            display: 'flex',\r\n          }}\r\n        >\r\n          <div style={{ flex: 1, display: 'block' }}>\r\n            <Header>Active Glojects</Header>\r\n            {activeGlojects}\r\n          </div>\r\n          <div style={{ flex: 1, display: 'block' }}>\r\n            <Header>Past Glojects</Header>\r\n            {pastGlojects}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n\r\n  // const history = useHistory();\r\n  // return (\r\n  //   <div>\r\n  //     Landing page\r\n  //     <button onClick={() => history.push('/signup')}>Go to sign up</button>\r\n  //   </div>\r\n  // );\r\n};\r\n\r\nexport default UserProfilePage;\r\n","import React from 'react';\r\nimport { Button, Modal, Input, Header } from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\n\r\nexport default function LoginModal(props) {\r\n  const { loginOpen, setLoginOpen, loggedIn, setLoggedIn } = props;\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const handleLogin = () => {\r\n    login(email, password).then(() => {\r\n      setLoggedIn(true);\r\n      setLoginOpen(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={loginOpen}\r\n      onClose={() => setLoginOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1, display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Header as=\"h1\" textAlign=\"center\">\r\n        Login to Gl<span>&#x1f30e;</span>jects now!\r\n      </Header>\r\n      <Modal.Content>\r\n        <div style={{ margin: 10, marginRight: 40, marginLeft: 40 }}>\r\n          <Header as=\"h3\" style={{ color: 'white' }}>\r\n            Email\r\n          </Header>\r\n          <Input\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            placeholder=\"john_smith@email.com\"\r\n            fluid\r\n            required\r\n            autoFocus\r\n            transparent\r\n            style={{ borderBottom: '1px solid grey' }}\r\n          />\r\n          <Header as=\"h3\" style={{ color: 'white' }}>\r\n            Password\r\n          </Header>\r\n          <Input\r\n            onChange={(event) => setPassword(event.target.value)}\r\n            placeholder=\"*******\"\r\n            fluid\r\n            required\r\n            autoFocus\r\n            transparent\r\n            style={{ borderBottom: '1px solid grey' }}\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          inverted\r\n          style={{ margin: 'auto', display: 'flex', justifyContent: 'center' }}\r\n          onClick={() => handleLogin()}\r\n        >\r\n          Log in\r\n        </Button>\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Modal, Container, Image, Header } from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport api from '../../api';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\n\r\nexport default function ProfileModal(props) {\r\n  const {\r\n    profileOpen,\r\n    setProfileOpen,\r\n    profileId,\r\n    setGlojectId,\r\n    setGlojectOpen,\r\n  } = props;\r\n\r\n  //const { uid } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [userData, setUserData] = useState({\r\n    active_glojects: [],\r\n    past_glojects: [],\r\n  });\r\n  const [activeGlojects, setActiveGlojects] = useState([]);\r\n  const [pastGlojects, setPastGlojects] = useState([]);\r\n\r\n  const handleGlobjectClick = (globId) => {\r\n    setProfileOpen(false);\r\n    setGlojectId(globId);\r\n    setGlojectOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getUserData = async () => {\r\n      const userData = await api.users.getById(profileId);\r\n      setUserData(userData);\r\n    };\r\n    getUserData();\r\n  }, [profileId, profileOpen]);\r\n\r\n  useEffect(() => {\r\n    if (!userData.active_glojects) return;\r\n\r\n    let promises = userData.active_glojects?.map((id) => {\r\n      return api.glojects.getById(id);\r\n    });\r\n    Promise.all(promises).then((res) => {\r\n      setActiveGlojects(\r\n        res.map((g) => {\r\n          return (\r\n            <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n              <b onClick={() => handleGlobjectClick(g.id)}>{g.title}</b>\r\n            </div>\r\n          );\r\n        })\r\n      );\r\n    });\r\n    promises = userData.past_glojects?.map((id) => {\r\n      return api.glojects.getById(id);\r\n    });\r\n    Promise.all(promises).then((res) => {\r\n      setPastGlojects(\r\n        res.map((g) => {\r\n          return (\r\n            <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n              <b onClick={() => handleGlobjectClick(g.id)}>{g.title}</b>\r\n            </div>\r\n          );\r\n        })\r\n      );\r\n    });\r\n  }, [userData, profileOpen]);\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={profileOpen}\r\n      onClose={() => setProfileOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1 }}\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <div>\r\n        <Container style={{ marginTop: '5%' }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              marginBottom: '70px',\r\n            }}\r\n          >\r\n            <Image\r\n              style={{\r\n                objectFit: 'cover',\r\n                height: '150px',\r\n                width: '150px',\r\n                borderRadius: '50%',\r\n              }}\r\n              src={userData.image}\r\n            />\r\n            <div style={{ marginLeft: '50px' }}>\r\n              <Header style={{ fontSize: '40px', color: 'white' }}>\r\n                {userData.username}\r\n              </Header>\r\n              <Header style={{ color: 'white' }}>\r\n                &#x1f4e7;: {userData.email}\r\n              </Header>\r\n            </div>\r\n          </div>\r\n          <Header style={{ color: 'white' }}>About me</Header>\r\n          Lorem Ipsum is simply dummy text of the printing and typesetting\r\n          industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n          since the 1500s, when an unknown printer took a galley of type and\r\n          scrambled it to make a type specimen book. It has survived not only\r\n          five centuries, but also the leap into electronic typesetting,\r\n          remaining essentially unchanged. It was popularised in the 1960s with\r\n          the release of Letraset sheets containing Lorem Ipsum passages, and\r\n          more recently with desktop publishing software like Aldus PageMaker\r\n          including versions of Lorem Ipsum.\r\n          <div\r\n            style={{\r\n              marginTop: '50px',\r\n              display: 'flex',\r\n            }}\r\n          >\r\n            <div style={{ flex: 1, display: 'block' }}>\r\n              <Header style={{ color: 'white' }}>Active Glojects</Header>\r\n              {activeGlojects}\r\n            </div>\r\n            <div style={{ flex: 1, display: 'block' }}>\r\n              <Header style={{ color: 'white' }}>Past Glojects</Header>\r\n              {pastGlojects}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Label,\r\n  Grid,\r\n  Container,\r\n  Image,\r\n  Header,\r\n  Modal,\r\n} from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport api from '../../api';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport GlobjectCard from '../common/GlojectCard';\r\nimport GlojectTeam from './GlojectTeam';\r\n\r\nexport default function GlojectModal(props) {\r\n  const {\r\n    glojectId,\r\n    glojectOpen,\r\n    setGlojectOpen,\r\n    setProfileId,\r\n    setProfileOpen,\r\n  } = props;\r\n\r\n  const [glojectData, setGlojectData] = useState({});\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setGlojectData(glojectData);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={glojectOpen}\r\n      onClose={() => setGlojectOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1 }}\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Container>\r\n        <Image\r\n          style={{ objectFit: 'cover', maxHeight: 100, marginBottom: '1em' }}\r\n          fluid\r\n          src={glojectData.image}\r\n        />\r\n        <Header style={{ color: 'white' }} size=\"huge\">\r\n          {glojectData.title}\r\n        </Header>\r\n        <Label.Group tag style={{ marginBottom: '2em' }}>\r\n          {glojectData.tags?.map((tag) => (\r\n            <Label key={tag}>{tag}</Label>\r\n          ))}\r\n        </Label.Group>\r\n        <Grid columns=\"equal\">\r\n          <Grid.Column width={10}>\r\n            {glojectData.description?.split('\\n').map((p, i) => (\r\n              <p key={i}>{p}</p>\r\n            ))}\r\n          </Grid.Column>\r\n\r\n          <Grid.Column>\r\n            <GlojectTeam\r\n              glojectData={glojectData}\r\n              setGlojectData={setGlojectData}\r\n              setProfileId={setProfileId}\r\n              setProfileOpen={setProfileOpen}\r\n              setGlojectOpen={setGlojectOpen}\r\n            />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Container>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { Component, useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Avatar from '../avatar/Avatar';\r\nimport { Menu, Segment, Header, Button } from 'semantic-ui-react';\r\nimport { logout } from '../../firebase/auth';\r\nimport SignupModal from '../signupPage/SignupModal';\r\nimport LoginModal from '../signupPage/LoginModal';\r\nimport ProfileModal from '../userProfilePage/ProfileModal';\r\nimport GlojectModal from '../glojectPage.jsx/GlojectModal';\r\n\r\nconst StyledNav = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  // align-items: center;\r\n  // padding: 10px;\r\n  position: absolute;\r\n  top: 1vh;\r\n  // margin: 10px;\r\n  margin-right: 1vw;\r\n  margin-left: 1vw;\r\n  width: 100%;\r\n`;\r\n\r\nconst LeftDiv = styled.div``;\r\nconst RightDiv = styled.div`\r\n  display: flex;\r\n  // justify-content: center;\r\n  // padding: 10px;\r\n  // margin: 10px;\r\n  padding-left: 1vw;\r\n  padding-right: 1vw;\r\n  width: 300px;\r\n  // background-color: green;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst NavBar = (props) => {\r\n  const [activeItem, setActiveItem] = useState('home');\r\n  const [logggedIn, setLoggedIn] = useState(false);\r\n  const [buttons, setButtons] = useState('');\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n  const [loginOpen, setLoginOpen] = useState(false);\r\n  const [userId, setUserId] = useState(localStorage.getItem('id'));\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [profileId, setProfileId] = useState('');\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = useState(false);\r\n  const [glojectId, setGlojectId] = useState('');\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const pathname = window.location.pathname;\r\n    console.log(pathname);\r\n    console.log(logggedIn, userId);\r\n    if (logggedIn || userId !== null) {\r\n      console.log(logggedIn, userId);\r\n      setButtons(\r\n        <RightDiv>\r\n          <Avatar\r\n            style={{ margin: '10px' }}\r\n            profileId={userId}\r\n            setProfileId={setProfileId}\r\n            setProfileOpen={setProfileOpen}\r\n            setGlojectOpen={setGlojectOpen}\r\n          />\r\n          <Button\r\n            name=\"sign out\"\r\n            inverted\r\n            onClick={handleLogout}\r\n            style={{ margin: '10px' }}\r\n          >\r\n            Sign Out\r\n          </Button>\r\n        </RightDiv>\r\n      );\r\n    } else {\r\n      setButtons(\r\n        <RightDiv>\r\n          <Button\r\n            name=\"sign in\"\r\n            style={{ margin: '5px' }}\r\n            inverted\r\n            onClick={() => setLoginOpen(true)}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Button\r\n            name=\"register\"\r\n            style={{ margin: '5px' }}\r\n            inverted\r\n            onClick={() => setSignupOpen(true)}\r\n          >\r\n            Register\r\n          </Button>\r\n        </RightDiv>\r\n      );\r\n    }\r\n  }, [logggedIn, userId]);\r\n  return (\r\n    <StyledNav>\r\n      {/* <LeftDiv> */}\r\n        <Header as=\"h1\" style={{ color: 'white' }}>\r\n          Gl<span>&#x1f30e;</span>jects\r\n        </Header>\r\n      {/* </LeftDiv> */}\r\n      <RightDiv>\r\n        {buttons}\r\n        <SignupModal\r\n          signupOpen={signupOpen}\r\n          setSignupOpen={setSignupOpen}\r\n          logggedIn={logggedIn}\r\n          setLoggedIn={setLoggedIn}\r\n        ></SignupModal>\r\n        <LoginModal\r\n          loginOpen={loginOpen}\r\n          setLoginOpen={setLoginOpen}\r\n          logggedIn={logggedIn}\r\n          setLoggedIn={setLoggedIn}\r\n        ></LoginModal>\r\n        <ProfileModal\r\n          profileOpen={profileOpen}\r\n          profileId={profileId}\r\n          setProfileOpen={setProfileOpen}\r\n          setGlojectId={setGlojectId}\r\n          setGlojectOpen={setGlojectOpen}\r\n        ></ProfileModal>\r\n        <GlojectModal\r\n          glojectId={glojectId}\r\n          setGlojectOpen={setGlojectOpen}\r\n          glojectOpen={glojectOpen}\r\n          setProfileId={setProfileId}\r\n          setProfileOpen={setProfileOpen}\r\n        ></GlojectModal>\r\n      </RightDiv>\r\n    </StyledNav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button, Container, Form, Header, Message, Radio } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { fileToDataUrl, redirect } from '../../helpers';\r\n\r\nconst NewGlojectPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  // const [dueDate, setDueDate] = useState(null); // Due date gives time pressure - not rly a good thing? Make people learn and do stuff at their own pace\r\n  const [tags, setTags] = useState('');\r\n  const [difficulty, setDifficulty] = useState('EASY');\r\n  // const [language, setLanguage] = useState('English'); // I think we shouldn't do language because it creates a barrier of entry - better to force everyoen to use English?\r\n  const [maxTeamSize, setMaxTeamSize] = useState(6);\r\n  const [image, setImage] = useState('');\r\n  const [location, setLocation] = useState({longitude: 0, latitude: 0}); // TODO: find current location\r\n  const owner = \"9cT8BRyqvf9I8l9EPB6i\"; // TODO: find get current user\r\n  // const owner = api.users.getCurrentUserId();\r\n\r\n  const team = [];\r\n  const status = \"ACTIVE\"\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  const convertAndSetImage = async (file) => {\r\n    try {\r\n      const dataUrl = await fileToDataUrl(file);\r\n      setImage(dataUrl);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const extractTags = (tagsString) => [...new Set(tagsString\r\n    .split(',')\r\n    .map((tag) => tag.trim())\r\n    .filter((tag) => !!tag))];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '') {\r\n      setErrorMsg('Title must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (description === '') {\r\n      setErrorMsg('Description must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const res = await api.glojects.create({\r\n      title, description, difficulty, owner, team, status, image, maxTeamSize, location,\r\n      tags: extractTags(tags),\r\n    })\r\n    setLoading(false);\r\n\r\n    redirect(`/g/${res.id}`);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header size='huge' content=\"Make a new Gloject\"/>\r\n      <Form loading={loading}  error={error} onSubmit={handleSubmit}>\r\n        <Message error content={errorMsg} />\r\n        <Form.Input\r\n          name='glojectTitle'\r\n          label='Title'\r\n          placeholder='Title'\r\n          id='Title'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <Form.TextArea\r\n          name='glojectDescription'\r\n          label='Description'\r\n          placeholder='Description'\r\n          id='Description'\r\n          value={description}\r\n          style={{ minHeight: 100 }}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            icon='group'\r\n            iconPosition='left'\r\n            label='Maximum Team Size (including you)'\r\n            placeholder='Maximum Team Size'\r\n            type='number'\r\n            value={maxTeamSize}\r\n            onChange={(e) => setMaxTeamSize(parseInt(e.target.value, 10) >= 2 ? e.target.value : 2)}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Cover photo'\r\n            type='file'\r\n            accept='image/png, image/jpeg, image/jpg'\r\n            onChange={(e) => convertAndSetImage(e.target.files[0])}\r\n          />\r\n        </Form.Group>\r\n\r\n        <label>Location Coordinates</label>\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            label='Longitude'\r\n            placeholder='longitude'\r\n            value={location.longitude}\r\n            onChange={(e) => setLocation({longitude: e.target.value, latitude: location.latitude})}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Latitude'\r\n            placeholder='latitude'\r\n            value={location.latitude}\r\n            onChange={(e) => setLocation({longitude: location.longitude, latitude: e.target.value})}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Field>\r\n          <label>Difficulty Level</label>\r\n          <Form.Group inline>\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Easy'\r\n              value='EASY'\r\n              checked={difficulty === 'EASY'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Medium'\r\n              value='MEDIUM'\r\n              checked={difficulty === 'MEDIUM'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Hard'\r\n              value='HARD'\r\n              checked={difficulty === 'HARD'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Field>\r\n        <Form.Input\r\n          name='glojectTags'\r\n          label='Tags'\r\n          placeholder='Tag (comma separated)'\r\n          id='Tags'\r\n          value={tags}\r\n          onChange={(e) => {setTags(e.target.value)}}\r\n        />\r\n\r\n        <Button primary type='submit' content='Create Gloject' />\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewGlojectPage;\r\n","export default __webpack_public_path__ + \"static/media/8k.c6149084.jpeg\";","/* Helper functions to filter and return new list of markers based on \r\ncertain criteria as well as functions to add or delete projects, etc*/\r\n\r\n// Given an array of objects, a text field and a value, returns a filtered\r\n// array containing only objects matching the criteria\r\nexport const filterByExactField = (projects, field, value) => {\r\n  console.log('Filtering projects', projects);\r\n  const newProjects = projects.filter((obj) => obj[field] === value);\r\n  return newProjects;\r\n};\r\n\r\n// Given a project and the list of projects, adds it to the list of existing projects\r\nexport const addProject = (projects, p) => {\r\n  const newProjects = [...projects];\r\n  newProjects.push(p);\r\n  return newProjects;\r\n};\r\n\r\n// Given a project id and the list of projects, removes it from the list and returns\r\nexport const removeProject = (projects, pId) => {\r\n  const newProjects = projects.filter((obj) => obj.id !== pId);\r\n  return newProjects;\r\n};\r\n\r\n// Given a scraped gloject, converts it into a gloject object\r\nexport const scrapeToGlojectObj = (value) => {\r\n  const gloject = {\r\n    id: value.id,\r\n    title: value.title,\r\n    description: value.description,\r\n    difficulty: value.difficulty,\r\n    coordinates: [value.location.latitude, value.location.longitude],\r\n    team: value.team,\r\n    tags: value.tags,\r\n    owner: value.owner,\r\n    maxTeamSize: value.maxTeamSize,\r\n    value: 25,\r\n    image: value.image,\r\n  };\r\n\r\n  if (gloject.difficulty === 'EASY') {\r\n    gloject['color'] = '#90ee90';\r\n  } else if (gloject.difficulty === 'MEDIUM') {\r\n    gloject['color'] = '#fce37f';\r\n  } else if (gloject.difficulty === 'HARD') {\r\n    gloject['color'] = '#ff7272';\r\n  }\r\n\r\n  return gloject;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Dropdown } from 'semantic-ui-react';\r\nimport { scrapeToGlojectObj } from '../WorldUtil/projectsUtil';\r\nimport api from '../../api';\r\n\r\nconst ToggleExperienceBtn = ({ updateGlojects }) => {\r\n  const [state, setState] = useState('ALL');\r\n  const [tags, setTags] = useState([]);\r\n  const [allTags, setAllTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const allTags = await api.glojects.getAllTags();\r\n      setAllTags(allTags.map((tag) => ({ key: tag, text: tag, value: tag })));\r\n    };\r\n    ue();\r\n  }, []);\r\n\r\n  const getNextState = () => {\r\n    if (state === 'ALL') {\r\n      return 'EASY';\r\n    } else if (state === 'EASY') {\r\n      return 'MEDIUM';\r\n    } else if (state === 'MEDIUM') {\r\n      return 'HARD';\r\n    } else if (state === 'HARD') {\r\n      return 'ALL';\r\n    }\r\n  };\r\n\r\n  const onExperienceClick = () => {\r\n    let mode = getNextState();\r\n    setState(mode);\r\n\r\n    let difficulty = mode;\r\n    if (difficulty === 'ALL') {\r\n      difficulty = '';\r\n    }\r\n\r\n    filterGlojects(difficulty);\r\n  };\r\n\r\n  const onTagClick = () => {\r\n    let difficulty = state;\r\n    if (difficulty === 'ALL') {\r\n      difficulty = '';\r\n    }\r\n    filterGlojects(difficulty);\r\n  };\r\n\r\n  const filterGlojects = (difficulty) => {\r\n    api.glojects.getAllFilters({ difficulty, tags }).then((res) => {\r\n      const newGlojects = [];\r\n      res.forEach((value) => {\r\n        newGlojects.push(scrapeToGlojectObj(value));\r\n      });\r\n\r\n      updateGlojects(newGlojects);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {state === 'ALL' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleALL}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'EASY' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleEASY}\r\n        >\r\n          {' '}\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'MEDIUM' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleMEDIUM}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'HARD' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleHARD}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {/* <Button inverted onClick={onExperienceClick} style={experienceBtnStyle}>\r\n                Difficulty: {state}\r\n            </Button> */}\r\n\r\n      <div style={filterTagStyle}>\r\n        <Dropdown\r\n          inverted\r\n          placeholder=\"Add tags\"\r\n          multiple\r\n          search\r\n          selection\r\n          options={allTags}\r\n          onChange={(e, { value }) => setTags(value)}\r\n        ></Dropdown>\r\n        <Button\r\n          style={{ marginLeft: '20px' }}\r\n          inverted\r\n          content=\"Filter\"\r\n          onClick={onTagClick}\r\n        ></Button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToggleExperienceBtn;\r\n\r\nlet experienceBtnStyleALL = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: 'white',\r\n};\r\n\r\nlet experienceBtnStyleEASY = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#90ee90',\r\n};\r\n\r\nlet experienceBtnStyleMEDIUM = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#fce37f',\r\n};\r\n\r\nlet experienceBtnStyleHARD = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#ff7272',\r\n};\r\n\r\nconst filterTagStyle = {\r\n  position: 'absolute',\r\n  bottom: '2vh',\r\n  left: '1vw',\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst RandomGlojectBtn = ({glojects, updateFocus}) => {\r\n    const randomGlojectCoordinates = () => {\r\n        const index = Math.floor(Math.random() * glojects.length);\r\n\r\n        const coordinates = [glojects[index].coordinates[0], glojects[index].coordinates[1]];\r\n        updateFocus(coordinates);\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            style={buttonStyle}\r\n            inverted\r\n            onClick={randomGlojectCoordinates}\r\n        >\r\n            Random Gloject    \r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default RandomGlojectBtn;\r\n\r\nconst buttonStyle = {\r\n    position: \"absolute\",\r\n    bottom: \"2vh\",\r\n    right: \"1vw\"\r\n}","import React, { useState, useEffect } from 'react';\r\nimport ReactGlobe, { defaultDotMarkerOptions } from 'react-globe';\r\nimport texture from './8k.jpeg';\r\n\r\nimport api from '../api';\r\n\r\nimport ToggleExperienceBtn from './ui/toggleExperienceBtn';\r\nimport { zoomToMarker } from './WorldUtil/cameraAnimations';\r\nimport { scrapeToGlojectObj } from './WorldUtil/projectsUtil';\r\nimport RandomGlojectBtn from './ui/RandomGlojectBtn';\r\n\r\nimport GlobjectCard from '../components/common/GlojectCard';\r\n\r\n// const sampleData = [...Array(25).keys()].map(() => ({\r\n//     projectName: \"Project Name\",\r\n//     difficulty: [\"Easy\", \"Medium\", \"Hard\"][Math.round(Math.random() * 2)],\r\n//     coordinates: [(Math.random() - 0.5) * 180, (Math.random() - 0.5) * 360],\r\n//     value: 25,\r\n// }));\r\n\r\n// sampleData.forEach((marker, index) => {\r\n//     marker['id'] = index.toString();\r\n//     if (marker.difficulty === \"Easy\") {\r\n//         marker['color'] = 'green';\r\n//     } else if (marker.difficulty === \"Medium\") {\r\n//         marker['color'] = 'blue';\r\n//     } else if (marker.difficulty === \"Hard\") {\r\n//         marker['color'] = 'red';\r\n//     }\r\n// })\r\n\r\n// console.log(sampleData);\r\n\r\nconst initOptions = {\r\n  enableMarkerGlow: true,\r\n  markerGlowCoefficient: 1,\r\n  markerGlowPower: 1,\r\n  markerGlowRadiusScale: 0.6,\r\n\r\n  markerRadiusScaleRange: [0.005, 0.02],\r\n  markerType: 'dot', // dot | bar\r\n  enableMarkerToolTip: true,\r\n  // markerEnterAnimationDuration: 3000,\r\n  // markerEnterEasingFunction: ['Bounce', 'InOut'],\r\n  // markerExitEasingFunction: ['Cubic', 'Out'],\r\n  markerTooltipRenderer: (marker) => `${marker.title}`,\r\n  // markerRadiusScaleRange: [0.01, 0.05],\r\n\r\n  // cameraAutoRotateSpeed: 0.5,\r\n\r\n  focusAnimationDuration: 2000,\r\n  focusDistanceRadiusScale: 1.5,\r\n  cameraRotateSpeed: 0.5,\r\n  focusEasingFunction: ['Linear', 'None'],\r\n  enableDefocus: true,\r\n};\r\n\r\nconst World = () => {\r\n  const [glojects, setGlojects] = useState([]);\r\n  const [focus, setFocus] = useState(null);\r\n  const [open, setOpen] = useState(true);\r\n  const [options, setOptions] = useState(initOptions);\r\n  const [hover, setHover] = useState(false);\r\n\r\n  const [cardSrc, setCardSrc] = useState('');\r\n  const [cardTitle, setCardTitle] = useState('');\r\n  const [cardTags, setCardTags] = useState([]);\r\n  const [cardDescription, setCardDescription] = useState('');\r\n  const [cardOwner, setCardOwner] = useState('');\r\n\r\n  const initZoom = () => {\r\n    // const newOptions = {...options};\r\n    // newOptions.cameraAutoRotateSpeed = 0.1;\r\n    window.removeEventListener('keydown', initZoom, true);\r\n    window.removeEventListener('click', initZoom, true);\r\n    setFocus([-33, 151]);\r\n    setOpen(false);\r\n    // setOptions(newOptions);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', initZoom, true);\r\n    window.addEventListener('click', initZoom, true);\r\n\r\n    api.glojects.getAllActives().then((res) => {\r\n      const newGlojects = [];\r\n      res.forEach((value, index) => {\r\n        newGlojects.push(scrapeToGlojectObj(value));\r\n      });\r\n\r\n      console.log('New glojects are ', newGlojects);\r\n      setGlojects(newGlojects);\r\n    });\r\n  }, []);\r\n\r\n\r\n  const onClick = (obj) => {\r\n    zoomToMarker(updateFocus, obj);\r\n    setCardSrc(obj.image);\r\n    setCardTitle(obj.title);\r\n    setCardTags(obj.tags);\r\n    setCardDescription(obj.description);\r\n    setCardOwner(obj.owner);\r\n    setHover(true);\r\n  };\r\n\r\n  const onDefocus = () => {\r\n    setHover(false);\r\n  };\r\n\r\n  const updateGlojects = (newGlojects) => {\r\n    setGlojects(newGlojects);\r\n  };\r\n\r\n  const updateFocus = (coordinates) => {\r\n    setFocus(coordinates);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {console.log('In world')}\r\n      {open ? (\r\n        <div style={startModalStyle}>\r\n          <div style={upperText} />\r\n          <div style={middleText}>\r\n            <div style={left}>\r\n                G<span style={{letterSpacing: 0}}>L</span>\r\n            </div>\r\n            <div style={middle}/>\r\n            <div style={right}>JECTS</div>\r\n          </div>\r\n          <div style={lowerText}>Press any key to continue</div>\r\n        </div>\r\n      ) : null}\r\n      {!open ? <RandomGlojectBtn glojects={glojects} updateFocus={updateFocus} /> : null}\r\n      {!open ? <ToggleExperienceBtn updateGlojects={updateGlojects}/> : null}\r\n      {hover ? (\r\n        <div style={cardStyle}>\r\n          <GlobjectCard\r\n            src={cardSrc}\r\n            title={cardTitle}\r\n            tags={cardTags}\r\n            description={cardDescription}\r\n            owner={cardOwner}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      <ReactGlobe\r\n        globeTexture={texture}\r\n        focus={focus}\r\n        height=\"100vh\"\r\n        width=\"100wh\"\r\n        markers={glojects}\r\n        options={options}\r\n        onClickMarker={onClick}\r\n        onDefocus={onDefocus}\r\n        initialCameraDistanceRadiusScale={25}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default World;\r\n\r\nconst cardStyle = {\r\n  position: 'fixed',\r\n  right: '10%',\r\n  top: '35%',\r\n};\r\n\r\nconst startModalStyle = {\r\n  width: '100%',\r\n  height: '100%',\r\n  position: 'fixed',\r\n  backgroundColor: 'rgba(0, 0, 0, 0)',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  color: 'white',\r\n  justifyContent: 'center',\r\n\r\n  pointEvents: 'none',\r\n};\r\n\r\nconst upperText = {\r\n  flex: 4,\r\n  // border: \"5px solid red\",\r\n  // backgroundColor: \"red\",\r\n  // fontSize: \"50px\"\r\n};\r\n\r\nconst middleText = {\r\n    flex: 3,\r\n    // backgroundColor: \"green\"\r\n    // border: \"5px solid green\",\r\n    fontSize: \"8vw\",\r\n    fontWeight: \"bold\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    letterSpacing: \"2vw\",\r\n    // marginLeft: \"20vw\",\r\n    // paddingLeft: \"18%\"\r\n}\r\n\r\nconst left = {\r\n    flex: 4,\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    // border: \"2px solid purple\",\r\n    alignItems: \"flex-end\",\r\n    justifyContent: \"flex-end\",\r\n}\r\n\r\nconst middle = {\r\n  flex: 1,\r\n  // border: \"2px solid white\",\r\n};\r\n\r\nconst right = {\r\n  flex: 4,\r\n  // border: \"2px solid orange\",\r\n  alignItems: 'flex-start',\r\n};\r\n\r\nconst lowerText = {\r\n  flex: 4,\r\n  // border: \"5px solid yellow\",\r\n  textAlign: 'center',\r\n  // backgroundColor: \"yellow\"\r\n};\r\n","/* Animation helpers, including zooming around the globe to your points*/\r\n\r\n// Given a marker, sets the focus to that marker, updating the state\r\nexport const zoomToMarker = (setFocus, m) => {\r\n    console.log(\"Setting focus to marker\", m);\r\n    setFocus([m.coordinates[0], m.coordinates[1]]);\r\n}","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Dropdown, Header, Input, Radio, Segment } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nconst ApiPage = () => {\r\n\r\n  const [glojectId, setGlojectId] = useState('VtXT4nokLsKbt3penPpx');\r\n  const [difficulty, setDifficulty] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const [allTags, setAllTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const allTags = await api.glojects.getAllTags();\r\n      setAllTags(allTags.map((tag) => ({key: tag, text: tag, value: tag})));\r\n    };\r\n    ue();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        API Implementation - check console\r\n      </Header>\r\n      <Segment>\r\n        <Button\r\n          content=\"Get all glojects\"\r\n          onClick={() => api.glojects.getAll().then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Button\r\n          content=\"Get all active glojects\"\r\n          onClick={() => api.glojects.getAllActives().then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Input\r\n          placeholder='glojectId'\r\n          id='glojectId'\r\n          value={glojectId}\r\n          onChange={(e) => setGlojectId(e.target.value)}\r\n        />\r\n        <Button\r\n          content=\"Get gloject by id\"\r\n          onClick={() => api.glojects.getById(glojectId).then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Radio\r\n          label='None'\r\n          value=''\r\n          checked={difficulty === ''}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Easy'\r\n          value='EASY'\r\n          checked={difficulty === 'EASY'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Medium'\r\n          value='MEDIUM'\r\n          checked={difficulty === 'MEDIUM'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Hard'\r\n          value='HARD'\r\n          checked={difficulty === 'HARD'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n\r\n        <Dropdown\r\n          placeholder='Tags'\r\n          multiple\r\n          search\r\n          selection\r\n          options={allTags}\r\n          onChange={(e, {value}) => setTags(value)}\r\n        />\r\n        <Button\r\n          content=\"Get gloject meeting filters\"\r\n          onClick={() => api.glojects.getAllFilters({difficulty, tags}).then((res) => console.log(res + \" difficulty was \" + difficulty + \"!!!\"))}\r\n        />\r\n      </Segment>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ApiPage;","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Form, Header, Message, Popup, Radio } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { fileToDataUrl, redirect } from '../../helpers';\r\n\r\nconst EditGlojectPage = (props) => {\r\n  const { glojectId } = props.match.params;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  // const [dueDate, setDueDate] = useState(null); // Due date gives time pressure - not rly a good thing? Make people learn and do stuff at their own pace\r\n  const [tags, setTags] = useState('');\r\n  const [difficulty, setDifficulty] = useState('EASY');\r\n  // const [language, setLanguage] = useState('English'); // I think we shouldn't do language because it creates a barrier of entry - better to force everyoen to use English?\r\n  const [maxTeamSize, setMaxTeamSize] = useState(6);\r\n  const [image, setImage] = useState('');\r\n  const [location, setLocation] = useState({longitude: 0, latitude: 0});\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setTitle(glojectData.title);\r\n      setDescription(glojectData.description);\r\n      setTags(glojectData.tags.join(', '));\r\n      setDifficulty(glojectData.difficulty);\r\n      setMaxTeamSize(parseInt(glojectData.maxTeamSize, 10));\r\n      setImage(glojectData.image);\r\n      setLocation(glojectData.location);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  const convertAndSetImage = async (file) => {\r\n    try {\r\n      const dataUrl = await fileToDataUrl(file);\r\n      setImage(dataUrl);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const extractTags = (tagsString) => [...new Set(tagsString\r\n    .split(',')\r\n    .map((tag) => tag.trim())\r\n    .filter((tag) => !!tag))];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '') {\r\n      setErrorMsg('Title must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (description === '') {\r\n      setErrorMsg('Description must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (maxTeamSize === '' || maxTeamSize < 2) {\r\n      setErrorMsg('Maximum team size must be an integer greater than or equal to 2');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    await api.glojects.update(glojectId, {\r\n      title, description, difficulty, image, maxTeamSize, location,\r\n      tags: extractTags(tags),\r\n    })\r\n    setLoading(false);\r\n\r\n    redirect(`/g/${glojectId}`);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header size='huge' content=\"Edit Gloject\"/>\r\n\r\n      <Button content='Mark as complete' positive onClick={(e) => {\r\n        e.preventDefault();\r\n        api.glojects.update({status: 'COMPLETED'});\r\n        redirect(\"/\");\r\n      }}/>\r\n      <Button content='Delete' negative onClick={(e) => {\r\n        e.preventDefault();\r\n        api.glojects.update({status: 'ARCHIVED'});\r\n        redirect(\"/\");\r\n      }}/>\r\n\r\n      <Form loading={loading} error={error} onSubmit={handleSubmit}>\r\n        <Message error content={errorMsg} />\r\n        <Form.Input\r\n          name='glojectTitle'\r\n          label='Title'\r\n          placeholder='Title'\r\n          id='Title'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <Form.TextArea\r\n          name='glojectDescription'\r\n          label='Description'\r\n          placeholder='Description'\r\n          id='Description'\r\n          value={description}\r\n          style={{ minHeight: 100 }}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            icon='group'\r\n            iconPosition='left'\r\n            label='Maximum Team Size (including you)'\r\n            placeholder='Maximum Team Size'\r\n            type='number'\r\n            value={maxTeamSize}\r\n            onChange={(e) => setMaxTeamSize(parseInt(e.target.value, 10) >= 2 ? e.target.value : 2)}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Cover photo'\r\n            type='file'\r\n            accept='image/png, image/jpeg, image/jpg'\r\n            onChange={(e) => convertAndSetImage(e.target.files[0])}\r\n          />\r\n        </Form.Group>\r\n\r\n        <label>Location Coordinates</label>\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            label='Longitude'\r\n            placeholder='longitude'\r\n            value={location.longitude}\r\n            onChange={(e) => setLocation({longitude: e.target.value, latitude: location.latitude})}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Latitude'\r\n            placeholder='latitude'\r\n            value={location.latitude}\r\n            onChange={(e) => setLocation({longitude: location.longitude, latitude: e.target.value})}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Field>\r\n          <label>Difficulty Level</label>\r\n          <Form.Group inline>\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Easy'\r\n              value='EASY'\r\n              checked={difficulty === 'EASY'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Medium'\r\n              value='MEDIUM'\r\n              checked={difficulty === 'MEDIUM'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Hard'\r\n              value='HARD'\r\n              checked={difficulty === 'HARD'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Field>\r\n        <Form.Input\r\n          name='glojectTags'\r\n          label='Tags'\r\n          placeholder='Tag (comma separated)'\r\n          id='Tags'\r\n          value={tags}\r\n          onChange={(e) => {setTags(e.target.value)}}\r\n        />\r\n\r\n        <Button primary type='submit' content='Save Gloject' />\r\n        <Button content='Cancel' onClick={(e) => redirect(`/g/${glojectId}`)}/>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditGlojectPage;\r\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\nimport SignupPage from './components/signupPage/SignupPage';\r\nimport GlojectPage from './components/glojectPage.jsx/GlojectPage';\r\nimport UserProfilePage from './components/userProfilePage/UserProfilePage';\r\nimport NavBar from './components/common/NavBar';\r\nimport NewGlojectPage from './components/newGlojectPage/NewGlojectPage';\r\nimport World from './components/World';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport ApiPage from './components/apiPage/ApiPage';\r\nimport EditGlojectPage from './components/editGlojectPage/EditGlojectPage';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <Router>\r\n        <Switch>\r\n          {console.log(\"In router\")}\r\n          <PrivateRoute path={`${process.env.PUBLIC_URL}/signup`} component={SignupPage} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/`} component={World} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/api`} component={ApiPage} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/g/new`} component={NewGlojectPage} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/g/:glojectId`} component={GlojectPage} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/g/:glojectId/edit`} component={EditGlojectPage} />\r\n          <Route exact path={`${process.env.PUBLIC_URL}/u/:uid`} component={UserProfilePage} />\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}