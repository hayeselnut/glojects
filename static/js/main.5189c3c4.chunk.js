(this.webpackJsonpglojects=this.webpackJsonpglojects||[]).push([[0],{191:function(e,t,n){},202:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(76),i=n.n(a),s=(n(191),n(74)),o=n(22),l=n(3),u=function(e){return Object(l.jsx)(o.b,{path:e.path,component:e.component})},j=n(11),d=n(9),p=n.n(d),b=n(15),f=n(230),g=n(235),h=n(228),O=n(225),x=n(206),m=n(101),v=n(64),y=n(8),w=n(50),S=n(168),k=n(145),I=n(111),C=(n(201),{apiKey:"AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4",authDomain:"glojects.firebaseapp.com",projectId:"glojects",storageBucket:"glojects.appspot.com",messagingSenderId:"837750996466",appId:"1:837750996466:web:79dc5e0db7ade834fb3f6b",measurementId:"G-6V45WZLM9W"}),A=function(e){var t=[];return e.forEach((function(e){var n=e.id,c=e.data(),r=Object(k.a)({id:n},c);t.push(r)})),t},E=Object(S.a)("db"),D=new function e(){var t=this;Object(y.a)(this,e),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object(w.a)(this,E)[E]=(0===I.a.apps.length&&I.a.initializeApp(C),I.a.firestore()),this.glojects={getAll:function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("glojects").get();case 2:return n=e.sent,e.abrupt("return",A(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllActives:function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("glojects").where("status","==","ACTIVE").get();case 2:return n=e.sent,e.abrupt("return",A(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(b.a)(p.a.mark((function e(n){var c,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(w.a)(t,E)[E].collection("glojects").doc(n).get();case 4:if((c=e.sent).exists){e.next=7;break}return e.abrupt("return",{});case 7:return r=c.id,a=c.data(),e.abrupt("return",Object(k.a)({id:r},a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllFilters:function(){var e=Object(b.a)(p.a.mark((function e(n){var c,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.difficulty,r=n.tags,e.next=3,t.glojects.getAll();case 3:return a=e.sent,console.log("tags length",r.length),e.abrupt("return",a.filter((function(e){return""===c||e.difficulty===c})).filter((function(e){return!r.length||r.every((function(t){return e.tags.includes(t)}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllTags:function(){var e=Object(b.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getAll();case 2:return n=e.sent,c=Object(v.a)(new Set(n.map((function(e){return e.tags})).flat())),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exists:function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("glojects").add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("glojects").doc(n).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(b.a)(p.a.mark((function e(n,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("glojects").doc(n).update(c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.users={createUser:function(){var e=Object(b.a)(p.a.mark((function e(n,c,r,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,E)[E].collection("users").doc(n).set({username:c,email:r,location:a,active_glojects:[],past_glojects:[],interests:[],image:"https://www.nicepng.com/png/detail/933-9332131_profile-picture-default-png.png"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),getById:function(){var e=Object(b.a)(p.a.mark((function e(n){var c,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(w.a)(t,E)[E].collection("users").doc(n).get();case 4:return c=e.sent,r=c.id,a=c.data(),e.abrupt("return",Object(k.a)({id:r},a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUserId:function(){return I.a.auth().currentUser.id},exists:function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},T=function(){var e=Object(b.a)(p.a.mark((function e(t,n,c,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.auth().createUserWithEmailAndPassword(t,n).then((function(e){var n=e.user;n.sendEmailVerification().then((function(){console.log("Sent verification email")})),D.users.createUser(n.uid,c,t,r)})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1})),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.auth().signInWithEmailAndPassword(t,n).then((function(e){var t=e.user;if(!(null===t||void 0===t?void 0:t.emailVerified))throw new Error("Please verify your email");return console.log("Successfully logged in.",t),localStorage.setItem("id",t.uid),!0})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.auth().signOut().then((function(){localStorage.removeItem("id"),console.log("Logged out!")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(114),n(202);function M(e){var t=e.signupOpen,n=e.setSignupOpen,c=r.a.useState(""),a=Object(j.a)(c,2),i=a[0],s=a[1],o=r.a.useState(""),u=Object(j.a)(o,2),d=u[0],m=u[1],v=r.a.useState(""),y=Object(j.a)(v,2),w=y[0],S=y[1],k=r.a.useState(""),I=Object(j.a)(k,2),C=I[0],A=I[1],E=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(d,C,i,w);case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(f.a,{dimmer:"blurring",open:t,onClose:function(){return n(!1)},basic:!0,size:"tiny",style:{display:"flex",justifyContent:"center"},children:[Object(l.jsxs)(g.a,{as:"h1",textAlign:"center",children:["Become part of Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(l.jsx)(f.a.Content,{children:Object(l.jsx)(h.a,{children:Object(l.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Username"}),Object(l.jsx)(O.a,{onChange:function(e){return s(e.target.value)},placeholder:"xxJohnSmithxx",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey",color:"white"}}),Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(l.jsx)(O.a,{onChange:function(e){return m(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(l.jsx)(O.a,{onChange:function(e){return A(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,type:"password",transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Location"}),Object(l.jsx)(O.a,{onChange:function(e){return S(e.target.value)},placeholder:"Sydney",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}})]})})}),Object(l.jsx)(x.a,{style:{margin:"auto",display:"flex",justifyContent:"center"},inverted:!0,onClick:function(){return E()},children:"Sign up"})]})}var P=function(){var e=Object(o.g)(),t=Object(c.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(l.jsxs)("div",{children:["Sign up page",Object(l.jsx)("button",{onClick:function(){return e.push("/")},children:"Back to landing"}),Object(l.jsx)(M,{signupOpen:r,setSignupOpen:a})]})},B=n(226),F=n(176),z=n(236),R=n(110),H=n(229),U=n(231),_=n(54),q=function(e){var t=e.removeFromTeam,n=e.setProfileOpen,r=e.profileId,a=e.setProfileId,i=e.setGlojectOpen,s=Object(c.useState)({}),o=Object(j.a)(s,2),u=o[0],d=o[1],f=localStorage.getItem("id");Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.users.getById(r);case 2:t=e.sent,console.log("response",t),d(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);return Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("a",{onClick:function(){return a(r),n(!0),i(!1),void console.log(r)},style:{flexGrow:1,alignSelf:"center",color:"white"},children:[Object(l.jsx)(F.a,{src:u.image,avatar:!0,style:{marginRight:"0.5em"}}),Object(l.jsx)("span",{style:{flexGrow:1,width:"200px"},children:"".concat(u.username).concat(r===f?" (You)":"")})]}),t&&Object(l.jsx)(_.a,{fitted:!0,circular:!0,inverted:!0,size:"tiny",color:"grey",name:"minus",style:{cursor:"pointer"},onClick:function(e){return t()}})]})},Y=n.p+"static/media/plus.3b1907cc.svg",V=function(e){var t,n=e.glojectData,r=e.setGlojectData,a=e.setProfileId,i=e.setProfileOpen,s=e.setGlojectOpen,o=Object(c.useState)(!1),u=Object(j.a)(o,2),d=u[0],f=u[1];Object(c.useEffect)((function(){var e,t,c,r;console.log(null===(e=n.team)||void 0===e?void 0:e.includes(h),(null===(t=n.team)||void 0===t?void 0:t.length)<n.maxTeamSize-1),console.log(n),f(!(null===(c=n.team)||void 0===c?void 0:c.includes(h))&&(null===(r=n.team)||void 0===r?void 0:r.length)<n.maxTeamSize-1)}),[n]);var h=localStorage.getItem("id"),O=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.concat(h)},e.next=3,D.glojects.update(n.id,t);case 3:return e.t0=r,e.next=6,D.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.filter((function(e){return e!==h}))},e.next=3,D.glojects.update(n.id,t);case 3:return e.t0=r,e.next=6,D.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(g.a,{size:"tiny",style:{color:"white"},children:"Owner:"}),Object(l.jsx)(q,{profileId:n.owner,setProfileId:a,setProfileOpen:i,setGlojectOpen:s}),Object(l.jsx)(g.a,{size:"tiny",style:{marginTop:"1em",color:"white"},children:"Team members:"}),Object(l.jsxs)(H.a.Group,{as:U.a,duration:200,divided:!0,verticalAlign:"middle",children:[null===(t=n.team)||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)(U.a.Item,{children:Object(l.jsx)(q,{profileId:e,setProfileId:a,setProfileOpen:i,removeFromTeam:x,setGlojectOpen:s})},t)})),d&&Object(l.jsxs)(U.a.Item,{style:{cursor:"pointer"},onClick:function(e){return O()},children:[Object(l.jsx)(F.a,{src:Y,avatar:!0,style:{marginRight:"0.5em"}}),Object(l.jsx)("span",{style:{color:"grey"},children:"Join team"})]})]})]})},J=n(232),N=function(e){return console.log("props",e),Object(l.jsxs)(J.a,{children:[Object(l.jsx)(F.a,{src:e.src,wrapped:!0,ui:!1}),Object(l.jsxs)(J.a.Content,{children:[Object(l.jsx)(J.a.Header,{children:e.title}),Object(l.jsx)(J.a.Meta,{children:Object(l.jsx)("span",{className:"date",children:e.tags&&e.tags.map((function(e){return Object(l.jsx)("span",{children:e})}))})}),Object(l.jsx)(J.a.Description,{children:e.description})]}),Object(l.jsx)(J.a.Content,{extra:!0,children:Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(l.jsx)(q,{profileId:e.owner}),Object(l.jsx)("a",{children:"Read more"})]})})]})};function W(e){if(!["image/jpeg","image/png","image/jpg"].find((function(t){return t===e.type})))throw new Error("provided file is not a png, jpg or jpeg image.");var t=new FileReader,n=new Promise((function(e,n){t.onerror=n,t.onload=function(){return e(t.result)}}));return t.readAsDataURL(e),n}function K(e){document.location.href="".concat("/glojects").concat(e)}var Z=function(e){var t=e.difficulty,n="EASY"===t?"green":"MEDIUM"===t?"yellow":"red";return Object(l.jsx)(R.a,{color:n,children:t})},X=function(e){var t,n,r=e.match.params.glojectId,a=Object(c.useState)({}),i=Object(j.a)(a,2),s=i[0],o=i[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.glojects.getById(r);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),console.log("gjdata",s),Object(l.jsxs)(B.a,{children:[Object(l.jsx)(F.a,{style:{objectFit:"cover",maxHeight:100,marginBottom:"1em"},fluid:!0,src:s.image}),Object(l.jsxs)(z.a,{columns:"equal",children:[Object(l.jsxs)(z.a.Column,{width:10,children:[Object(l.jsx)(g.a,{size:"huge",children:s.title}),Object(l.jsx)(R.a.Group,{children:Object(l.jsx)(Z,{difficulty:s.difficulty})})]}),Object(l.jsx)(z.a.Column,{children:Object(l.jsx)(x.a,{circular:!0,floated:"right",icon:"pencil",primary:!0,onClick:function(){return K("/g/".concat(r,"/edit"))}})})]}),Object(l.jsxs)(z.a,{columns:"equal",children:[Object(l.jsxs)(z.a.Column,{width:10,children:[null===(t=s.description)||void 0===t?void 0:t.split("\n").map((function(e,t){return Object(l.jsx)("p",{children:e},t)})),Object(l.jsx)(R.a.Group,{tag:!0,style:{marginBottom:"2em"},children:null===(n=s.tags)||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(R.a,{children:e},e)}))})]}),Object(l.jsx)(z.a.Column,{children:Object(l.jsx)(V,{glojectData:s,setGlojectData:o})})]}),Object(l.jsx)(N,{src:s.image,title:s.title,owner:s.owner,description:s.description,tags:s.tags})]})},Q=function(e){var t=Object(o.h)().uid,n=Object(o.g)(),r=Object(c.useState)({active_glojects:[],past_glojects:[]}),a=Object(j.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)([]),d=Object(j.a)(u,2),f=d[0],h=d[1],O=Object(c.useState)([]),x=Object(j.a)(O,2),m=x[0],v=x[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.users.getById(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(c.useEffect)((function(){var e,t;if(i.active_glojects){var c=null===(e=i.active_glojects)||void 0===e?void 0:e.map((function(e){return D.glojects.getById(e)}));Promise.all(c).then((function(e){console.log("res",e),h(e.map((function(e){return Object(l.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(l.jsx)("b",{onClick:function(){return n.push("/g/".concat(e.id))},children:e.title})})})))})),c=null===(t=i.past_glojects)||void 0===t?void 0:t.map((function(e){return D.glojects.getById(e)})),Promise.all(c).then((function(e){v(e.map((function(e){return Object(l.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(l.jsx)("b",{onClick:function(){return n.push("/g/".concat(e.id))},children:e.title})})})))}))}}),[i]),Object(l.jsx)("div",{children:Object(l.jsxs)(B.a,{style:{marginTop:"5%"},children:[Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"70px"},children:[Object(l.jsx)(F.a,{style:{objectFit:"cover",height:"150px",width:"150px",borderRadius:"50%"},src:i.image}),Object(l.jsxs)("div",{style:{marginLeft:"50px"},children:[Object(l.jsx)(g.a,{style:{fontSize:"40px"},children:i.username}),Object(l.jsxs)(g.a,{children:["\ud83d\udce7: ",i.email]})]})]}),Object(l.jsx)(g.a,{children:"About me"}),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",Object(l.jsxs)("div",{style:{marginTop:"50px",display:"flex"},children:[Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(g.a,{children:"Active Glojects"}),f]}),Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(g.a,{children:"Past Glojects"}),m]})]})]})})},$=n(146),ee=n(147);function te(e){var t=e.loginOpen,n=e.setLoginOpen,c=(e.loggedIn,e.setLoggedIn),a=r.a.useState(""),i=Object(j.a)(a,2),s=i[0],o=i[1],u=r.a.useState(""),d=Object(j.a)(u,2),p=d[0],b=d[1];return Object(l.jsxs)(f.a,{dimmer:"blurring",open:t,onClose:function(){return n(!1)},basic:!0,size:"tiny",style:{zIndex:-1,display:"flex",justifyContent:"center"},children:[Object(l.jsxs)(g.a,{as:"h1",textAlign:"center",children:["Login to Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(l.jsx)(f.a.Content,{children:Object(l.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(l.jsx)(O.a,{onChange:function(e){return o(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(g.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(l.jsx)(O.a,{onChange:function(e){return b(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"},type:"password"})]})}),Object(l.jsx)(f.a.Actions,{children:Object(l.jsx)(x.a,{inverted:!0,style:{margin:"auto",display:"flex",justifyContent:"center"},onClick:function(){L(s,p).then((function(){c(!0),n(!1)}))},children:"Log in"})})]})}var ne,ce,re,ae=n(17);function ie(e){var t,n=e.profileOpen,r=e.setProfileOpen,a=e.profileId,i=e.setGlojectId,s=e.setGlojectOpen,u=(Object(o.g)(),Object(c.useState)({active_glojects:[],past_glojects:[]})),d=Object(j.a)(u,2),h=d[0],O=d[1],x=Object(c.useState)([]),m=Object(j.a)(x,2),v=m[0],y=m[1],w=Object(c.useState)([]),S=Object(j.a)(w,2),k=S[0],I=S[1],C=function(e){r(!1),i(e),s(!0)};return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.users.getById(a);case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,n]),Object(c.useEffect)((function(){var e,t;if(h.active_glojects){var n=null===(e=h.active_glojects)||void 0===e?void 0:e.map((function(e){return D.glojects.getById(e)}));Promise.all(n).then((function(e){y(e.map((function(e){return Object(l.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(l.jsx)("b",{onClick:function(){return C(e.id)},children:e.title})})})))})),n=null===(t=h.past_glojects)||void 0===t?void 0:t.map((function(e){return D.glojects.getById(e)})),Promise.all(n).then((function(e){I(e.map((function(e){return Object(l.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(l.jsx)("b",{onClick:function(){return C(e.id)},children:e.title})})})))}))}}),[h,n]),Object(l.jsx)(f.a,(t={dimmer:"blurring",open:n,onClose:function(){return r(!1)},basic:!0,size:"tiny",style:{zIndex:-1}},Object(ae.a)(t,"style",{display:"flex",justifyContent:"center"}),Object(ae.a)(t,"children",Object(l.jsx)("div",{children:Object(l.jsxs)(B.a,{style:{marginTop:"5%"},children:[Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"70px"},children:[Object(l.jsx)(F.a,{style:{objectFit:"cover",height:"150px",width:"150px",borderRadius:"50%"},src:h.image}),Object(l.jsxs)("div",{style:{marginLeft:"50px"},children:[Object(l.jsx)(g.a,{style:{fontSize:"40px",color:"white"},children:h.username}),Object(l.jsxs)(g.a,{style:{color:"white"},children:["\ud83d\udce7: ",h.email]})]})]}),Object(l.jsx)(g.a,{style:{color:"white"},children:"About me"}),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",Object(l.jsxs)("div",{style:{marginTop:"50px",display:"flex"},children:[Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(g.a,{style:{color:"white"},children:"Active Glojects"}),v]}),Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(g.a,{style:{color:"white"},children:"Past Glojects"}),k]})]})]})})),t))}function se(e){var t,n,r,a=e.glojectId,i=e.glojectOpen,s=e.setGlojectOpen,o=e.setProfileId,u=e.setProfileOpen,d=Object(c.useState)({}),h=Object(j.a)(d,2),O=h[0],x=h[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.glojects.getById(a);case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(l.jsx)(f.a,(r={dimmer:"blurring",open:i,onClose:function(){return s(!1)},basic:!0,size:"tiny",style:{zIndex:-1}},Object(ae.a)(r,"style",{display:"flex",justifyContent:"center"}),Object(ae.a)(r,"children",Object(l.jsxs)(B.a,{children:[Object(l.jsx)(F.a,{style:{objectFit:"cover",maxHeight:100,marginBottom:"1em"},fluid:!0,src:O.image}),Object(l.jsx)(g.a,{style:{color:"white"},size:"huge",children:O.title}),Object(l.jsx)(R.a.Group,{tag:!0,style:{marginBottom:"2em"},children:null===(t=O.tags)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(R.a,{children:e},e)}))}),Object(l.jsxs)(z.a,{columns:"equal",children:[Object(l.jsx)(z.a.Column,{width:10,children:null===(n=O.description)||void 0===n?void 0:n.split("\n").map((function(e,t){return Object(l.jsx)("p",{children:e},t)}))}),Object(l.jsx)(z.a.Column,{children:Object(l.jsx)(V,{glojectData:O,setGlojectData:x,setProfileId:o,setProfileOpen:u,setGlojectOpen:s})})]})]})),r))}var oe=ee.a.div(ne||(ne=Object($.a)(["\n  display: flex;\n  justify-content: space-between;\n  // align-items: center;\n  // padding: 10px;\n  position: absolute;\n  top: 1vh;\n  // margin: 10px;\n  margin-right: 1vw;\n  margin-left: 1vw;\n  width: 100%;\n"]))),le=(ee.a.div(ce||(ce=Object($.a)([""]))),ee.a.div(re||(re=Object($.a)(["\n  display: flex;\n  // justify-content: center;\n  // padding: 10px;\n  // margin: 10px;\n  padding-left: 1vw;\n  padding-right: 1vw;\n  width: 300px;\n  // background-color: green;\n  justify-content: space-between;\n"])))),ue=function(e){var t=Object(c.useState)("home"),n=Object(j.a)(t,2),r=(n[0],n[1],Object(c.useState)(!1)),a=Object(j.a)(r,2),i=a[0],s=a[1],o=Object(c.useState)(""),u=Object(j.a)(o,2),d=u[0],f=u[1],h=Object(c.useState)(!1),O=Object(j.a)(h,2),m=O[0],v=O[1],y=Object(c.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],I=Object(c.useState)(localStorage.getItem("id")),C=Object(j.a)(I,2),A=C[0],E=(C[1],Object(c.useState)(!1)),D=Object(j.a)(E,2),T=D[0],L=D[1],P=Object(c.useState)(""),B=Object(j.a)(P,2),F=B[0],z=B[1],R=Object(c.useState)(!1),H=Object(j.a)(R,2),U=H[0],_=H[1],Y=Object(c.useState)(""),V=Object(j.a)(Y,2),J=V[0],N=V[1],W=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:s(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=window.location.pathname;console.log(e),console.log(i,A),i||null!==A?(console.log(i,A),f(Object(l.jsxs)(le,{children:[Object(l.jsx)(q,{style:{margin:"10px"},profileId:A,setProfileId:z,setProfileOpen:L,setGlojectOpen:_}),Object(l.jsx)(x.a,{name:"sign out",inverted:!0,onClick:W,style:{margin:"10px"},children:"Sign Out"})]}))):f(Object(l.jsxs)(le,{children:[Object(l.jsx)(x.a,{name:"sign in",style:{margin:"5px"},inverted:!0,onClick:function(){return k(!0)},children:"Sign In"}),Object(l.jsx)(x.a,{name:"register",style:{margin:"5px"},inverted:!0,onClick:function(){return v(!0)},children:"Register"})]}))}),[i,A]),Object(l.jsxs)(oe,{children:[Object(l.jsxs)(g.a,{as:"h1",style:{color:"white"},children:["Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects"]}),Object(l.jsxs)(le,{children:[d,Object(l.jsx)(M,{signupOpen:m,setSignupOpen:v,logggedIn:i,setLoggedIn:s}),Object(l.jsx)(te,{loginOpen:S,setLoginOpen:k,logggedIn:i,setLoggedIn:s}),Object(l.jsx)(ie,{profileOpen:T,profileId:F,setProfileOpen:L,setGlojectId:N,setGlojectOpen:_}),Object(l.jsx)(se,{glojectId:J,setGlojectOpen:_,glojectOpen:U,setProfileId:z,setProfileOpen:L})]})]})},je=n(233),de=n(224),pe=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(""),d=Object(j.a)(u,2),f=d[0],O=d[1],m=Object(c.useState)("EASY"),y=Object(j.a)(m,2),w=y[0],S=y[1],k=Object(c.useState)(6),I=Object(j.a)(k,2),C=I[0],A=I[1],E=Object(c.useState)(""),T=Object(j.a)(E,2),L=T[0],G=T[1],M=Object(c.useState)({longitude:0,latitude:0}),P=Object(j.a)(M,2),F=P[0],z=P[1],R=[],H=Object(c.useState)(!1),U=Object(j.a)(H,2),_=U[0],q=U[1],Y=Object(c.useState)(""),V=Object(j.a)(Y,2),J=V[0],N=V[1],Z=Object(c.useState)(!1),X=Object(j.a)(Z,2),Q=X[0],$=X[1],ee=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:n=e.sent,G(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=5;break}return N("Title must not be empty"),$(!0),e.abrupt("return");case 5:if(""!==s){e.next=9;break}return N("Description must not be empty"),$(!0),e.abrupt("return");case 9:return q(!0),e.next=12,D.glojects.create({title:n,description:s,difficulty:w,owner:"9cT8BRyqvf9I8l9EPB6i",team:R,status:"ACTIVE",image:L,maxTeamSize:C,location:F,tags:(r=f,Object(v.a)(new Set(r.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 12:c=e.sent,q(!1),K("/g/".concat(c.id));case 15:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(B.a,{children:[Object(l.jsx)(g.a,{size:"huge",content:"Make a new Gloject"}),Object(l.jsxs)(h.a,{loading:_,error:Q,onSubmit:te,children:[Object(l.jsx)(je.a,{error:!0,content:J}),Object(l.jsx)(h.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:n,onChange:function(e){return r(e.target.value)}}),Object(l.jsx)(h.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:s,style:{minHeight:100},onChange:function(e){return o(e.target.value)}}),Object(l.jsxs)(h.a.Group,{widths:"equal",children:[Object(l.jsx)(h.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:C,onChange:function(e){return A(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(l.jsx)(h.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return ee(e.target.files[0])}})]}),Object(l.jsx)("label",{children:"Location Coordinates"}),Object(l.jsxs)(h.a.Group,{widths:"equal",children:[Object(l.jsx)(h.a.Input,{label:"Longitude",placeholder:"longitude",value:F.longitude,onChange:function(e){return z({longitude:e.target.value,latitude:F.latitude})}}),Object(l.jsx)(h.a.Input,{label:"Latitude",placeholder:"latitude",value:F.latitude,onChange:function(e){return z({longitude:F.longitude,latitude:e.target.value})}})]}),Object(l.jsxs)(h.a.Field,{children:[Object(l.jsx)("label",{children:"Difficulty Level"}),Object(l.jsxs)(h.a.Group,{inline:!0,children:[Object(l.jsx)(h.a.Field,{control:de.a,label:"Easy",value:"EASY",checked:"EASY"===w,onChange:function(e,t){var n=t.value;return S(n)}}),Object(l.jsx)(h.a.Field,{control:de.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===w,onChange:function(e,t){var n=t.value;return S(n)}}),Object(l.jsx)(h.a.Field,{control:de.a,label:"Hard",value:"HARD",checked:"HARD"===w,onChange:function(e,t){var n=t.value;return S(n)}})]})]}),Object(l.jsx)(h.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:f,onChange:function(e){O(e.target.value)}}),Object(l.jsx)(x.a,{primary:!0,type:"submit",content:"Create Gloject"})]})]})},be=n(175),fe=n.p+"static/media/8k.c6149084.jpeg",ge=n(227),he=function(e){var t={id:e.id,title:e.title,description:e.description,difficulty:e.difficulty,coordinates:[e.location.latitude,e.location.longitude],team:e.team,tags:e.tags,owner:e.owner,maxTeamSize:e.maxTeamSize,value:25,image:e.image};return"EASY"===t.difficulty?t.color="#90ee90":"MEDIUM"===t.difficulty?t.color="#fce37f":"HARD"===t.difficulty&&(t.color="#ff7272"),t},Oe=function(e){var t=e.updateGlojects,n=Object(c.useState)("ALL"),r=Object(j.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)([]),o=Object(j.a)(s,2),u=o[0],d=o[1],f=Object(c.useState)([]),g=Object(j.a)(f,2),h=g[0],O=g[1];Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.glojects.getAllTags();case 2:t=e.sent,O(t.map((function(e){return{key:e,text:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e="ALL"===a?"EASY":"EASY"===a?"MEDIUM":"MEDIUM"===a?"HARD":"HARD"===a?"ALL":void 0;i(e);var t=e;"ALL"===t&&(t=""),v(t)},v=function(e){D.glojects.getAllFilters({difficulty:e,tags:u}).then((function(e){var n=[];e.forEach((function(e){n.push(he(e))})),t(n)}))};return Object(l.jsxs)(l.Fragment,{children:["ALL"===a?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:xe,children:["Difficulty: ",a]}):null,"EASY"===a?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:me,children:[" ","Difficulty: ",a]}):null,"MEDIUM"===a?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:ve,children:["Difficulty: ",a]}):null,"HARD"===a?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:ye,children:["Difficulty: ",a]}):null,Object(l.jsxs)("div",{style:we,children:[Object(l.jsx)(ge.a,{inverted:!0,placeholder:"Add tags",multiple:!0,search:!0,selection:!0,options:h,onChange:function(e,t){var n=t.value;return d(n)}}),Object(l.jsx)(x.a,{style:{marginLeft:"20px"},inverted:!0,content:"Filter",onClick:function(){var e=a;"ALL"===e&&(e=""),v(e)}})]})]})},xe={position:"absolute",bottom:"7.5vh",left:"1vw",color:"white"},me={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#90ee90"},ve={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#fce37f"},ye={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#ff7272"},we={position:"absolute",bottom:"2vh",left:"1vw"},Se=function(e){var t=e.glojects,n=e.updateFocus;return Object(l.jsx)(x.a,{style:ke,inverted:!0,onClick:function(){var e=Math.floor(Math.random()*t.length),c=[t[e].coordinates[0],t[e].coordinates[1]];n(c)},children:"Random Gloject"})},ke={position:"absolute",bottom:"2vh",right:"1vw"},Ie={enableMarkerGlow:!0,markerGlowCoefficient:1,markerGlowPower:1,markerGlowRadiusScale:.6,markerRadiusScaleRange:[.005,.02],markerType:"dot",enableMarkerToolTip:!0,markerTooltipRenderer:function(e){return"".concat(e.title)},focusAnimationDuration:2e3,focusDistanceRadiusScale:1.5,cameraRotateSpeed:.5,focusEasingFunction:["Linear","None"],enableDefocus:!0},Ce=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)(!0),d=Object(j.a)(u,2),p=d[0],b=d[1],f=Object(c.useState)(Ie),g=Object(j.a)(f,2),h=g[0],O=(g[1],Object(c.useState)(!1)),x=Object(j.a)(O,2),m=x[0],v=x[1],y=Object(c.useState)(""),w=Object(j.a)(y,2),S=w[0],k=w[1],I=Object(c.useState)(""),C=Object(j.a)(I,2),A=C[0],E=C[1],T=Object(c.useState)([]),L=Object(j.a)(T,2),G=L[0],M=L[1],P=Object(c.useState)(""),B=Object(j.a)(P,2),F=B[0],z=B[1],R=Object(c.useState)(""),H=Object(j.a)(R,2),U=H[0],_=H[1],q=function e(){window.removeEventListener("keydown",e,!0),window.removeEventListener("click",e,!0),o([-33,151]),b(!1)};Object(c.useEffect)((function(){window.addEventListener("keydown",q,!0),window.addEventListener("click",q,!0),D.glojects.getAllActives().then((function(e){var t=[];e.forEach((function(e,n){t.push(he(e))})),console.log("New glojects are ",t),r(t)}))}),[]);var Y=function(e){o(e)};return Object(l.jsxs)(l.Fragment,{children:[console.log("In world"),p?Object(l.jsxs)("div",{style:Ee,children:[Object(l.jsx)("div",{style:De}),Object(l.jsxs)("div",{style:Te,children:[Object(l.jsxs)("div",{style:Le,children:["G",Object(l.jsx)("span",{style:{letterSpacing:0},children:"L"})]}),Object(l.jsx)("div",{style:Ge}),Object(l.jsx)("div",{style:Me,children:"JECTS"})]}),Object(l.jsx)("div",{style:Pe,children:"Press any key to continue"})]}):null,p?null:Object(l.jsx)(Se,{glojects:n,updateFocus:Y}),p?null:Object(l.jsx)(Oe,{updateGlojects:function(e){r(e)}}),m?Object(l.jsx)("div",{style:Ae,children:Object(l.jsx)(N,{src:S,title:A,tags:G,description:F,owner:U})}):null,Object(l.jsx)(be.a,{globeTexture:fe,focus:s,height:"100vh",width:"100wh",markers:n,options:h,onClickMarker:function(e){!function(e,t){console.log("Setting focus to marker",t),e([t.coordinates[0],t.coordinates[1]])}(Y,e),k(e.image),E(e.title),M(e.tags),z(e.description),_(e.owner),v(!0)},onDefocus:function(){v(!1)},initialCameraDistanceRadiusScale:25})]})},Ae={position:"fixed",right:"10%",top:"35%"},Ee={width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",display:"flex",flexDirection:"column",color:"white",justifyContent:"center",pointEvents:"none"},De={flex:4},Te={flex:3,fontSize:"8vw",fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",letterSpacing:"2vw"},Le={flex:4,display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},Ge={flex:1},Me={flex:4,alignItems:"flex-start"},Pe={flex:4,textAlign:"center"},Be=(n(164),n(237)),Fe=function(){var e=Object(c.useState)("VtXT4nokLsKbt3penPpx"),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)([]),d=Object(j.a)(u,2),f=d[0],h=d[1],m=Object(c.useState)([]),v=Object(j.a)(m,2),y=v[0],w=v[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.glojects.getAllTags();case 2:t=e.sent,w(t.map((function(e){return{key:e,text:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(l.jsxs)(B.a,{children:[Object(l.jsx)(g.a,{children:"API Implementation - check console"}),Object(l.jsx)(Be.a,{children:Object(l.jsx)(x.a,{content:"Get all glojects",onClick:function(){return D.glojects.getAll().then((function(e){return console.log(e)}))}})}),Object(l.jsx)(Be.a,{children:Object(l.jsx)(x.a,{content:"Get all active glojects",onClick:function(){return D.glojects.getAllActives().then((function(e){return console.log(e)}))}})}),Object(l.jsxs)(Be.a,{children:[Object(l.jsx)(O.a,{placeholder:"glojectId",id:"glojectId",value:n,onChange:function(e){return r(e.target.value)}}),Object(l.jsx)(x.a,{content:"Get gloject by id",onClick:function(){return D.glojects.getById(n).then((function(e){return console.log(e)}))}})]}),Object(l.jsxs)(Be.a,{children:[Object(l.jsx)(de.a,{label:"None",value:"",checked:""===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(l.jsx)(de.a,{label:"Easy",value:"EASY",checked:"EASY"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(l.jsx)(de.a,{label:"Medium",value:"MEDIUM",checked:"MEDIUM"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(l.jsx)(de.a,{label:"Hard",value:"HARD",checked:"HARD"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(l.jsx)(ge.a,{placeholder:"Tags",multiple:!0,search:!0,selection:!0,options:y,onChange:function(e,t){var n=t.value;return h(n)}}),Object(l.jsx)(x.a,{content:"Get gloject meeting filters",onClick:function(){return D.glojects.getAllFilters({difficulty:s,tags:f}).then((function(e){return console.log(e+" difficulty was "+s+"!!!")}))}})]})]})},ze=function(e){var t=e.match.params.glojectId,n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(""),o=Object(j.a)(s,2),u=o[0],d=o[1],f=Object(c.useState)(""),O=Object(j.a)(f,2),m=O[0],y=O[1],w=Object(c.useState)("EASY"),S=Object(j.a)(w,2),k=S[0],I=S[1],C=Object(c.useState)(6),A=Object(j.a)(C,2),E=A[0],T=A[1],L=Object(c.useState)(""),G=Object(j.a)(L,2),M=G[0],P=G[1],F=Object(c.useState)({longitude:0,latitude:0}),z=Object(j.a)(F,2),R=z[0],H=z[1],U=Object(c.useState)(!1),_=Object(j.a)(U,2),q=_[0],Y=_[1],V=Object(c.useState)(""),J=Object(j.a)(V,2),N=J[0],Z=J[1],X=Object(c.useState)(!1),Q=Object(j.a)(X,2),$=Q[0],ee=Q[1];Object(c.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.glojects.getById(t);case 2:n=e.sent,i(n.title),d(n.description),y(n.tags.join(", ")),I(n.difficulty),T(parseInt(n.maxTeamSize,10)),P(n.image),H(n.location);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var te=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:n=e.sent,P(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(b.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==a){e.next=5;break}return Z("Title must not be empty"),ee(!0),e.abrupt("return");case 5:if(""!==u){e.next=9;break}return Z("Description must not be empty"),ee(!0),e.abrupt("return");case 9:if(!(""===E||E<2)){e.next=13;break}return Z("Maximum team size must be an integer greater than or equal to 2"),ee(!0),e.abrupt("return");case 13:return Y(!0),e.next=16,D.glojects.update(t,{title:a,description:u,difficulty:k,image:M,maxTeamSize:E,location:R,tags:(c=m,Object(v.a)(new Set(c.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 16:Y(!1),K("/g/".concat(t));case 18:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(B.a,{children:[Object(l.jsx)(g.a,{size:"huge",content:"Edit Gloject"}),Object(l.jsx)(x.a,{content:"Mark as complete",positive:!0,onClick:function(e){e.preventDefault(),D.glojects.update({status:"COMPLETED"}),K("/")}}),Object(l.jsx)(x.a,{content:"Delete",negative:!0,onClick:function(e){e.preventDefault(),D.glojects.update({status:"ARCHIVED"}),K("/")}}),Object(l.jsxs)(h.a,{loading:q,error:$,onSubmit:ne,children:[Object(l.jsx)(je.a,{error:!0,content:N}),Object(l.jsx)(h.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:a,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)(h.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:u,style:{minHeight:100},onChange:function(e){return d(e.target.value)}}),Object(l.jsxs)(h.a.Group,{widths:"equal",children:[Object(l.jsx)(h.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:E,onChange:function(e){return T(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(l.jsx)(h.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return te(e.target.files[0])}})]}),Object(l.jsx)("label",{children:"Location Coordinates"}),Object(l.jsxs)(h.a.Group,{widths:"equal",children:[Object(l.jsx)(h.a.Input,{label:"Longitude",placeholder:"longitude",value:R.longitude,onChange:function(e){return H({longitude:e.target.value,latitude:R.latitude})}}),Object(l.jsx)(h.a.Input,{label:"Latitude",placeholder:"latitude",value:R.latitude,onChange:function(e){return H({longitude:R.longitude,latitude:e.target.value})}})]}),Object(l.jsxs)(h.a.Field,{children:[Object(l.jsx)("label",{children:"Difficulty Level"}),Object(l.jsxs)(h.a.Group,{inline:!0,children:[Object(l.jsx)(h.a.Field,{control:de.a,label:"Easy",value:"EASY",checked:"EASY"===k,onChange:function(e,t){var n=t.value;return I(n)}}),Object(l.jsx)(h.a.Field,{control:de.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===k,onChange:function(e,t){var n=t.value;return I(n)}}),Object(l.jsx)(h.a.Field,{control:de.a,label:"Hard",value:"HARD",checked:"HARD"===k,onChange:function(e,t){var n=t.value;return I(n)}})]})]}),Object(l.jsx)(h.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:m,onChange:function(e){y(e.target.value)}}),Object(l.jsx)(x.a,{primary:!0,type:"submit",content:"Save Gloject"}),Object(l.jsx)(x.a,{content:"Cancel",onClick:function(e){return K("/g/".concat(t))}})]})]})};var Re=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ue,{}),Object(l.jsx)(s.a,{children:Object(l.jsxs)(o.d,{children:[console.log("In router"),Object(l.jsx)(u,{path:"".concat("/glojects","/signup"),component:P}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/"),component:Ce}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/api"),component:Fe}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/g/new"),component:pe}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/g/:glojectId"),component:X}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/g/:glojectId/edit"),component:ze}),Object(l.jsx)(o.b,{exact:!0,path:"".concat("/glojects","/u/:uid"),component:Q})]})})]})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Re,{})}),document.getElementById("root")),He()}},[[205,1,2]]]);
//# sourceMappingURL=main.5189c3c4.chunk.js.map