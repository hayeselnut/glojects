(this.webpackJsonpglojects=this.webpackJsonpglojects||[]).push([[0],{315:function(e,t,n){},326:function(e,t,n){},622:function(e,t,n){},623:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(43),i=n.n(c),s=(n(315),n(114)),o=n(25),u=n(4),l=Object(r.createContext)(null),j=function(e){var t=e.children;return Object(u.jsx)(l.Provider,{value:{},children:t})},d=function(e){return Object(u.jsx)(o.b,{path:e.path,component:e.component})},p=n(624),b=n(656),f=n(11),g=n.n(f),h=n(16),O=n(14),x=n(198),m=n(199),v=n(103),y=n(301),w=n(78),S=n(90),k=n(9),I=n(73),C=n(289),A=n(108),E=n(157),T=(n(323),{apiKey:"AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4",authDomain:"glojects.firebaseapp.com",projectId:"glojects",storageBucket:"glojects.appspot.com",messagingSenderId:"837750996466",appId:"1:837750996466:web:79dc5e0db7ade834fb3f6b",measurementId:"G-6V45WZLM9W"}),D=function(e){var t=[];return e.forEach((function(e){var n=e.id,r=e.data(),a=Object(A.a)({id:n},r);t.push(a)})),t},L=Object(C.a)("db"),M=new function e(){var t=this;Object(k.a)(this,e),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object(I.a)(this,L)[L]=(0===E.a.apps.length&&E.a.initializeApp(T),E.a.firestore()),this.glojects={getAll:function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("glojects").get();case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllActives:function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("glojects").where("status","==","ACTIVE").get();case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(h.a)(g.a.mark((function e(n){var r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(I.a)(t,L)[L].collection("glojects").doc(n).get();case 4:if((r=e.sent).exists){e.next=7;break}return e.abrupt("return",{});case 7:return a=r.id,c=r.data(),e.abrupt("return",Object(A.a)({id:a},c));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllFilters:function(){var e=Object(h.a)(g.a.mark((function e(n){var r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.difficulty,a=n.tags,e.next=3,t.glojects.getAll();case 3:return c=e.sent,console.log("tags length",a.length),e.abrupt("return",c.filter((function(e){return""===r||e.difficulty===r})).filter((function(e){return!a.length||a.every((function(t){return e.tags.includes(t)}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllTags:function(){var e=Object(h.a)(g.a.mark((function e(){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getAll();case 2:return n=e.sent,r=Object(S.a)(new Set(n.map((function(e){return e.tags})).flat())),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exists:function(){var e=Object(h.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(h.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("glojects").add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(h.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("glojects").doc(n).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(g.a.mark((function e(n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("glojects").doc(n).update(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.users={createUser:function(){var e=Object(h.a)(g.a.mark((function e(n,r,a,c,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)(t,L)[L].collection("users").doc(n).set({username:r,email:a,location:c,active_glojects:[],past_glojects:[],interests:[],image:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),getById:function(){var e=Object(h.a)(g.a.mark((function e(n){var r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(I.a)(t,L)[L].collection("users").doc(n).get();case 4:return r=e.sent,a=r.id,c=r.data(),e.abrupt("return",Object(A.a)({id:a},c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUserId:function(){return E.a.auth().currentUser.id},exists:function(){var e=Object(h.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},F=function(e){var t=e.userId,n=e.removeFromTeam,a=Object(r.useState)({}),c=Object(O.a)(a,2),i=c[0],s=c[1],o=localStorage.getItem("id");return Object(r.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.users.getById(t);case 2:n=e.sent,console.log("userdata",n),s(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsxs)("a",{href:"/u/".concat(t),style:{flexGrow:1,alignSelf:"center"},children:[Object(u.jsx)(y.a,{src:i.image,avatar:!0,style:{marginRight:"0.5em"}}),Object(u.jsx)("span",{style:{flexGrow:1,width:"200px"},children:"".concat(i.username).concat(t===o&&" (You)")})]}),n&&Object(u.jsx)(w.a,{fitted:!0,circular:!0,inverted:!0,size:"tiny",color:"grey",name:"minus",style:{cursor:"pointer"},onClick:function(e){return n()}})]})},B=function(){var e=Object(h.a)(g.a.mark((function e(t,n,r,a,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.auth().createUserWithEmailAndPassword(t,n).then((function(e){var n=e.user;n.sendEmailVerification().then((function(){console.log("Sent verification email")})),M.users.createUser(n.uid,r,t,a,c)})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1})),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.auth().signInWithEmailAndPassword(t,n).then((function(e){var t=e.user;if(!(null===t||void 0===t?void 0:t.emailVerified))throw new Error("Please verify your email");return console.log("Successfully logged in.",t),localStorage.setItem("id",t.uid),!0})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.auth().signOut().then((function(){localStorage.removeItem("id"),console.log("Logged out!")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=n(651),P=n(649),q=n(643);n(239),n(326);function U(e){var t=e.signupOpen,n=e.setSignupOpen,r=a.a.useState(""),c=Object(O.a)(r,2),i=c[0],s=c[1],o=a.a.useState(""),l=Object(O.a)(o,2),j=l[0],d=l[1],f=a.a.useState(""),x=Object(O.a)(f,2),m=x[0],v=x[1],y=a.a.useState(""),w=Object(O.a)(y,2),S=w[0],k=w[1],I=a.a.useState(""),C=Object(O.a)(I,2),A=C[0],E=(C[1],function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(j,S,i,m,A);case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(u.jsxs)(R.a,{dimmer:"blurring",open:t,onClose:function(){return n(!1)},basic:!0,size:"tiny",style:{display:"flex",justifyContent:"center"},children:[Object(u.jsxs)(b.a,{as:"h1",textAlign:"center",children:["Become part of Gl",Object(u.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(u.jsx)(R.a.Content,{children:Object(u.jsx)(P.a,{children:Object(u.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Username"}),Object(u.jsx)(q.a,{onChange:function(e){return s(e.target.value)},placeholder:"xxJohnSmithxx",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey",color:"white"}}),Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(u.jsx)(q.a,{onChange:function(e){return d(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(u.jsx)(q.a,{onChange:function(e){return k(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,type:"password",transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Location"}),Object(u.jsx)(q.a,{onChange:function(e){return v(e.target.value)},placeholder:"Sydney",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}})]})})}),Object(u.jsx)(p.a,{style:{margin:"auto",display:"flex",justifyContent:"center"},inverted:!0,onClick:function(){return E()},children:"Sign up"})]})}var H,Y,_,V=n(18);function J(e){var t,n=e.loginOpen,r=e.setLoginOpen,c=(e.loggedIn,e.setLoggedIn),i=a.a.useState(""),s=Object(O.a)(i,2),o=s[0],l=s[1],j=a.a.useState(""),d=Object(O.a)(j,2),f=d[0],g=d[1];return Object(u.jsxs)(R.a,(t={dimmer:"blurring",open:n,onClose:function(){return r(!1)},basic:!0,size:"tiny",style:{zIndex:-1}},Object(V.a)(t,"style",{display:"flex",justifyContent:"center"}),Object(V.a)(t,"children",[Object(u.jsxs)(b.a,{as:"h1",textAlign:"center",children:["Login to Gl",Object(u.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(u.jsx)(R.a.Content,{children:Object(u.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(u.jsx)(q.a,{onChange:function(e){return l(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(u.jsx)(b.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(u.jsx)(q.a,{onChange:function(e){return g(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"},type:"password"})]})}),Object(u.jsx)(R.a.Actions,{children:Object(u.jsx)(p.a,{inverted:!0,style:{margin:"auto",display:"flex",justifyContent:"center"},onClick:function(){G(o,f).then((function(){c(!0),r(!1)}))},children:"Log in"})})]),t))}var N=m.a.div(H||(H=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  position: absolute;\n  margin: 10px;\n  margin-right: 20px;\n  margin-left: 20px;\n  width: 100%;\n"]))),W=m.a.div(Y||(Y=Object(x.a)([""]))),K=m.a.div(_||(_=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  margin: 10px;\n  width: 300px;\n  justify-content: space-between;\n"]))),Z=function(e){var t=Object(r.useState)("home"),n=Object(O.a)(t,2),a=(n[0],n[1],Object(r.useState)(!1)),c=Object(O.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(""),l=Object(O.a)(o,2),j=l[0],d=l[1],f=Object(r.useState)(!1),x=Object(O.a)(f,2),m=x[0],v=x[1],y=Object(r.useState)(!1),w=Object(O.a)(y,2),S=w[0],k=w[1],I=Object(r.useState)(localStorage.getItem("id")),C=Object(O.a)(I,2),A=C[0],E=(C[1],function(){var e=Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:s(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(r.useEffect)((function(){var e=window.location.pathname;console.log(e),console.log(i,A),i||null!==A?(console.log(i,A),d(Object(u.jsxs)(K,{children:[Object(u.jsx)(F,{userId:localStorage.getItem("id"),style:{margin:"10px"}}),Object(u.jsx)(p.a,{name:"sign out",inverted:!0,onClick:E,style:{margin:"10px"},children:"Sign Out"})]}))):d(Object(u.jsxs)(K,{children:[Object(u.jsx)(p.a,{name:"sign in",style:{margin:"5px"},inverted:!0,onClick:function(){return k(!0)},children:"Sign In"}),Object(u.jsx)(p.a,{name:"register",style:{margin:"5px"},inverted:!0,onClick:function(){return v(!0)},children:"Register"})]}))}),[i]),Object(u.jsxs)(N,{children:[Object(u.jsx)(W,{children:Object(u.jsxs)(b.a,{as:"h1",style:{color:"white"},children:["Gl",Object(u.jsx)("span",{children:"\ud83c\udf0e"}),"jects"]})}),Object(u.jsxs)(K,{children:[j,Object(u.jsx)(U,{signupOpen:m,setSignupOpen:v,logggedIn:i,setLoggedIn:s}),Object(u.jsx)(J,{loginOpen:S,setLoginOpen:k,logggedIn:i,setLoggedIn:s})]})]})},X=(n(327),n(647),n(657)),Q=(n(621),n(622),function(){var e=Object(o.g)(),t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],c=n[1];return Object(u.jsxs)("div",{children:["Sign up page",Object(u.jsx)("button",{onClick:function(){return e.push("/")},children:"Back to landing"}),Object(u.jsx)(U,{signupOpen:a,setSignupOpen:c})]})}),$=n(644),ee=n(658),te=n(155),ne=n(650),re=n(652),ae=n.p+"static/media/plus.3b1907cc.svg",ce=function(e){var t,n=e.glojectData,a=e.setGlojectData,c=Object(r.useState)(!1),i=Object(O.a)(c,2),s=i[0],o=i[1];Object(r.useEffect)((function(){var e,t,r,a;console.log(null===(e=n.team)||void 0===e?void 0:e.includes(l),(null===(t=n.team)||void 0===t?void 0:t.length)<n.maxTeamSize-1),o(!(null===(r=n.team)||void 0===r?void 0:r.includes(l))&&(null===(a=n.team)||void 0===a?void 0:a.length)<n.maxTeamSize-1)}),[n]);var l=localStorage.getItem("id"),j=function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.concat(l)},e.next=3,M.glojects.update(n.id,t);case 3:return e.t0=a,e.next=6,M.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.filter((function(e){return e!==l}))},e.next=3,M.glojects.update(n.id,t);case 3:return e.t0=a,e.next=6,M.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{size:"tiny",children:"Owner:"}),Object(u.jsx)(F,{userId:n.owner}),Object(u.jsx)(b.a,{size:"tiny",style:{marginTop:"1em"},children:"Team members:"}),Object(u.jsxs)(ne.a.Group,{as:re.a,duration:200,divided:!0,verticalAlign:"middle",children:[null===(t=n.team)||void 0===t?void 0:t.map((function(e,t){return Object(u.jsx)(re.a.Item,{children:Object(u.jsx)(F,{userId:e,removeFromTeam:d})},t)})),s&&Object(u.jsxs)(re.a.Item,{style:{cursor:"pointer"},onClick:function(e){return j()},children:[Object(u.jsx)(y.a,{src:ae,avatar:!0,style:{marginRight:"0.5em"}}),Object(u.jsx)("span",{style:{color:"grey"},children:"Join team"})]})]})]})},ie=n(653),se=function(e){return console.log("props",e),Object(u.jsxs)(ie.a,{children:[Object(u.jsx)(y.a,{src:e.src,wrapped:!0,ui:!1}),Object(u.jsxs)(ie.a.Content,{children:[Object(u.jsx)(ie.a.Header,{children:e.title}),Object(u.jsx)(ie.a.Meta,{children:Object(u.jsx)("span",{className:"date",children:e.tags&&e.tags.map((function(e){return Object(u.jsx)("span",{children:e})}))})}),Object(u.jsx)(ie.a.Description,{children:e.description})]}),Object(u.jsx)(ie.a.Content,{extra:!0,children:Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(u.jsx)(F,{userId:e.owner}),Object(u.jsx)("a",{children:"Read more"})]})})]})};function oe(e){if(!["image/jpeg","image/png","image/jpg"].find((function(t){return t===e.type})))throw new Error("provided file is not a png, jpg or jpeg image.");var t=new FileReader,n=new Promise((function(e,n){t.onerror=n,t.onload=function(){return e(t.result)}}));return t.readAsDataURL(e),n}function ue(e){document.location.href=e}var le=function(e){var t=e.difficulty,n="EASY"===t?"green":"MEDIUM"===t?"yellow":"red";return Object(u.jsx)(te.a,{color:n,children:t})},je=function(e){var t,n,a=e.match.params.glojectId,c=Object(r.useState)({}),i=Object(O.a)(c,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.glojects.getById(a);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),console.log("gjdata",s),Object(u.jsxs)($.a,{children:[Object(u.jsx)(y.a,{style:{objectFit:"cover",maxHeight:100,marginBottom:"1em"},fluid:!0,src:s.image}),Object(u.jsxs)(ee.a,{columns:"equal",children:[Object(u.jsxs)(ee.a.Column,{width:10,children:[Object(u.jsx)(b.a,{size:"huge",children:s.title}),Object(u.jsx)(te.a.Group,{children:Object(u.jsx)(le,{difficulty:s.difficulty})})]}),Object(u.jsx)(ee.a.Column,{children:Object(u.jsx)(p.a,{circular:!0,floated:"right",icon:"pencil",primary:!0,onClick:function(){return ue("/g/".concat(a,"/edit"))}})})]}),Object(u.jsxs)(ee.a,{columns:"equal",children:[Object(u.jsxs)(ee.a.Column,{width:10,children:[null===(t=s.description)||void 0===t?void 0:t.split("\n").map((function(e,t){return Object(u.jsx)("p",{children:e},t)})),Object(u.jsx)(te.a.Group,{tag:!0,style:{marginBottom:"2em"},children:null===(n=s.tags)||void 0===n?void 0:n.map((function(e){return Object(u.jsx)(te.a,{children:e},e)}))})]}),Object(u.jsx)(ee.a.Column,{children:Object(u.jsx)(ce,{glojectData:s,setGlojectData:o})})]}),Object(u.jsx)(se,{src:s.image,title:s.title,owner:s.owner,description:s.description,tags:s.tags})]})},de=function(e){var t=Object(o.h)().uid,n=Object(o.g)(),a=Object(r.useState)({active_glojects:[],past_glojects:[]}),c=Object(O.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)([]),j=Object(O.a)(l,2),d=j[0],p=j[1],f=Object(r.useState)([]),x=Object(O.a)(f,2),m=x[0],v=x[1];return Object(r.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.users.getById(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){var e,t;if(i.active_glojects){var r=null===(e=i.active_glojects)||void 0===e?void 0:e.map((function(e){return M.glojects.getById(e)}));Promise.all(r).then((function(e){console.log("res",e),p(e.map((function(e){return Object(u.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(u.jsx)("b",{onClick:function(){return n.push("/g/".concat(e.id))},children:e.title})})})))})),r=null===(t=i.past_glojects)||void 0===t?void 0:t.map((function(e){return M.glojects.getById(e)})),Promise.all(r).then((function(e){v(e.map((function(e){return Object(u.jsx)("div",{style:{cursor:"pointer",margin:"3px 0px"},children:Object(u.jsx)("b",{onClick:function(){return n.push("/g/".concat(e.id))},children:e.title})})})))}))}}),[i]),Object(u.jsx)("div",{children:Object(u.jsxs)($.a,{style:{marginTop:"5%"},children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"70px"},children:[Object(u.jsx)(y.a,{style:{objectFit:"cover",height:"150px",width:"150px",borderRadius:"50%"},src:i.image}),Object(u.jsxs)("div",{style:{marginLeft:"50px"},children:[Object(u.jsx)(b.a,{style:{fontSize:"40px"},children:i.username}),Object(u.jsxs)(b.a,{children:["\ud83d\udce7: ",i.email]})]})]}),Object(u.jsx)(b.a,{children:"About me"}),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",Object(u.jsxs)("div",{style:{marginTop:"50px",display:"flex"},children:[Object(u.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(u.jsx)(b.a,{children:"Active Glojects"}),d]}),Object(u.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(u.jsx)(b.a,{children:"Past Glojects"}),m]})]})]})})},pe=n(654),be=n(642),fe=function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(O.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(""),j=Object(O.a)(l,2),d=j[0],f=j[1],x=Object(r.useState)("EASY"),m=Object(O.a)(x,2),v=m[0],y=m[1],w=Object(r.useState)(6),k=Object(O.a)(w,2),I=k[0],C=k[1],A=Object(r.useState)(""),E=Object(O.a)(A,2),T=E[0],D=E[1],L=Object(r.useState)({longitude:0,latitude:0}),F=Object(O.a)(L,2),B=F[0],G=F[1],z=[],R=Object(r.useState)(!1),q=Object(O.a)(R,2),U=q[0],H=q[1],Y=Object(r.useState)(""),_=Object(O.a)(Y,2),V=_[0],J=_[1],N=Object(r.useState)(!1),W=Object(O.a)(N,2),K=W[0],Z=W[1],X=function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:n=e.sent,D(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=5;break}return J("Title must not be empty"),Z(!0),e.abrupt("return");case 5:if(""!==s){e.next=9;break}return J("Description must not be empty"),Z(!0),e.abrupt("return");case 9:return H(!0),e.next=12,M.glojects.create({title:n,description:s,difficulty:v,owner:"9cT8BRyqvf9I8l9EPB6i",team:z,status:"ACTIVE",image:T,maxTeamSize:I,location:B,tags:(a=d,Object(S.a)(new Set(a.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 12:r=e.sent,H(!1),ue("/g/".concat(r.id));case 15:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)($.a,{children:[Object(u.jsx)(b.a,{content:"Make a new Gloject"}),Object(u.jsxs)(P.a,{loading:U,error:K,onSubmit:Q,children:[Object(u.jsx)(pe.a,{error:!0,content:V}),Object(u.jsx)(P.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:n,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)(P.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:s,style:{minHeight:100},onChange:function(e){return o(e.target.value)}}),Object(u.jsxs)(P.a.Group,{widths:"equal",children:[Object(u.jsx)(P.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:I,onChange:function(e){return C(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(u.jsx)(P.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return X(e.target.files[0])}})]}),Object(u.jsx)("label",{children:"Location Coordinates"}),Object(u.jsxs)(P.a.Group,{widths:"equal",children:[Object(u.jsx)(P.a.Input,{label:"Longitude",placeholder:"longitude",value:B.longitude,onChange:function(e){return G({longitude:e.target.value,latitude:B.latitude})}}),Object(u.jsx)(P.a.Input,{label:"Latitude",placeholder:"latitude",value:B.latitude,onChange:function(e){return G({longitude:B.longitude,latitude:e.target.value})}})]}),Object(u.jsxs)(P.a.Field,{children:[Object(u.jsx)("label",{children:"Difficulty Level"}),Object(u.jsxs)(P.a.Group,{inline:!0,children:[Object(u.jsx)(P.a.Field,{control:be.a,label:"Easy",value:"EASY",checked:"EASY"===v,onChange:function(e,t){var n=t.value;return y(n)}}),Object(u.jsx)(P.a.Field,{control:be.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===v,onChange:function(e,t){var n=t.value;return y(n)}}),Object(u.jsx)(P.a.Field,{control:be.a,label:"Hard",value:"HARD",checked:"HARD"===v,onChange:function(e,t){var n=t.value;return y(n)}})]})]}),Object(u.jsx)(P.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:d,onChange:function(e){f(e.target.value)}}),Object(u.jsx)(p.a,{primary:!0,type:"submit",content:"Create Gloject"})]})]})},ge=n(300),he=n.p+"static/media/8k.c6149084.jpeg",Oe=function(e){var t=e.glojects,n=e.updateFocus;return Object(u.jsx)(p.a,{onClick:function(){var e=Math.floor(Math.random()*t.length),r=[t[e].coordinates[0],t[e].coordinates[1]];n(r)},children:"Explore!"})},xe={enableMarkerGlow:!0,markerRadiusScaleRange:[.005,.02],markerType:"dot",enableMarkerToolTip:!0,focusAnimationDuration:2e3,focusDistanceRadiusScale:1.5,cameraRotateSpeed:.5,focusEasingFunction:["Linear","None"],enableDefocus:!0},me=function(){var e=Object(r.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),i=Object(O.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(!0),j=Object(O.a)(l,2),d=j[0],p=j[1],b=Object(r.useState)(xe),f=Object(O.a)(b,2),g=f[0],h=f[1],x=function e(){window.removeEventListener("keydown",e,!0),window.removeEventListener("click",e,!0),o([-33,151]),p(!1)};Object(r.useEffect)((function(){window.addEventListener("keydown",x,!0),window.addEventListener("click",x,!0),M.glojects.getAllActives().then((function(e){var t=[];e.forEach((function(e,n){t.push(function(e){var t={id:e.id,title:e.title,description:e.description,difficulty:e.difficulty,coordinates:[e.location.latitude,e.location.longitude],team:e.team,tags:e.tags,ownerId:e.owner,maxTeamSize:e.maxTeamSize,value:25};return"EASY"===t.difficulty?t.color="green":"MEDIUM"===t.difficulty?t.color="blue":"HARD"===t.difficulty&&(t.color="red"),t}(e))})),console.log("New glojects are ",t),a(t)}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[d?Object(u.jsxs)("div",{style:ve,children:[Object(u.jsx)("div",{style:ye}),Object(u.jsxs)("div",{style:we,children:[Object(u.jsx)("div",{style:Se,children:"G L"}),Object(u.jsx)("div",{style:ke}),Object(u.jsx)("div",{style:Ie,children:"J E C T S"})]}),Object(u.jsx)("div",{style:Ce,children:"Press any key to continue"})]}):null,Object(u.jsx)(Oe,{glojects:n,updateFocus:function(e){o(e)}}),Object(u.jsx)(ge.a,{globeTexture:he,focus:s,height:"100vh",width:"100wh",markers:n,options:g,onClickMarker:function(e){!function(e,t){console.log("Setting focus to marker",t),e([t.coordinates[0],t.coordinates[1]])}(o,e);var t=Object(A.a)({},g);t.cameraAutoRotateSpeed=0,h(t)},onDefocus:function(){var e=Object(A.a)({},g);e.cameraAutoRotateSpeed=.1,h(e)},initialCameraDistanceRadiusScale:25})]})},ve={width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",display:"flex",flexDirection:"column",color:"white",justifyContent:"center",pointEvents:"none"},ye={flex:4},we={flex:3,fontSize:"8vw",fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},Se={flex:4,display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},ke={flex:1},Ie={flex:4,alignItems:"flex-start"},Ce={flex:4,textAlign:"center"},Ae=(n(285),n(646)),Ee=function(){var e=Object(r.useState)("VtXT4nokLsKbt3penPpx"),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(O.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)([]),j=Object(O.a)(l,2),d=j[0],f=j[1],x=Object(r.useState)([]),m=Object(O.a)(x,2),v=m[0],y=m[1];return Object(r.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.glojects.getAllTags();case 2:t=e.sent,y(t.map((function(e){return{key:e,text:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)($.a,{children:[Object(u.jsx)(b.a,{children:"API Implementation - check console"}),Object(u.jsx)(X.a,{children:Object(u.jsx)(p.a,{content:"Get all glojects",onClick:function(){return M.glojects.getAll().then((function(e){return console.log(e)}))}})}),Object(u.jsx)(X.a,{children:Object(u.jsx)(p.a,{content:"Get all active glojects",onClick:function(){return M.glojects.getAllActives().then((function(e){return console.log(e)}))}})}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(q.a,{placeholder:"glojectId",id:"glojectId",value:n,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)(p.a,{content:"Get gloject by id",onClick:function(){return M.glojects.getById(n).then((function(e){return console.log(e)}))}})]}),Object(u.jsxs)(X.a,{children:[Object(u.jsx)(be.a,{label:"None",value:"",checked:""===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(u.jsx)(be.a,{label:"Easy",value:"EASY",checked:"EASY"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(u.jsx)(be.a,{label:"Medium",value:"MEDIUM",checked:"MEDIUM"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(u.jsx)(be.a,{label:"Hard",value:"HARD",checked:"HARD"===s,onChange:function(e,t){var n=t.value;return o(n)}}),Object(u.jsx)(Ae.a,{placeholder:"Tags",multiple:!0,search:!0,selection:!0,options:v,onChange:function(e,t){var n=t.value;return f(n)}}),Object(u.jsx)(p.a,{content:"Get gloject meeting filters",onClick:function(){return M.glojects.getAllFilters({difficulty:s,tags:d}).then((function(e){return console.log(e+" difficulty was "+s+"!!!")}))}})]})]})},Te=n(648),De=function(e){var t=e.match.params.glojectId,n=Object(r.useState)(""),a=Object(O.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(O.a)(s,2),l=o[0],j=o[1],d=Object(r.useState)(""),f=Object(O.a)(d,2),x=f[0],m=f[1],v=Object(r.useState)("EASY"),y=Object(O.a)(v,2),w=y[0],k=y[1],I=Object(r.useState)(6),C=Object(O.a)(I,2),A=C[0],E=C[1],T=Object(r.useState)(""),D=Object(O.a)(T,2),L=D[0],F=D[1],B=Object(r.useState)({longitude:0,latitude:0}),G=Object(O.a)(B,2),z=G[0],R=G[1],q=Object(r.useState)(!1),U=Object(O.a)(q,2),H=U[0],Y=U[1],_=Object(r.useState)(""),V=Object(O.a)(_,2),J=V[0],N=V[1],W=Object(r.useState)(!1),K=Object(O.a)(W,2),Z=K[0],X=K[1];Object(r.useEffect)((function(){(function(){var e=Object(h.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.glojects.getById(t);case 2:n=e.sent,i(n.title),j(n.description),m(n.tags.join(", ")),k(n.difficulty),E(parseInt(n.maxTeamSize,10)),F(n.image),R(n.location);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Q=function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:n=e.sent,F(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(h.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==c){e.next=5;break}return N("Title must not be empty"),X(!0),e.abrupt("return");case 5:if(""!==l){e.next=9;break}return N("Description must not be empty"),X(!0),e.abrupt("return");case 9:if(!(""===A||A<2)){e.next=13;break}return N("Maximum team size must be an integer greater than or equal to 2"),X(!0),e.abrupt("return");case 13:return Y(!0),e.next=16,M.glojects.update(t,{title:c,description:l,difficulty:w,image:L,maxTeamSize:A,location:z,tags:(r=x,Object(S.a)(new Set(r.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 16:Y(!1),ue("/g/".concat(t));case 18:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)($.a,{children:[Object(u.jsx)(b.a,{content:"Edit Gloject"}),Object(u.jsxs)(Te.a,{on:"click",inverted:!0,position:"left center",trigger:Object(u.jsx)(p.a,{circular:!0,floated:"right",negative:!0,icon:"trash"}),children:[Object(u.jsx)("p",{children:"Are you sure you want to delete this question?"}),Object(u.jsx)(p.a,{content:"Delete",negative:!0,onClick:function(){M.glojects.delete(t),ue("/")}})]}),Object(u.jsxs)(P.a,{loading:H,error:Z,onSubmit:ee,children:[Object(u.jsx)(pe.a,{error:!0,content:J}),Object(u.jsx)(P.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:c,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)(P.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:l,style:{minHeight:100},onChange:function(e){return j(e.target.value)}}),Object(u.jsxs)(P.a.Group,{widths:"equal",children:[Object(u.jsx)(P.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:A,onChange:function(e){return E(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(u.jsx)(P.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return Q(e.target.files[0])}})]}),Object(u.jsx)("label",{children:"Location Coordinates"}),Object(u.jsxs)(P.a.Group,{widths:"equal",children:[Object(u.jsx)(P.a.Input,{label:"Longitude",placeholder:"longitude",value:z.longitude,onChange:function(e){return R({longitude:e.target.value,latitude:z.latitude})}}),Object(u.jsx)(P.a.Input,{label:"Latitude",placeholder:"latitude",value:z.latitude,onChange:function(e){return R({longitude:z.longitude,latitude:e.target.value})}})]}),Object(u.jsxs)(P.a.Field,{children:[Object(u.jsx)("label",{children:"Difficulty Level"}),Object(u.jsxs)(P.a.Group,{inline:!0,children:[Object(u.jsx)(P.a.Field,{control:be.a,label:"Easy",value:"EASY",checked:"EASY"===w,onChange:function(e,t){var n=t.value;return k(n)}}),Object(u.jsx)(P.a.Field,{control:be.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===w,onChange:function(e,t){var n=t.value;return k(n)}}),Object(u.jsx)(P.a.Field,{control:be.a,label:"Hard",value:"HARD",checked:"HARD"===w,onChange:function(e,t){var n=t.value;return k(n)}})]})]}),Object(u.jsx)(P.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:x,onChange:function(e){m(e.target.value)}}),Object(u.jsx)(p.a,{primary:!0,type:"submit",content:"Save Gloject"})]})]})};var Le=function(){return Object(u.jsxs)(j,{children:[Object(u.jsx)(Z,{}),Object(u.jsx)(s.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(d,{path:"/signup",component:Q}),Object(u.jsx)(o.b,{exact:!0,path:"/",component:me}),Object(u.jsx)(o.b,{exact:!0,path:"/api",component:Ee}),Object(u.jsx)(o.b,{exact:!0,path:"/g/new",component:fe}),Object(u.jsx)(o.b,{exact:!0,path:"/g/:glojectId",component:je}),Object(u.jsx)(o.b,{exact:!0,path:"/g/:glojectId/edit",component:De}),Object(u.jsx)(o.b,{exact:!0,path:"/u/:uid",component:de})]})})]})},Me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,660)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Le,{})}),document.getElementById("root")),Me()}},[[623,1,2]]]);
//# sourceMappingURL=main.5212a552.chunk.js.map