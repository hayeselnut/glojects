(this.webpackJsonpglojects=this.webpackJsonpglojects||[]).push([[0],{312:function(e,t,n){},323:function(e,t,n){},619:function(e,t,n){},620:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(42),i=n.n(c),o=(n(312),n(4)),s=(n(651),n(621)),u=(n(654),n(11)),l=n.n(u),f=n(16),d=n(14),p=n(195),j=n(196),b=(n(100),n(298),n(74),n(86)),g=n(9),x=n(69),h=n(286),v=n(105),w=n(153),O=(n(320),{apiKey:"AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4",authDomain:"glojects.firebaseapp.com",projectId:"glojects",storageBucket:"glojects.appspot.com",messagingSenderId:"837750996466",appId:"1:837750996466:web:79dc5e0db7ade834fb3f6b",measurementId:"G-6V45WZLM9W"}),m=function(e){var t=[];return e.forEach((function(e){var n=e.id,r=e.data(),a=Object(v.a)({id:n},r);t.push(a)})),t},y=Object(h.a)("db"),k=new function e(){var t=this;Object(g.a)(this,e),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object(x.a)(this,y)[y]=(0===w.a.apps.length&&w.a.initializeApp(O),w.a.firestore()),this.glojects={getAll:function(){var e=Object(f.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("glojects").get();case 2:return n=e.sent,e.abrupt("return",m(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllActives:function(){var e=Object(f.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("glojects").where("status","==","ACTIVE").get();case 2:return n=e.sent,e.abrupt("return",m(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(f.a)(l.a.mark((function e(n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(x.a)(t,y)[y].collection("glojects").doc(n).get();case 4:if((r=e.sent).exists){e.next=7;break}return e.abrupt("return",{});case 7:return a=r.id,c=r.data(),e.abrupt("return",Object(v.a)({id:a},c));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllFilters:function(){var e=Object(f.a)(l.a.mark((function e(n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.difficulty,a=n.tags,e.next=3,t.glojects.getAll();case 3:return c=e.sent,console.log("tags length",a.length),e.abrupt("return",c.filter((function(e){return""===r||e.difficulty===r})).filter((function(e){return!a.length||a.every((function(t){return e.tags.includes(t)}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllTags:function(){var e=Object(f.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getAll();case 2:return n=e.sent,r=Object(b.a)(new Set(n.map((function(e){return e.tags})).flat())),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exists:function(){var e=Object(f.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(f.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("glojects").add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(f.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("glojects").doc(n).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(f.a)(l.a.mark((function e(n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("glojects").doc(n).update(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.users={createUser:function(){var e=Object(f.a)(l.a.mark((function e(n,r,a,c,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(t,y)[y].collection("users").doc(n).set({username:r,email:a,location:c,active_glojects:[],past_glojects:[],interests:[],image:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),getById:function(){var e=Object(f.a)(l.a.mark((function e(n){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(x.a)(t,y)[y].collection("users").doc(n).get();case 4:return r=e.sent,a=r.id,c=r.data(),e.abrupt("return",Object(v.a)({id:a},c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUserId:function(){return w.a.auth().currentUser.id},exists:function(){var e=Object(f.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};n(648),n(646),n(640),n(236),n(323);var S,I,A;n(18);j.a.div(S||(S=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  position: absolute;\n  margin: 10px;\n  margin-right: 20px;\n  margin-left: 20px;\n  width: 100%;\n"]))),j.a.div(I||(I=Object(p.a)([""]))),j.a.div(A||(A=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  margin: 10px;\n  width: 300px;\n  justify-content: space-between;\n"]))),n(324),n(644),n(655),n(618),n(619),n(641),n(656),n(151),n(647),n(649),n.p,n(650);n(652),n(639);var E=n(297),C=n.p+"static/media/8k.c6149084.jpeg",D=function(e){var t=e.glojects,n=e.updateFocus;return Object(o.jsx)(s.a,{onClick:function(){var e=Math.floor(Math.random()*t.length),r=[t[e].coordinates[0],t[e].coordinates[1]];n(r)},children:"Explore!"})},T={enableMarkerGlow:!0,markerRadiusScaleRange:[.005,.02],markerType:"dot",enableMarkerToolTip:!0,focusAnimationDuration:2e3,focusDistanceRadiusScale:1.5,cameraRotateSpeed:.5,focusEasingFunction:["Linear","None"],enableDefocus:!0},F=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),i=Object(d.a)(c,2),s=i[0],u=i[1],l=Object(r.useState)(!0),f=Object(d.a)(l,2),p=f[0],j=f[1],b=Object(r.useState)(T),g=Object(d.a)(b,2),x=g[0],h=g[1],w=function e(){window.removeEventListener("keydown",e,!0),window.removeEventListener("click",e,!0),u([-33,151]),j(!1)};Object(r.useEffect)((function(){window.addEventListener("keydown",w,!0),window.addEventListener("click",w,!0),k.glojects.getAllActives().then((function(e){var t=[];e.forEach((function(e,n){t.push(function(e){var t={id:e.id,title:e.title,description:e.description,difficulty:e.difficulty,coordinates:[e.location.latitude,e.location.longitude],team:e.team,tags:e.tags,ownerId:e.owner,maxTeamSize:e.maxTeamSize,value:25};return"EASY"===t.difficulty?t.color="green":"MEDIUM"===t.difficulty?t.color="blue":"HARD"===t.difficulty&&(t.color="red"),t}(e))})),console.log("New glojects are ",t),a(t)}))}),[]);return Object(o.jsxs)(o.Fragment,{children:[console.log("In world"),p?Object(o.jsxs)("div",{style:L,children:[Object(o.jsx)("div",{style:M}),Object(o.jsxs)("div",{style:B,children:[Object(o.jsx)("div",{style:R,children:"G L"}),Object(o.jsx)("div",{style:z}),Object(o.jsx)("div",{style:G,children:"J E C T S"})]}),Object(o.jsx)("div",{style:P,children:"Press any key to continue"})]}):null,Object(o.jsx)(D,{glojects:n,updateFocus:function(e){u(e)}}),Object(o.jsx)(E.a,{globeTexture:C,focus:s,height:"100vh",width:"100wh",markers:n,options:x,onClickMarker:function(e){!function(e,t){console.log("Setting focus to marker",t),e([t.coordinates[0],t.coordinates[1]])}(u,e);var t=Object(v.a)({},x);t.cameraAutoRotateSpeed=0,h(t)},onDefocus:function(){var e=Object(v.a)({},x);e.cameraAutoRotateSpeed=.1,h(e)},initialCameraDistanceRadiusScale:25})]})},L={width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",display:"flex",flexDirection:"column",color:"white",justifyContent:"center",pointEvents:"none"},M={flex:4},B={flex:3,fontSize:"8vw",fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},R={flex:4,display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},z={flex:1},G={flex:4,alignItems:"flex-start"},P={flex:4,textAlign:"center"};n(282),n(643),n(645);var U=function(){return Object(o.jsx)(F,{})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,658)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(U,{})}),document.getElementById("root")),J()}},[[620,1,2]]]);
//# sourceMappingURL=main.6af95705.chunk.js.map