{"version":3,"sources":["PrivateRoute.jsx","firebase/firebaseConfig.js","assets/default.png","api/index.js","firebase/auth.js","utils/store.js","components/signupPage/SignupModal.jsx","components/signupPage/SignupPage.jsx","components/avatar/Avatar.jsx","assets/plus.svg","components/glojectPage.jsx/GlojectTeam.jsx","helpers.js","components/glojectPage.jsx/DifficultyLabel.jsx","components/glojectPage.jsx/GlojectCommentBlock.jsx","components/glojectPage.jsx/GlojectComments.jsx","components/glojectPage.jsx/GlojectPage.jsx","components/userProfilePage/UserProfilePage.jsx","components/signupPage/LoginModal.jsx","components/userProfilePage/ProfileModal.jsx","components/common/GlojectCard.jsx","components/glojectPage.jsx/GlojectModal.jsx","components/common/NavBar.jsx","components/newGlojectPage/NewGlojectPage.jsx","components/8k.jpeg","components/WorldUtil/projectsUtil.js","components/ui/toggleExperienceBtn.js","components/ui/RandomGlojectBtn.js","components/newGlojectPage/NewGlojectModal.jsx","components/World.js","components/WorldUtil/cameraAnimations.js","components/apiPage/ApiPage.jsx","components/editGlojectPage/EditGlojectPage.jsx","App.js","reportWebVitals.js","index.js"],"names":["PrivateRoute","props","path","component","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","convertToArray","snapshot","glojects","forEach","doc","id","data","gloject","push","this","firebase","apps","length","initializeApp","firestore","getAll","a","collection","get","getAllActives","where","getById","glojectId","exists","getAllFilters","difficulty","tags","allGlojects","console","log","filter","every","t","includes","getAllTags","allTags","Set","map","flat","create","glojectData","add","delete","update","updated","users","createUser","uid","username","email","location","set","active_glojects","past_glojects","interests","image","DefaultProfilePic","getCurrentUserId","auth","currentUser","signup","password","createUserWithEmailAndPassword","then","userCredential","user","sendEmailVerification","api","catch","error","errorCode","code","errorMessage","message","login","signInWithEmailAndPassword","emailVerified","Error","localStorage","setItem","logout","signOut","removeItem","StoreContext","createContext","StoreProvider","children","useState","loggedIn","setLoggedIn","profileOpen","setProfileOpen","profileId","setProfileId","glojectOpen","setGlojectOpen","setGlojectId","signupOpen","setSignupOpen","loginOpen","setLoginOpen","store","loggedInContext","profileOpenContext","profileIdContext","glojectOpenContext","glojectIdContext","signupContext","loginContext","newGlojectContext","Provider","value","SignupModal","React","setUsername","setEmail","setLocation","setPassword","useContext","handleSignup","Modal","dimmer","open","onClose","basic","size","style","display","justifyContent","Header","as","textAlign","Content","Form","margin","marginRight","marginLeft","color","Input","onChange","event","target","placeholder","fluid","required","autoFocus","transparent","borderBottom","type","Button","inverted","onClick","SignupPage","history","useHistory","Avatar","leaveTeam","userData","setUserData","context","currUserId","getItem","useEffect","ue","flexGrow","alignSelf","Image","src","avatar","width","Icon","fitted","circular","name","cursor","e","GlojectTeam","setGlojectData","setSuccess","setSuccessMsg","canJoinTeam","setCanJoinTeam","team","currentUserId","maxTeamSize","joinTeam","concat","member","owner","marginTop","Transition","Group","List","duration","divided","verticalAlign","userId","i","Item","Plus","fileToDataUrl","file","find","reader","FileReader","dataUrlPromise","Promise","resolve","reject","onerror","onload","result","readAsDataURL","redirect","document","href","process","DifficultyLabel","Label","GlojectCommentBlock","comment","time","content","Comment","Author","Metadata","Text","GlojectComments","commentText","setCommentText","postComment","preventDefault","trim","now","Date","newComment","toDateString","toTimeString","slice","comments","obj","Object","keys","TextArea","label","minHeight","primary","GlojectPage","match","params","success","successMsg","Container","objectFit","maxHeight","marginBottom","Message","hidden","Grid","columns","Column","title","floated","icon","description","split","p","tag","UserProfilePage","math","useParams","activeGlojects","setActiveGlojects","pastGlojects","setPastGlojects","allInvolvedGlojects","status","alignItems","height","borderRadius","fontSize","flex","LoginModal","zIndex","Actions","ProfileModal","handleGlojectClick","globId","g","GlojectCard","Card","wrapped","ui","Meta","className","Description","extra","GlojectModal","StyledNav","styled","div","RightDiv","NavBar","buttons","setButtons","handleLogout","window","pathname","NewGlojectPage","setTitle","setDescription","setTags","setDifficulty","setMaxTeamSize","setImage","longitude","latitude","loading","setLoading","errorMsg","setErrorMsg","setError","convertAndSetImage","dataUrl","handleSubmit","tagsString","res","onSubmit","widths","iconPosition","parseInt","accept","files","Field","inline","control","Radio","checked","scrapeToGlojectObj","coordinates","ToggleExperienceBtn","updateGlojects","state","setState","setAllTags","key","text","onExperienceClick","mode","filterGlojects","newGlojects","experienceBtnStyleALL","experienceBtnStyleEASY","experienceBtnStyleMEDIUM","experienceBtnStyleHARD","filterTagStyle","Dropdown","multiple","search","selection","options","position","bottom","left","RandomGlojectBtn","updateFocus","buttonStyle","index","Math","floor","random","right","NewGlojectModal","newGlojectOpen","setNewGlojectOpen","initOptions","enableMarkerGlow","markerGlowCoefficient","markerGlowPower","markerGlowRadiusScale","markerRadiusScaleRange","markerType","enableMarkerToolTip","markerTooltipRenderer","marker","focusAnimationDuration","focusDistanceRadiusScale","cameraRotateSpeed","focusEasingFunction","enableDefocus","World","setGlojects","focus","setFocus","setOpen","hover","setHover","cardSrc","setCardSrc","cardTitle","setCardTitle","cardTags","setCardTags","cardDescription","setCardDescription","cardOwner","setCardOwner","setId","setTeam","initZoom","removeEventListener","addEventListener","startModalStyle","upperText","middleText","letterSpacing","middle","lowerText","cardStyle","globeTexture","texture","markers","onClickMarker","m","zoomToMarker","onDefocus","initialCameraDistanceRadiusScale","top","backgroundColor","flexDirection","pointEvents","fontWeight","ApiPage","Segment","EditGlojectPage","join","positive","negative","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.881c65c5.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = (props) => {\r\n  const isAuth = true;\r\n  // TODO: setup authorisation\r\n  return isAuth ? (\r\n    <Route path={props.path} component={props.component}></Route>\r\n  ) : (\r\n    <Redirect to=\"/unauthorised\" />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const firebaseConfig = {\r\n    apiKey: 'AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4',\r\n    authDomain: 'glojects.firebaseapp.com',\r\n    projectId: 'glojects',\r\n    storageBucket: 'glojects.appspot.com',\r\n    messagingSenderId: '837750996466',\r\n    appId: '1:837750996466:web:79dc5e0db7ade834fb3f6b',\r\n    measurementId: 'G-6V45WZLM9W',\r\n  };","export default __webpack_public_path__ + \"static/media/default.b832cfe0.png\";","// Contains all communication with Firestore database\r\n\r\nimport firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport { firebaseConfig } from '../firebase/firebaseConfig';\r\n\r\nimport DefaultProfilePic from '../assets/default.png';\r\n\r\nconst getDb = () => {\r\n  if (firebase.apps.length === 0) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n  return firebase.firestore();\r\n};\r\n\r\nconst convertToArray = (snapshot) => {\r\n  const glojects = [];\r\n  snapshot.forEach((doc) => {\r\n    const id = doc.id;\r\n    const data = doc.data();\r\n    const gloject = { id, ...data };\r\n    glojects.push(gloject);\r\n  });\r\n  return glojects;\r\n};\r\n\r\nclass API {\r\n  #db;\r\n\r\n  constructor() {\r\n    this.#db = getDb();\r\n    this.glojects = {\r\n      getAll: async () => {\r\n        const snapshot = await this.#db.collection('glojects').get();\r\n        return convertToArray(snapshot);\r\n      },\r\n      getAllActives: async () => {\r\n        const snapshot = await this.#db\r\n          .collection('glojects')\r\n          .where('status', '==', 'ACTIVE')\r\n          .get();\r\n        return convertToArray(snapshot);\r\n      },\r\n      getById: async (glojectId) => {\r\n        if (!glojectId) return {};\r\n        const snapshot = await this.#db\r\n          .collection('glojects')\r\n          .doc(glojectId)\r\n          .get();\r\n        if (!snapshot.exists) return {};\r\n        const id = snapshot.id;\r\n        const data = snapshot.data();\r\n        return { id, ...data };\r\n      },\r\n\r\n      getAllFilters: async ({ difficulty, tags }) => {\r\n        const allGlojects = await this.glojects.getAll();\r\n\r\n        console.log('tags length', tags.length);\r\n        return allGlojects\r\n          .filter((gloject) =>\r\n            difficulty === '' ? true : gloject.difficulty === difficulty\r\n          )\r\n          .filter((gloject) =>\r\n            tags.length ? tags.every((t) => gloject.tags.includes(t)) : true\r\n          );\r\n      },\r\n      getAllTags: async () => {\r\n        const allGlojects = await this.glojects.getAll();\r\n        const allTags = [\r\n          ...new Set(allGlojects.map((gloject) => gloject.tags).flat()),\r\n        ];\r\n        return allTags;\r\n      },\r\n      exists: async (glojectId) =>\r\n        (await this.glojects.getById(glojectId)).exists,\r\n      create: async (glojectData) =>\r\n        await this.#db.collection('glojects').add(glojectData),\r\n      delete: async (glojectId) =>\r\n        await this.#db.collection('glojects').doc(glojectId).delete(),\r\n      update: async (glojectId, updated) =>\r\n        await this.#db.collection('glojects').doc(glojectId).update(updated),\r\n    };\r\n    this.users = {\r\n      createUser: async (uid, username, email, location) =>\r\n        await this.#db.collection('users').doc(uid).set({\r\n          username: username,\r\n          email: email,\r\n          location: location,\r\n          active_glojects: [],\r\n          past_glojects: [],\r\n          interests: [],\r\n          image: DefaultProfilePic,\r\n        }),\r\n      getById: async (uid) => {\r\n        if (!uid) return {};\r\n        const snapshot = await this.#db.collection('users').doc(uid).get();\r\n        const id = snapshot.id;\r\n        const data = snapshot.data();\r\n        return { id, ...data };\r\n      },\r\n      getCurrentUserId: () => firebase.auth().currentUser.id,\r\n      exists: async (uid) => (await this.users.getById(uid)).exists,\r\n    };\r\n  }\r\n}\r\n\r\nexport default new API();\r\n","// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport firebase from 'firebase/app';\r\nimport api from '../api';\r\n\r\nexport const signup = async (email, password, username, location) => {\r\n  firebase\r\n    .auth()\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      var user = userCredential.user;\r\n      user.sendEmailVerification().then(() => {\r\n        console.log('Sent verification email');\r\n      });\r\n      api.users.createUser(user.uid, username, email, location);\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n      return false;\r\n    });\r\n  return true;\r\n};\r\n\r\nexport const resendVerification = async (email) => {\r\n  firebase\r\n    .auth()\r\n    .currentUser.sendEmailVerification()\r\n    .then(function () {\r\n      console.log('Sent verification email');\r\n    })\r\n    .catch(function (error) {\r\n      // Error occurred. Inspect error.code.\r\n    });\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  await firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      // Signed in\r\n      const user = userCredential.user;\r\n      if (!user?.emailVerified) {\r\n        throw new Error('Please verify your email');\r\n      }\r\n      console.log('Successfully logged in.', user);\r\n      localStorage.setItem('id', user.uid);\r\n      return true;\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n      return false;\r\n    });\r\n};\r\n\r\nexport const logout = async () => {\r\n  await firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      localStorage.removeItem('id');\r\n      console.log('Logged out!');\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode, errorMessage);\r\n    });\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const StoreContext = createContext(null);\r\nexport const StoreProvider = ({ children }) => {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [profileOpen, setProfileOpen] = useState(false);\r\n  const [profileId, setProfileId] = useState('');\r\n  const [glojectOpen, setGlojectOpen] = useState(false);\r\n  const [glojectId, setGlojectId] = useState('');\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n  const [loginOpen, setLoginOpen] = useState(false);\r\n  const [newGlojectOpen, setNewGlojectOpen] = useState(false);\r\n  const store = {\r\n    loggedInContext: [loggedIn, setLoggedIn],\r\n    profileOpenContext: [profileOpen, setProfileOpen],\r\n    profileIdContext: [profileId, setProfileId],\r\n    glojectOpenContext: [glojectOpen, setGlojectOpen],\r\n    glojectIdContext: [glojectId, setGlojectId],\r\n    signupContext: [signupOpen, setSignupOpen],\r\n    loginContext: [loginOpen, setLoginOpen],\r\n    newGlojectContext: [newGlojectOpen, setNewGlojectOpen],\r\n  };\r\n  return (\r\n    <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { Button, Modal, Form, Input, Header } from 'semantic-ui-react';\r\nimport { signup } from '../../firebase/auth';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport './InvisInput.css';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nexport default function SignupModal() {\r\n  const [username, setUsername] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const [location, setLocation] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const context = useContext(StoreContext);\r\n  const { signupContext } = context;\r\n  const [signupOpen, setSignupOpen] = signupContext;\r\n  const handleSignup = async () => {\r\n    await signup(email, password, username, location);\r\n    setSignupOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={signupOpen}\r\n      onClose={() => setSignupOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Header as=\"h1\" textAlign=\"center\">\r\n        Become part of Gl<span>&#x1f30e;</span>jects now!\r\n      </Header>\r\n      <Modal.Content>\r\n        <Form>\r\n          <div style={{ margin: 10, marginRight: 40, marginLeft: 40 }}>\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Username\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setUsername(event.target.value)}\r\n              placeholder=\"xxJohnSmithxx\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey', color: 'white' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Email\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setEmail(event.target.value)}\r\n              placeholder=\"john_smith@email.com\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Password\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setPassword(event.target.value)}\r\n              placeholder=\"*******\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              type=\"password\"\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n            <Header as=\"h3\" style={{ color: 'white' }}>\r\n              Location\r\n            </Header>\r\n            <Input\r\n              onChange={(event) => setLocation(event.target.value)}\r\n              placeholder=\"Sydney\"\r\n              fluid\r\n              required\r\n              autoFocus\r\n              transparent\r\n              style={{ borderBottom: '1px solid grey' }}\r\n            />\r\n          </div>\r\n        </Form>\r\n      </Modal.Content>\r\n      <Button\r\n        style={{ margin: 'auto', display: 'flex', justifyContent: 'center' }}\r\n        inverted\r\n        onClick={() => handleSignup()}\r\n      >\r\n        Sign up\r\n      </Button>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SignupModal from './SignupModal';\r\n\r\nconst SignupPage = () => {\r\n  const history = useHistory();\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n  return (\r\n    <div>\r\n      Sign up page\r\n      <button onClick={() => history.push('/')}>Back to landing</button>\r\n      <SignupModal\r\n        signupOpen={signupOpen}\r\n        setSignupOpen={setSignupOpen}\r\n      ></SignupModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPage;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Icon, Image } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nconst Avatar = (props) => {\r\n  const { leaveTeam, profileId, setProfileId, type } = props;\r\n  const [userData, setUserData] = useState({});\r\n  const context = useContext(StoreContext);\r\n  const { profileOpenContext, glojectOpenContext, loggedInContext } = context;\r\n  const [loggedIn, setLoggedIn] = loggedInContext;\r\n\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = profileOpenContext;\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n\r\n  const currUserId = localStorage.getItem('id');\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const userData = await api.users.getById(profileId);\r\n      console.log('response', userData);\r\n      setUserData(userData);\r\n    };\r\n    ue();\r\n  }, [profileId, profileOpen, glojectOpen, loggedIn]);\r\n\r\n  const handleClick = () => {\r\n    setProfileId(profileId);\r\n    setProfileOpen(true);\r\n    setGlojectOpen(false);\r\n    console.log(profileId);\r\n  };\r\n\r\n  console.log('type', type);\r\n\r\n  return (\r\n    <div style={{ display: 'flex' }}>\r\n      <a\r\n        onClick={() => handleClick()}\r\n        style={{\r\n          flexGrow: 1,\r\n          alignSelf: 'center',\r\n          color: `${type === 'light' ? 'white' : 'black'}`,\r\n        }}\r\n      >\r\n        <Image src={userData.image} avatar style={{ marginRight: '0.5em' }} />\r\n        <span style={{ flexGrow: 1, width: '200px' }}>{`${userData.username}${\r\n          profileId === currUserId ? ' (You)' : ''\r\n        }`}</span>\r\n      </a>\r\n      {leaveTeam && (\r\n        <Icon\r\n          fitted\r\n          circular\r\n          inverted\r\n          size=\"tiny\"\r\n          color=\"grey\"\r\n          name=\"minus\"\r\n          style={{ cursor: 'pointer' }}\r\n          onClick={(e) => leaveTeam()}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","export default __webpack_public_path__ + \"static/media/plus.3b1907cc.svg\";","import React, { useEffect, useState, useContext } from 'react';\r\n\r\nimport { Button, Header, Image, List, Transition } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport Avatar from '../avatar/Avatar';\r\nimport Plus from '../../assets/plus.svg';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nconst GlojectTeam = (props) => {\r\n  const {\r\n    glojectData,\r\n    setGlojectData,\r\n    setSuccess,\r\n    setSuccessMsg,\r\n  } = props;\r\n  const [canJoinTeam, setCanJoinTeam] = useState(false);\r\n\r\n  const context = useContext(StoreContext);\r\n  const { profileOpenContext, profileIdContext, glojectOpenContext } = context;\r\n\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = profileOpenContext;\r\n  const [profileId, setProfileId] = profileIdContext;\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      glojectData.team?.includes(currentUserId),\r\n      glojectData.team?.length < glojectData.maxTeamSize - 1\r\n    );\r\n    console.log(glojectData);\r\n    setCanJoinTeam(\r\n      !glojectData.team?.includes(currentUserId) &&\r\n        glojectData.team?.length < glojectData.maxTeamSize - 1\r\n    );\r\n  }, [glojectData]);\r\n\r\n  const currentUserId = localStorage.getItem('id');\r\n\r\n  const joinTeam = async () => {\r\n    const updated = { team: glojectData.team.concat(currentUserId) };\r\n    await api.glojects.update(glojectData.id, updated);\r\n    setGlojectData(await api.glojects.getById(glojectData.id));\r\n    setSuccessMsg(\"You have successfully joined the team!\");\r\n    setSuccess(true);\r\n  };\r\n\r\n  const leaveTeam = async () => {\r\n    const updated = {\r\n      team: glojectData.team.filter((member) => member !== currentUserId),\r\n    };\r\n    await api.glojects.update(glojectData.id, updated);\r\n    setGlojectData(await api.glojects.getById(glojectData.id));\r\n    setSuccessMsg(\"You have successfully removed yourself from the team.\");\r\n    setSuccess(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header size=\"tiny\" style={{ color: 'white' }}>\r\n        Owner:\r\n      </Header>\r\n      <Avatar\r\n        profileId={glojectData.owner}\r\n        setProfileId={setProfileId}\r\n        type=\"light\"\r\n      />\r\n\r\n      <Header size=\"tiny\" style={{ marginTop: '1em', color: 'white' }}>\r\n        Team members:\r\n      </Header>\r\n      <Transition.Group as={List} duration={200} divided verticalAlign=\"middle\">\r\n        {glojectData.team?.map((userId, i) => (\r\n          <List.Item key={i}>\r\n            <Avatar\r\n              profileId={userId}\r\n              type=\"light\"\r\n              setProfileId={setProfileId}\r\n              leaveTeam={leaveTeam}\r\n            />\r\n          </List.Item>\r\n        ))}\r\n\r\n        {/* Only show `Join Team` if team has space */}\r\n        {canJoinTeam && (\r\n          <List.Item style={{ cursor: 'pointer' }} onClick={(e) => joinTeam()}>\r\n            <Image src={Plus} avatar style={{ marginRight: '0.5em' }} />\r\n            <span style={{ color: 'grey' }}>Join team</span>\r\n          </List.Item>\r\n        )}\r\n      </Transition.Group>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GlojectTeam;\r\n","// thx hayden smith xoxo\r\n/**\r\n * Given a js file object representing a jpg or png image, such as one taken\r\n * from a html file input element, return a promise which resolves to the file\r\n * data as a data url.\r\n * More info:\r\n *   https://developer.mozilla.org/en-US/docs/Web/API/File\r\n *   https://developer.mozilla.org/en-US/docs/Web/API/FileReader\r\n *   https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\r\n *\r\n * Example Usage:\r\n *   const file = document.querySelector('input[type=\"file\"]').files[0];\r\n *   console.log(fileToDataUrl(file));\r\n * @param {File} file The file to be read.\r\n * @return {Promise<string>} Promise which resolves to the file as a data url.\r\n */\r\n export function fileToDataUrl (file) {\r\n  const validFileTypes = ['image/jpeg', 'image/png', 'image/jpg'];\r\n  const valid = validFileTypes.find((type) => type === file.type);\r\n  // Bad data, let's walk away.\r\n  if (!valid) {\r\n    throw new Error('provided file is not a png, jpg or jpeg image.');\r\n  }\r\n\r\n  const reader = new FileReader();\r\n  const dataUrlPromise = new Promise((resolve, reject) => {\r\n    reader.onerror = reject;\r\n    reader.onload = () => resolve(reader.result);\r\n  });\r\n  reader.readAsDataURL(file);\r\n  return dataUrlPromise;\r\n}\r\n\r\nexport function redirect (path) {\r\n  document.location.href = `${process.env.PUBLIC_URL}${path}`;\r\n}","import React from 'react';\r\n\r\nimport { Label } from 'semantic-ui-react';\r\n\r\nconst DifficultyLabel = (props) => {\r\n  const { difficulty } = props;\r\n\r\n  const color = difficulty === 'EASY' ? 'green'\r\n    : difficulty === 'MEDIUM' ? 'yellow' : 'red';\r\n\r\n  return (\r\n    <Label\r\n      color={color}\r\n    >\r\n      {difficulty}\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport default DifficultyLabel;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Comment } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nimport DefaultProfilePic from '../../assets/default.png';\r\n\r\nconst GlojectCommentBlock = (props) => {\r\n  const { comment } = props;\r\n  const { time, userId, content } = comment;\r\n\r\n  const [userData, setUserData] = useState({});\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const userData = await api.users.getById(userId);\r\n      setUserData(userData);\r\n    };\r\n    ue();\r\n  }, [userId]);\r\n\r\n  return (\r\n    <Comment>\r\n      <Comment.Avatar as='a' href={`${process.env.PUBLIC_URL}/u/${userId}`} src={userData.image || DefaultProfilePic} />\r\n      <Comment.Content style={{color: 'white'}}>\r\n        <Comment.Author as='a' href={`${process.env.PUBLIC_URL}/u/${userId}`}>{userData.username}</Comment.Author>\r\n        <Comment.Metadata style={{color: 'gray'}}>\r\n          <div>{time}</div>\r\n        </Comment.Metadata>\r\n        <Comment.Text style={{color: 'white'}}>{content}</Comment.Text>\r\n      </Comment.Content>\r\n    </Comment>\r\n  );\r\n};\r\n\r\nexport default GlojectCommentBlock;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button, Comment, Form } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport GlojectCommentBlock from './GlojectCommentBlock';\r\n\r\nconst GlojectComments = (props) => {\r\n  const { glojectData, setGlojectData } = props;\r\n\r\n  const [commentText, setCommentText] = useState('');\r\n\r\n  const emptyObject = (obj) => !obj || Object.keys(glojectData.comments).length === 0;\r\n\r\n  const postComment = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (commentText.trim().length === 0) return;\r\n\r\n    const now = new Date();\r\n    const newComment = {\r\n      time: `${now.toDateString()} ${now.toTimeString().slice(0, 8)}`,\r\n      userId: localStorage.getItem('id'),\r\n      content: commentText,\r\n    }\r\n\r\n    await api.glojects.update(glojectData.id, {comments: emptyObject(glojectData.comments) ? [newComment] : glojectData.comments?.concat(newComment)});\r\n    setCommentText('');\r\n    setGlojectData(await api.glojects.getById(glojectData.id));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Form>\r\n        <Form.TextArea\r\n          name='glojectComment'\r\n          label='Comment'\r\n          placeholder='Comment'\r\n          id='Comment'\r\n          value={commentText}\r\n          style={{ minHeight: 100 }}\r\n          onChange={(e) => setCommentText(e.target.value)}\r\n        />\r\n        <Button\r\n          content='Post'\r\n          primary\r\n          onClick={(e) => postComment(e)}\r\n        />\r\n      </Form>\r\n\r\n      {glojectData.comment?.length === 0 ? \"Be the first one to comment!\" : (\r\n        <Comment.Group style={{color: 'white'}}>\r\n          {glojectData.comments?.map((comment, i) => <GlojectCommentBlock key={i} comment={comment}/>)}\r\n        </Comment.Group>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GlojectComments;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Grid, Header, Icon, Image, Label, Message, Popup } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport GlojectTeam from './GlojectTeam';\r\nimport { redirect } from '../../helpers';\r\nimport DifficultyLabel from './DifficultyLabel';\r\nimport GlojectComments from './GlojectComments';\r\n\r\nconst GlojectPage = (props) => {\r\n  const { glojectId } = props.match.params;\r\n\r\n  const [glojectData, setGlojectData] = useState({});\r\n  const [success, setSuccess] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('')\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setGlojectData(glojectData);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  return (\r\n    <Container>\r\n      <Image\r\n        style={{ objectFit: 'cover', maxHeight: 100, marginBottom: '1em' }}\r\n        fluid\r\n        src={glojectData.image}\r\n      />\r\n      <Message hidden={!success} success content={successMsg} />\r\n      <Grid columns=\"equal\">\r\n        <Grid.Column width={10}>\r\n          <Header size=\"huge\">{glojectData.title}</Header>\r\n          <Label.Group>\r\n            <DifficultyLabel difficulty={glojectData.difficulty} />\r\n            {/* LOCATION LABEL */}\r\n          </Label.Group>\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n\r\n        {/* TODO: only show if user is owner */}\r\n        <Button circular floated='right' icon='pencil' primary onClick={() => redirect(`/g/${glojectId}/edit`)} />\r\n        </Grid.Column>\r\n      </Grid>\r\n\r\n      <Grid columns=\"equal\">\r\n        <Grid.Column width={10}>\r\n          {glojectData.description?.split('\\n').map((p, i) => (\r\n            <p key={i}>{p}</p>\r\n          ))}\r\n\r\n          <Label.Group tag style={{marginBottom: '2em'}}>\r\n            {glojectData.tags?.map(tag => (\r\n              <Label key={tag}>{tag}</Label>\r\n            ))}\r\n          </Label.Group>\r\n\r\n          <GlojectComments glojectData={glojectData} setGlojectData={setGlojectData} />\r\n\r\n        </Grid.Column>\r\n\r\n        <Grid.Column>\r\n          <GlojectTeam\r\n            glojectData={glojectData}\r\n            setGlojectData={setGlojectData}\r\n            setSuccess={setSuccess}\r\n            setSuccessMsg={setSuccessMsg}\r\n          />\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GlojectPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { Container, Header, Image } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nconst UserProfilePage = (props) => {\r\n  const { userId } = props.params.math;\r\n\r\n  const { uid } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [userData, setUserData] = useState({}); // WE ARE NOT USING ACTIVE AND PAST GLOJECTS IN USER DATA\r\n  const [activeGlojects, setActiveGlojects] = useState([]);\r\n  const [pastGlojects, setPastGlojects] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const userData = await api.users.getById(uid);\r\n      setUserData(userData);\r\n\r\n      const allInvolvedGlojects = (await api.glojects.getAll())\r\n        .filter((gloject) => uid === gloject.owner || gloject.team.includes(uid))\r\n\r\n      setActiveGlojects(allInvolvedGlojects.filter(gloject => gloject.status === 'ACTIVE'));\r\n      setPastGlojects(allInvolvedGlojects.filter(gloject => gloject.status !== 'ACTIVE'));\r\n    };\r\n    ue();\r\n  }, [uid]);\r\n\r\n  // useEffect(() => {\r\n  //   // if (!userData.active_glojects) return;\r\n  //   const ue = async () => {\r\n\r\n  //     const allGlojects\r\n  //   };\r\n  //   ue();\r\n\r\n  //   let promises = userData.active_glojects?.map((id) => {\r\n  //     return api.glojects.getById(id);\r\n  //   });\r\n  //   Promise.all(promises).then((res) => {\r\n  //     console.log('res', res);\r\n  //     setActiveGlojects(\r\n  //       res.map((g) => {\r\n  //         return (\r\n  //           <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n  //             <b onClick={() => history.push(`/g/${g.id}`)}>{g.title}</b>\r\n  //           </div>\r\n  //         );\r\n  //       })\r\n  //     );\r\n  //   });\r\n  //   promises = userData.past_glojects?.map((id) => {\r\n  //     return api.glojects.getById(id);\r\n  //   });\r\n  //   Promise.all(promises).then((res) => {\r\n  //     setPastGlojects(\r\n  //       res.map((g) => {\r\n  //         return (\r\n  //           <div style={{ cursor: 'pointer', margin: '3px 0px' }}>\r\n  //             <b onClick={() => history.push(`/g/${g.id}`)}>{g.title}</b>\r\n  //           </div>\r\n  //         );\r\n  //       })\r\n  //     );\r\n  //   });\r\n  // }, [userData]);\r\n\r\n  return (\r\n    <div>\r\n      <Container style={{ marginTop: '5%' }}>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            marginBottom: '70px',\r\n          }}\r\n        >\r\n          <Image\r\n            style={{\r\n              objectFit: 'cover',\r\n              height: '150px',\r\n              width: '150px',\r\n              borderRadius: '50%',\r\n            }}\r\n            src={userData.image}\r\n          />\r\n          <div style={{ marginLeft: '50px' }}>\r\n            <Header style={{ fontSize: '40px' }}>{userData.username}</Header>\r\n            <Header>&#x1f4e7;: {userData.email}</Header>\r\n          </div>\r\n        </div>\r\n        <Header>About me</Header>\r\n        Lorem Ipsum is simply dummy text of the printing and typesetting\r\n        industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n        since the 1500s, when an unknown printer took a galley of type and\r\n        scrambled it to make a type specimen book. It has survived not only five\r\n        centuries, but also the leap into electronic typesetting, remaining\r\n        essentially unchanged. It was popularised in the 1960s with the release\r\n        of Letraset sheets containing Lorem Ipsum passages, and more recently\r\n        with desktop publishing software like Aldus PageMaker including versions\r\n        of Lorem Ipsum.\r\n        <div\r\n          style={{\r\n            marginTop: '50px',\r\n            display: 'flex',\r\n          }}\r\n        >\r\n          <div style={{ flex: 1, display: 'block' }}>\r\n            <Header>Active Glojects</Header>\r\n            {activeGlojects}\r\n          </div>\r\n          <div style={{ flex: 1, display: 'block' }}>\r\n            <Header>Past Glojects</Header>\r\n            {pastGlojects}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n\r\n  // const history = useHistory();\r\n  // return (\r\n  //   <div>\r\n  //     Landing page\r\n  //     <button onClick={() => history.push('/signup')}>Go to sign up</button>\r\n  //   </div>\r\n  // );\r\n};\r\n\r\nexport default UserProfilePage;\r\n","import React, { useContext } from 'react';\r\nimport { Button, Modal, Input, Header } from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nexport default function LoginModal() {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const context = useContext(StoreContext);\r\n  const { loginContext, loggedInContext } = context;\r\n  const [loggedIn, setLoggedIn] = loggedInContext;\r\n  const [loginOpen, setLoginOpen] = loginContext;\r\n\r\n  const handleLogin = () => {\r\n    login(email, password).then(() => {\r\n      setLoggedIn(true);\r\n      setLoginOpen(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={loginOpen}\r\n      onClose={() => setLoginOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1, display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Header as=\"h1\" textAlign=\"center\">\r\n        Login to Gl<span>&#x1f30e;</span>jects now!\r\n      </Header>\r\n      <Modal.Content>\r\n        <div style={{ margin: 10, marginRight: 40, marginLeft: 40 }}>\r\n          <Header as=\"h3\" style={{ color: 'white' }}>\r\n            Email\r\n          </Header>\r\n          <Input\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            placeholder=\"john_smith@email.com\"\r\n            fluid\r\n            required\r\n            autoFocus\r\n            transparent\r\n            style={{ borderBottom: '1px solid grey' }}\r\n          />\r\n          <Header as=\"h3\" style={{ color: 'white' }}>\r\n            Password\r\n          </Header>\r\n          <Input\r\n            onChange={(event) => setPassword(event.target.value)}\r\n            placeholder=\"*******\"\r\n            fluid\r\n            required\r\n            autoFocus\r\n            transparent\r\n            style={{ borderBottom: '1px solid grey' }}\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          inverted\r\n          style={{ margin: 'auto', display: 'flex', justifyContent: 'center' }}\r\n          onClick={() => handleLogin()}\r\n        >\r\n          Log in\r\n        </Button>\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Button, Modal, Container, Image, Header, Label } from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport api from '../../api';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nexport default function ProfileModal() {\r\n  const context = useContext(StoreContext);\r\n  const {\r\n    profileOpenContext,\r\n    profileIdContext,\r\n    glojectOpenContext,\r\n    glojectIdContext,\r\n  } = context;\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = profileOpenContext;\r\n  const [profileId, setProfileId] = profileIdContext;\r\n\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n  const [glojectId, setGlojectId] = glojectIdContext;\r\n\r\n  //const { uid } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [userData, setUserData] = useState({\r\n    active_glojects: [],\r\n    past_glojects: [],\r\n  });\r\n  const [activeGlojects, setActiveGlojects] = useState([]);\r\n  const [pastGlojects, setPastGlojects] = useState([]);\r\n\r\n  const handleGlojectClick = (globId) => {\r\n    setProfileOpen(false);\r\n    setGlojectId(globId);\r\n    setGlojectOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const userData = await api.users.getById(profileId);\r\n      setUserData(userData);\r\n\r\n      const allInvolvedGlojects = (await api.glojects.getAll())\r\n        .filter((gloject) => profileId === gloject.owner || gloject.team.includes(profileId))\r\n\r\n      setActiveGlojects(allInvolvedGlojects.filter(g => g.status === 'ACTIVE').map(g => <Label color='black' as='a' style={{ marginBottom: '0.5em'}} onClick={() => handleGlojectClick(g.id)}>{g.title}</Label>));\r\n      setPastGlojects(allInvolvedGlojects.filter(g => g.status !== 'ACTIVE').map(g => <Label color='black' as='a' style={{ marginBottom: '0.5em'}} onClick={() => handleGlojectClick(g.id)}>{g.title}</Label>));\r\n    };\r\n    ue();\r\n  }, [userData, profileOpen]);\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={profileOpen}\r\n      onClose={() => setProfileOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1 }}\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <div>\r\n        <Container style={{ marginTop: '5%' }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              marginBottom: '70px',\r\n            }}\r\n          >\r\n            <Image\r\n              style={{\r\n                objectFit: 'cover',\r\n                height: '150px',\r\n                width: '150px',\r\n                borderRadius: '50%',\r\n              }}\r\n              src={userData.image}\r\n            />\r\n            <div style={{ marginLeft: '50px' }}>\r\n              <Header style={{ fontSize: '40px', color: 'white' }}>\r\n                {userData.username}\r\n              </Header>\r\n              <Header style={{ color: 'white' }}>\r\n                &#x1f4e7;: {userData.email}\r\n              </Header>\r\n            </div>\r\n          </div>\r\n          <Header style={{ color: 'white' }}>About me</Header>\r\n          Lorem Ipsum is simply dummy text of the printing and typesetting\r\n          industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n          since the 1500s, when an unknown printer took a galley of type and\r\n          scrambled it to make a type specimen book. It has survived not only\r\n          five centuries, but also the leap into electronic typesetting,\r\n          remaining essentially unchanged. It was popularised in the 1960s with\r\n          the release of Letraset sheets containing Lorem Ipsum passages, and\r\n          more recently with desktop publishing software like Aldus PageMaker\r\n          including versions of Lorem Ipsum.\r\n          <div\r\n            style={{\r\n              marginTop: '50px',\r\n              display: 'flex',\r\n            }}\r\n          >\r\n            <div style={{ flex: 1, display: 'block' }}>\r\n              <Header style={{ color: 'white' }}>Active Glojects</Header>\r\n              {activeGlojects}\r\n            </div>\r\n            <div style={{ flex: 1, display: 'block' }}>\r\n              <Header style={{ color: 'white' }}>Past Glojects</Header>\r\n              {pastGlojects}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Card, Header, Image } from 'semantic-ui-react';\r\nimport { StoreContext } from '../../utils/store';\r\nimport Avatar from '../avatar/Avatar';\r\n\r\nconst GlojectCard = (props) => {\r\n  const context = useContext(StoreContext);\r\n  const { profileIdContext, glojectOpenContext, glojectIdContext } = context;\r\n\r\n  const [profileId, setProfileId] = profileIdContext;\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n  const [glojectId, setGlojectId] = glojectIdContext;\r\n\r\n  const handleReadMore = () => {\r\n    console.log('props', props);\r\n    setGlojectId(props.id);\r\n    setGlojectOpen(true);\r\n  };\r\n\r\n  console.log('props', props);\r\n  return (\r\n    <Card>\r\n      <Image src={props.src} wrapped ui={false} />\r\n      <Card.Content>\r\n        <Card.Header>{props.title}</Card.Header>\r\n        <Card.Meta>\r\n          <span className=\"date\">\r\n            {props.tags &&\r\n              props.tags.map((tag) => {\r\n                return <span>{tag}</span>;\r\n              })}\r\n          </span>\r\n        </Card.Meta>\r\n        <Card.Description>{props.description}</Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <div>\r\n          <Header as=\"h5\">The Team</Header>\r\n          {props.team?.map((i) => {\r\n            return (\r\n              <div style={{ margin: '5px 0' }}>\r\n                <Avatar profileId={i} setProfileId={setProfileId} type=\"dark\" />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <Header as=\"h5\">Creator</Header>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar\r\n            profileId={props.owner}\r\n            setProfileId={setProfileId}\r\n            type=\"dark\"\r\n          />\r\n          <a onClick={() => handleReadMore()}>Read more</a>\r\n        </div>\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default GlojectCard;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n  Label,\r\n  Grid,\r\n  Container,\r\n  Image,\r\n  Header,\r\n  Modal,\r\n  Message,\r\n  Button,\r\n} from 'semantic-ui-react';\r\nimport { login } from '../../firebase/auth';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport api from '../../api';\r\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\r\nimport GlobjectCard from '../common/GlojectCard';\r\nimport GlojectTeam from './GlojectTeam';\r\nimport { StoreContext } from '../../utils/store';\r\nimport DifficultyLabel from './DifficultyLabel';\r\nimport GlojectComments from './GlojectComments';\r\nimport { redirect } from '../../helpers';\r\n\r\nexport default function GlojectModal() {\r\n  const context = useContext(StoreContext);\r\n  const {\r\n    profileOpenContext,\r\n    profileIdContext,\r\n    glojectOpenContext,\r\n    glojectIdContext,\r\n  } = context;\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = profileOpenContext;\r\n  const [profileId, setProfileId] = profileIdContext;\r\n\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n  const [glojectId, setGlojectId] = glojectIdContext;\r\n\r\n  const [glojectData, setGlojectData] = useState({});\r\n  const [success, setSuccess] = useState(false);\r\n  const [successMsg, setSuccessMsg] = useState('')\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setGlojectData(glojectData);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  return (\r\n    <Modal\r\n      dimmer=\"blurring\"\r\n      open={glojectOpen}\r\n      onClose={() => setGlojectOpen(false)}\r\n      basic\r\n      size=\"tiny\"\r\n      style={{ zIndex: -1 }}\r\n      style={{ display: 'flex', justifyContent: 'center' }}\r\n    >\r\n      <Container>\r\n        <Image\r\n          style={{ objectFit: 'cover', maxHeight: 100, marginBottom: '1em' }}\r\n          fluid\r\n          src={glojectData.image}\r\n        />\r\n        <Message hidden={!success} success content={successMsg} />\r\n\r\n        <Grid columns=\"equal\">\r\n          <Grid.Column width={10}>\r\n            <Header style={{ color: 'white' }} size=\"huge\">\r\n              {glojectData.title}\r\n            </Header>\r\n            <Label.Group>\r\n              <DifficultyLabel difficulty={glojectData.difficulty} />\r\n              {/* LOCATION LABEL */}\r\n            </Label.Group>\r\n          </Grid.Column>\r\n          <Grid.Column>\r\n            {/* TODO: only show if user is owner */}\r\n            <Button circular floated='right' icon='pencil' primary onClick={() => redirect(`/g/${glojectId}/edit`)} />\r\n          </Grid.Column>\r\n        </Grid>\r\n\r\n        <Grid columns=\"equal\">\r\n          <Grid.Column width={10}>\r\n            {glojectData.description?.split('\\n').map((p, i) => (\r\n              <p key={i}>{p}</p>\r\n            ))}\r\n\r\n            <Label.Group tag style={{ marginBottom: '2em' }}>\r\n              {glojectData.tags?.map((tag) => (\r\n                <Label key={tag}>{tag}</Label>\r\n              ))}\r\n            </Label.Group>\r\n\r\n            <GlojectComments glojectData={glojectData} setGlojectData={setGlojectData} />\r\n\r\n          </Grid.Column>\r\n\r\n          <Grid.Column>\r\n            <GlojectTeam\r\n              glojectData={glojectData}\r\n              setGlojectData={setGlojectData}\r\n              setSuccess={setSuccess}\r\n              setSuccessMsg={setSuccessMsg}\r\n            />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Container>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { Component, useEffect, useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Avatar from '../avatar/Avatar';\r\nimport { Menu, Segment, Header, Button } from 'semantic-ui-react';\r\nimport { logout } from '../../firebase/auth';\r\nimport SignupModal from '../signupPage/SignupModal';\r\nimport LoginModal from '../signupPage/LoginModal';\r\nimport ProfileModal from '../userProfilePage/ProfileModal';\r\nimport GlojectModal from '../glojectPage.jsx/GlojectModal';\r\nimport { StoreContext } from '../../utils/store';\r\n\r\nconst StyledNav = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  // align-items: center;\r\n  // padding: 10px;\r\n  position: absolute;\r\n  top: 1vh;\r\n  // margin: 10px;\r\n  margin-right: 1vw;\r\n  margin-left: 1vw;\r\n  width: 100%;\r\n`;\r\n\r\nconst LeftDiv = styled.div``;\r\nconst RightDiv = styled.div`\r\n  display: flex;\r\n  // justify-content: center;\r\n  // padding: 10px;\r\n  // margin: 10px;\r\n  padding-left: 1vw;\r\n  padding-right: 1vw;\r\n  width: 275px;\r\n  // background-color: green;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst NavBar = (props) => {\r\n  const [buttons, setButtons] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n\r\n  const context = useContext(StoreContext);\r\n  const {\r\n    loggedInContext,\r\n    profileOpenContext,\r\n    profileIdContext,\r\n    glojectOpenContext,\r\n    glojectIdContext,\r\n    signupContext,\r\n    loginContext,\r\n  } = context;\r\n\r\n  const [loggedIn, setLoggedIn] = loggedInContext;\r\n\r\n  // Signup\r\n  const [signupOpen, setSignupOpen] = signupContext;\r\n  const [loginOpen, setLoginOpen] = loginContext;\r\n\r\n  // Profile\r\n  const [profileOpen, setProfileOpen] = profileOpenContext;\r\n  const [profileId, setProfileId] = profileIdContext;\r\n  // Gloject\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n  const [glojectId, setGlojectId] = glojectIdContext;\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const pathname = window.location.pathname;\r\n    const userId = localStorage.getItem('id');\r\n    console.log('user', userId);\r\n    if (loggedIn || userId !== null) {\r\n      console.log(loggedIn, userId);\r\n      setButtons(\r\n        <RightDiv>\r\n          <Avatar\r\n            style={{ margin: '10px' }}\r\n            profileId={userId}\r\n            setProfileId={setProfileId}\r\n            type=\"light\"\r\n          />\r\n          <Button\r\n            name=\"sign out\"\r\n            inverted\r\n            onClick={handleLogout}\r\n            style={{ margin: '10px' }}\r\n          >\r\n            Sign Out\r\n          </Button>\r\n        </RightDiv>\r\n      );\r\n    } else {\r\n      setButtons(\r\n        <RightDiv>\r\n          <Button\r\n            name=\"sign in\"\r\n            style={{ margin: '5px' }}\r\n            inverted\r\n            onClick={() => setLoginOpen(true)}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Button\r\n            name=\"register\"\r\n            style={{ margin: '5px' }}\r\n            inverted\r\n            onClick={() => setSignupOpen(true)}\r\n          >\r\n            Register\r\n          </Button>\r\n        </RightDiv>\r\n      );\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  return (\r\n    <StyledNav>\r\n      {/* <LeftDiv> */}\r\n      <Header as=\"h1\" style={{ color: 'white' }}>\r\n        Gl<span>&#x1f30e;</span>jects\r\n      </Header>\r\n      {/* </LeftDiv> */}\r\n      <RightDiv>\r\n        {buttons}\r\n        <SignupModal />\r\n        <LoginModal />\r\n        <ProfileModal />\r\n        <GlojectModal />\r\n      </RightDiv>\r\n    </StyledNav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState } from 'react';\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Form,\r\n  Header,\r\n  Message,\r\n  Radio,\r\n} from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { fileToDataUrl, redirect } from '../../helpers';\r\n\r\nconst NewGlojectPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  // const [dueDate, setDueDate] = useState(null); // Due date gives time pressure - not rly a good thing? Make people learn and do stuff at their own pace\r\n  const [tags, setTags] = useState('');\r\n  const [difficulty, setDifficulty] = useState('EASY');\r\n  // const [language, setLanguage] = useState('English'); // I think we shouldn't do language because it creates a barrier of entry - better to force everyoen to use English?\r\n  const [maxTeamSize, setMaxTeamSize] = useState(6);\r\n  const [image, setImage] = useState('');\r\n  const [location, setLocation] = useState({ longitude: 0, latitude: 0 }); // TODO: find current location\r\n  const owner = '9cT8BRyqvf9I8l9EPB6i'; // TODO: find get current user\r\n  // const owner = api.users.getCurrentUserId();\r\n\r\n  const team = [];\r\n  const status = 'ACTIVE';\r\n  const comments = [];\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  const convertAndSetImage = async (file) => {\r\n    try {\r\n      const dataUrl = await fileToDataUrl(file);\r\n      setImage(dataUrl);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const extractTags = (tagsString) => [\r\n    ...new Set(\r\n      tagsString\r\n        .split(',')\r\n        .map((tag) => tag.trim())\r\n        .filter((tag) => !!tag)\r\n    ),\r\n  ];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '') {\r\n      setErrorMsg('Title must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (description === '') {\r\n      setErrorMsg('Description must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const res = await api.glojects.create({\r\n      title,\r\n      description,\r\n      difficulty,\r\n      owner,\r\n      team,\r\n      status,\r\n      image,\r\n      maxTeamSize,\r\n      location,\r\n      comments,\r\n      tags: extractTags(tags),\r\n    });\r\n    setLoading(false);\r\n\r\n    redirect(`/g/${res.id}`);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Header size=\"huge\" content=\"Make a new Gloject\" />\r\n      <Form loading={loading} error={error} onSubmit={handleSubmit}>\r\n        <Message error content={errorMsg} />\r\n        <Form.Input\r\n          name=\"glojectTitle\"\r\n          label=\"Title\"\r\n          placeholder=\"Title\"\r\n          id=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <Form.TextArea\r\n          name=\"glojectDescription\"\r\n          label=\"Description\"\r\n          placeholder=\"Description\"\r\n          id=\"Description\"\r\n          value={description}\r\n          style={{ minHeight: 100 }}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        <Form.Group widths=\"equal\">\r\n          <Form.Input\r\n            icon=\"group\"\r\n            iconPosition=\"left\"\r\n            label=\"Maximum Team Size (including you)\"\r\n            placeholder=\"Maximum Team Size\"\r\n            type=\"number\"\r\n            value={maxTeamSize}\r\n            onChange={(e) =>\r\n              setMaxTeamSize(\r\n                parseInt(e.target.value, 10) >= 2 ? e.target.value : 2\r\n              )\r\n            }\r\n          />\r\n\r\n          <Form.Input\r\n            label=\"Cover photo\"\r\n            type=\"file\"\r\n            accept=\"image/png, image/jpeg, image/jpg\"\r\n            onChange={(e) => convertAndSetImage(e.target.files[0])}\r\n          />\r\n        </Form.Group>\r\n\r\n        <label>Location Coordinates</label>\r\n        <Form.Group widths=\"equal\">\r\n          <Form.Input\r\n            label=\"Longitude\"\r\n            placeholder=\"longitude\"\r\n            value={location.longitude}\r\n            onChange={(e) =>\r\n              setLocation({\r\n                longitude: e.target.value,\r\n                latitude: location.latitude,\r\n              })\r\n            }\r\n          />\r\n\r\n          <Form.Input\r\n            label=\"Latitude\"\r\n            placeholder=\"latitude\"\r\n            value={location.latitude}\r\n            onChange={(e) =>\r\n              setLocation({\r\n                longitude: location.longitude,\r\n                latitude: e.target.value,\r\n              })\r\n            }\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Field>\r\n          <label>Difficulty Level</label>\r\n          <Form.Group inline>\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"Easy\"\r\n              value=\"EASY\"\r\n              checked={difficulty === 'EASY'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"Medium\"\r\n              value=\"MEDIUM\"\r\n              checked={difficulty === 'MEDIUM'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"Hard\"\r\n              value=\"HARD\"\r\n              checked={difficulty === 'HARD'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Field>\r\n        <Form.Input\r\n          name=\"glojectTags\"\r\n          label=\"Tags\"\r\n          placeholder=\"Tag (comma separated)\"\r\n          id=\"Tags\"\r\n          value={tags}\r\n          onChange={(e) => {\r\n            setTags(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Button inverted type=\"submit\" content=\"Create Gloject\" />\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewGlojectPage;\r\n","export default __webpack_public_path__ + \"static/media/8k.c6149084.jpeg\";","/* Helper functions to filter and return new list of markers based on \r\ncertain criteria as well as functions to add or delete projects, etc*/\r\n\r\n// Given an array of objects, a text field and a value, returns a filtered\r\n// array containing only objects matching the criteria\r\nexport const filterByExactField = (projects, field, value) => {\r\n  console.log('Filtering projects', projects);\r\n  const newProjects = projects.filter((obj) => obj[field] === value);\r\n  return newProjects;\r\n};\r\n\r\n// Given a project and the list of projects, adds it to the list of existing projects\r\nexport const addProject = (projects, p) => {\r\n  const newProjects = [...projects];\r\n  newProjects.push(p);\r\n  return newProjects;\r\n};\r\n\r\n// Given a project id and the list of projects, removes it from the list and returns\r\nexport const removeProject = (projects, pId) => {\r\n  const newProjects = projects.filter((obj) => obj.id !== pId);\r\n  return newProjects;\r\n};\r\n\r\n// Given a scraped gloject, converts it into a gloject object\r\nexport const scrapeToGlojectObj = (value) => {\r\n  const gloject = {\r\n    id: value.id,\r\n    title: value.title,\r\n    description: value.description,\r\n    difficulty: value.difficulty,\r\n    coordinates: [value.location.latitude, value.location.longitude],\r\n    team: value.team,\r\n    tags: value.tags,\r\n    owner: value.owner,\r\n    maxTeamSize: value.maxTeamSize,\r\n    value: 25,\r\n    image: value.image,\r\n  };\r\n\r\n  if (gloject.difficulty === 'EASY') {\r\n    gloject['color'] = '#90ee90';\r\n  } else if (gloject.difficulty === 'MEDIUM') {\r\n    gloject['color'] = '#fce37f';\r\n  } else if (gloject.difficulty === 'HARD') {\r\n    gloject['color'] = '#ff7272';\r\n  }\r\n\r\n  return gloject;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Dropdown } from 'semantic-ui-react';\r\nimport { scrapeToGlojectObj } from '../WorldUtil/projectsUtil';\r\nimport api from '../../api';\r\n\r\nconst ToggleExperienceBtn = ({ updateGlojects }) => {\r\n  const [state, setState] = useState('ALL');\r\n  const [tags, setTags] = useState([]);\r\n  const [allTags, setAllTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const allTags = await api.glojects.getAllTags();\r\n      setAllTags(allTags.map((tag) => ({ key: tag, text: tag, value: tag })));\r\n    };\r\n    ue();\r\n  }, []);\r\n\r\n  const getNextState = () => {\r\n    if (state === 'ALL') {\r\n      return 'EASY';\r\n    } else if (state === 'EASY') {\r\n      return 'MEDIUM';\r\n    } else if (state === 'MEDIUM') {\r\n      return 'HARD';\r\n    } else if (state === 'HARD') {\r\n      return 'ALL';\r\n    }\r\n  };\r\n\r\n  const onExperienceClick = () => {\r\n    let mode = getNextState();\r\n    setState(mode);\r\n\r\n    let difficulty = mode;\r\n    if (difficulty === 'ALL') {\r\n      difficulty = '';\r\n    }\r\n\r\n    filterGlojects(difficulty);\r\n  };\r\n\r\n  const onTagClick = () => {\r\n    let difficulty = state;\r\n    if (difficulty === 'ALL') {\r\n      difficulty = '';\r\n    }\r\n    filterGlojects(difficulty);\r\n  };\r\n\r\n  const filterGlojects = (difficulty) => {\r\n    api.glojects.getAllFilters({ difficulty, tags }).then((res) => {\r\n      const newGlojects = [];\r\n      res.forEach((value) => {\r\n        newGlojects.push(scrapeToGlojectObj(value));\r\n      });\r\n\r\n      updateGlojects(newGlojects);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {state === 'ALL' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleALL}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'EASY' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleEASY}\r\n        >\r\n          {' '}\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'MEDIUM' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleMEDIUM}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {state === 'HARD' ? (\r\n        <Button\r\n          inverted\r\n          onClick={onExperienceClick}\r\n          style={experienceBtnStyleHARD}\r\n        >\r\n          Difficulty: {state}\r\n        </Button>\r\n      ) : null}\r\n      {/* <Button inverted onClick={onExperienceClick} style={experienceBtnStyle}>\r\n                Difficulty: {state}\r\n            </Button> */}\r\n\r\n      <div style={filterTagStyle}>\r\n        <Dropdown\r\n          inverted\r\n          placeholder=\"Add tags\"\r\n          multiple\r\n          search\r\n          selection\r\n          options={allTags}\r\n          onChange={(e, { value }) => setTags(value)}\r\n        ></Dropdown>\r\n        <Button\r\n          style={{ marginLeft: '20px' }}\r\n          inverted\r\n          content=\"Filter\"\r\n          onClick={onTagClick}\r\n        ></Button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToggleExperienceBtn;\r\n\r\nlet experienceBtnStyleALL = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: 'white',\r\n};\r\n\r\nlet experienceBtnStyleEASY = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#90ee90',\r\n};\r\n\r\nlet experienceBtnStyleMEDIUM = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#fce37f',\r\n};\r\n\r\nlet experienceBtnStyleHARD = {\r\n  position: 'absolute',\r\n  bottom: '7.5vh',\r\n  left: '1vw',\r\n  color: '#ff7272',\r\n};\r\n\r\nconst filterTagStyle = {\r\n  position: 'absolute',\r\n  bottom: '2vh',\r\n  left: '1vw',\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst RandomGlojectBtn = ({glojects, updateFocus}) => {\r\n    const randomGlojectCoordinates = () => {\r\n        const index = Math.floor(Math.random() * glojects.length);\r\n\r\n        const coordinates = [glojects[index].coordinates[0], glojects[index].coordinates[1]];\r\n        updateFocus(coordinates);\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            style={buttonStyle}\r\n            inverted\r\n            onClick={randomGlojectCoordinates}\r\n        >\r\n            Random Gloject    \r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default RandomGlojectBtn;\r\n\r\nconst buttonStyle = {\r\n    position: \"absolute\",\r\n    bottom: \"2vh\",\r\n    right: \"1vw\"\r\n}","import React, { useState, useContext } from 'react';\r\nimport {\r\n  Button,\r\n  Container,\r\n  Form,\r\n  Header,\r\n  Message,\r\n  Radio,\r\n  Modal,\r\n} from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { fileToDataUrl, redirect } from '../../helpers';\r\nimport { StoreContext } from '../../utils/store';\r\nimport './NewGloject.css';\r\n\r\nconst NewGlojectModal = ({ updateFocus }) => {\r\n  const context = useContext(StoreContext);\r\n  const { newGlojectContext, glojectOpenContext, glojectIdContext } = context;\r\n  const [newGlojectOpen, setNewGlojectOpen] = newGlojectContext;\r\n  const [glojectOpen, setGlojectOpen] = glojectOpenContext;\r\n  const [glojectId, setGlojectId] = glojectIdContext;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  // const [dueDate, setDueDate] = useState(null); // Due date gives time pressure - not rly a good thing? Make people learn and do stuff at their own pace\r\n  const [tags, setTags] = useState('');\r\n  const [difficulty, setDifficulty] = useState('EASY');\r\n  // const [language, setLanguage] = useState('English'); // I think we shouldn't do language because it creates a barrier of entry - better to force everyoen to use English?\r\n  const [maxTeamSize, setMaxTeamSize] = useState(6);\r\n  const [image, setImage] = useState('');\r\n  const [location, setLocation] = useState({ longitude: 0, latitude: 0 }); // TODO: find current location\r\n  const owner = '9cT8BRyqvf9I8l9EPB6i'; // TODO: find get current user\r\n  // const owner = api.users.getCurrentUserId();\r\n\r\n  const team = [];\r\n  const status = 'ACTIVE';\r\n  const comments = [];\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  const convertAndSetImage = async (file) => {\r\n    try {\r\n      const dataUrl = await fileToDataUrl(file);\r\n      setImage(dataUrl);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const extractTags = (tagsString) => [\r\n    ...new Set(\r\n      tagsString\r\n        .split(',')\r\n        .map((tag) => tag.trim())\r\n        .filter((tag) => !!tag)\r\n    ),\r\n  ];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '') {\r\n      setErrorMsg('Title must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (description === '') {\r\n      setErrorMsg('Description must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const res = await api.glojects.create({\r\n      title,\r\n      description,\r\n      difficulty,\r\n      owner,\r\n      team,\r\n      status,\r\n      image,\r\n      maxTeamSize,\r\n      location,\r\n      comments,\r\n      tags: extractTags(tags),\r\n    });\r\n    setLoading(false);\r\n    setNewGlojectOpen(false);\r\n    setGlojectId(res.id);\r\n    setGlojectOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        inverted\r\n        style={buttonStyle}\r\n        onClick={() => setNewGlojectOpen(true)}\r\n      >\r\n        Create a Gloject\r\n      </Button>\r\n      <Modal\r\n        dimmer=\"blurring\"\r\n        open={newGlojectOpen}\r\n        onClose={() => setNewGlojectOpen(false)}\r\n        basic\r\n        className=\"glojectModal\"\r\n        size=\"tiny\"\r\n        style={{ zIndex: -1 }}\r\n        style={{ display: 'flex', justifyContent: 'center' }}\r\n      >\r\n        <Container>\r\n          <Header\r\n            size=\"huge\"\r\n            content=\"Make a new Gloject\"\r\n            style={{ color: 'white' }}\r\n          />\r\n          <Form loading={loading} error={error} onSubmit={handleSubmit}>\r\n            <Message error content={errorMsg} />\r\n            <Form.Input\r\n              name=\"glojectTitle\"\r\n              label=\"Title\"\r\n              placeholder=\"Title\"\r\n              id=\"Title\"\r\n              value={title}\r\n              style={{ color: 'white' }}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n            <Form.TextArea\r\n              name=\"glojectDescription\"\r\n              label=\"Description\"\r\n              placeholder=\"Description\"\r\n              id=\"Description\"\r\n              value={description}\r\n              style={{ minHeight: 100 }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n\r\n            <Form.Group widths=\"equal\">\r\n              <Form.Input\r\n                icon=\"group\"\r\n                iconPosition=\"left\"\r\n                label=\"Maximum Team Size (including you)\"\r\n                placeholder=\"Maximum Team Size\"\r\n                type=\"number\"\r\n                value={maxTeamSize}\r\n                onChange={(e) =>\r\n                  setMaxTeamSize(\r\n                    parseInt(e.target.value, 10) >= 2 ? e.target.value : 2\r\n                  )\r\n                }\r\n              />\r\n\r\n              <Form.Input\r\n                label=\"Cover photo\"\r\n                type=\"file\"\r\n                accept=\"image/png, image/jpeg, image/jpg\"\r\n                onChange={(e) => convertAndSetImage(e.target.files[0])}\r\n              />\r\n            </Form.Group>\r\n\r\n            <label>Location Coordinates</label>\r\n            <Form.Group widths=\"equal\">\r\n              <Form.Input\r\n                label=\"Longitude\"\r\n                placeholder=\"longitude\"\r\n                value={location.longitude}\r\n                onChange={(e) =>\r\n                  setLocation({\r\n                    longitude: e.target.value,\r\n                    latitude: location.latitude,\r\n                  })\r\n                }\r\n              />\r\n\r\n              <Form.Input\r\n                label=\"Latitude\"\r\n                placeholder=\"latitude\"\r\n                value={location.latitude}\r\n                onChange={(e) =>\r\n                  setLocation({\r\n                    longitude: location.longitude,\r\n                    latitude: e.target.value,\r\n                  })\r\n                }\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Field>\r\n              <label>Difficulty Level</label>\r\n              <Form.Group inline>\r\n                <Form.Field\r\n                  control={Radio}\r\n                  label=\"Easy\"\r\n                  value=\"EASY\"\r\n                  checked={difficulty === 'EASY'}\r\n                  onChange={(e, { value }) => setDifficulty(value)}\r\n                />\r\n                <Form.Field\r\n                  control={Radio}\r\n                  label=\"Medium\"\r\n                  value=\"MEDIUM\"\r\n                  checked={difficulty === 'MEDIUM'}\r\n                  onChange={(e, { value }) => setDifficulty(value)}\r\n                />\r\n                <Form.Field\r\n                  control={Radio}\r\n                  label=\"Hard\"\r\n                  value=\"HARD\"\r\n                  checked={difficulty === 'HARD'}\r\n                  onChange={(e, { value }) => setDifficulty(value)}\r\n                />\r\n              </Form.Group>\r\n            </Form.Field>\r\n            <Form.Input\r\n              name=\"glojectTags\"\r\n              label=\"Tags\"\r\n              placeholder=\"Tag (comma separated)\"\r\n              id=\"Tags\"\r\n              value={tags}\r\n              onChange={(e) => {\r\n                setTags(e.target.value);\r\n              }}\r\n            />\r\n\r\n            <Button inverted type=\"submit\" content=\"Create Gloject\" />\r\n          </Form>\r\n        </Container>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewGlojectModal;\r\n\r\nconst buttonStyle = {\r\n  position: 'absolute',\r\n  bottom: '2vh',\r\n  right: '16vw',\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport ReactGlobe, { defaultDotMarkerOptions } from 'react-globe';\r\nimport texture from './8k.jpeg';\r\n\r\nimport api from '../api';\r\n\r\nimport ToggleExperienceBtn from './ui/toggleExperienceBtn';\r\nimport { zoomToMarker } from './WorldUtil/cameraAnimations';\r\nimport { scrapeToGlojectObj } from './WorldUtil/projectsUtil';\r\nimport RandomGlojectBtn from './ui/RandomGlojectBtn';\r\nimport NewGlojectModal from './newGlojectPage/NewGlojectModal';\r\nimport GlobjectCard from '../components/common/GlojectCard';\r\n\r\n// const sampleData = [...Array(25).keys()].map(() => ({\r\n//     projectName: \"Project Name\",\r\n//     difficulty: [\"Easy\", \"Medium\", \"Hard\"][Math.round(Math.random() * 2)],\r\n//     coordinates: [(Math.random() - 0.5) * 180, (Math.random() - 0.5) * 360],\r\n//     value: 25,\r\n// }));\r\n\r\n// sampleData.forEach((marker, index) => {\r\n//     marker['id'] = index.toString();\r\n//     if (marker.difficulty === \"Easy\") {\r\n//         marker['color'] = 'green';\r\n//     } else if (marker.difficulty === \"Medium\") {\r\n//         marker['color'] = 'blue';\r\n//     } else if (marker.difficulty === \"Hard\") {\r\n//         marker['color'] = 'red';\r\n//     }\r\n// })\r\n\r\n// console.log(sampleData);\r\n\r\nconst initOptions = {\r\n  enableMarkerGlow: true,\r\n  markerGlowCoefficient: 1,\r\n  markerGlowPower: 1,\r\n  markerGlowRadiusScale: 0.6,\r\n\r\n  markerRadiusScaleRange: [0.005, 0.02],\r\n  markerType: 'dot', // dot | bar\r\n  enableMarkerToolTip: true,\r\n  // markerEnterAnimationDuration: 3000,\r\n  // markerEnterEasingFunction: ['Bounce', 'InOut'],\r\n  // markerExitEasingFunction: ['Cubic', 'Out'],\r\n  markerTooltipRenderer: (marker) => `${marker.title}`,\r\n  // markerRadiusScaleRange: [0.01, 0.05],\r\n\r\n  // cameraAutoRotateSpeed: 0.5,\r\n\r\n  focusAnimationDuration: 2000,\r\n  focusDistanceRadiusScale: 1.5,\r\n  cameraRotateSpeed: 0.5,\r\n  focusEasingFunction: ['Linear', 'None'],\r\n  enableDefocus: true,\r\n};\r\n\r\nconst World = () => {\r\n  const [glojects, setGlojects] = useState([]);\r\n  const [focus, setFocus] = useState(null);\r\n  const [open, setOpen] = useState(true);\r\n  const [options, setOptions] = useState(initOptions);\r\n  const [hover, setHover] = useState(false);\r\n\r\n  const [cardSrc, setCardSrc] = useState('');\r\n  const [cardTitle, setCardTitle] = useState('');\r\n  const [cardTags, setCardTags] = useState([]);\r\n  const [cardDescription, setCardDescription] = useState('');\r\n  const [cardOwner, setCardOwner] = useState('');\r\n  const [id, setId] = useState('');\r\n  const [team, setTeam] = useState('');\r\n\r\n  const initZoom = () => {\r\n    // const newOptions = {...options};\r\n    // newOptions.cameraAutoRotateSpeed = 0.1;\r\n    window.removeEventListener('keydown', initZoom, true);\r\n    window.removeEventListener('click', initZoom, true);\r\n    setFocus([-33, 151]);\r\n    setOpen(false);\r\n    // setOptions(newOptions);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', initZoom, true);\r\n    window.addEventListener('click', initZoom, true);\r\n\r\n    api.glojects.getAllActives().then((res) => {\r\n      const newGlojects = [];\r\n      res.forEach((value, index) => {\r\n        newGlojects.push(scrapeToGlojectObj(value));\r\n      });\r\n\r\n      console.log('New glojects are ', newGlojects);\r\n      setGlojects(newGlojects);\r\n    });\r\n  }, []);\r\n\r\n  const onClick = (obj) => {\r\n    zoomToMarker(updateFocus, obj);\r\n    setCardSrc(obj.image);\r\n    setCardTitle(obj.title);\r\n    setCardTags(obj.tags);\r\n    setCardDescription(obj.description);\r\n    setCardOwner(obj.owner);\r\n    setId(obj.id);\r\n    setTeam(obj.team);\r\n    setHover(true);\r\n  };\r\n\r\n  const onDefocus = () => {\r\n    setHover(false);\r\n  };\r\n\r\n  const updateGlojects = (newGlojects) => {\r\n    setGlojects(newGlojects);\r\n  };\r\n\r\n  const updateFocus = (coordinates) => {\r\n    setFocus(coordinates);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {console.log('In world')}\r\n      {open ? (\r\n        <div style={startModalStyle}>\r\n          <div style={upperText} />\r\n          <div style={middleText}>\r\n            <div style={left}>\r\n              G<span style={{ letterSpacing: 0 }}>L</span>\r\n            </div>\r\n            <div style={middle} />\r\n            <div style={right}>JECTS</div>\r\n          </div>\r\n          <div style={lowerText}>Press any key to continue</div>\r\n        </div>\r\n      ) : null}\r\n      {!open ? (\r\n        <RandomGlojectBtn glojects={glojects} updateFocus={updateFocus} />\r\n      ) : null}\r\n      {!open ? <NewGlojectModal updateFocus={updateFocus} /> : null}\r\n      {!open ? <ToggleExperienceBtn updateGlojects={updateGlojects} /> : null}\r\n      {hover ? (\r\n        <div style={cardStyle}>\r\n          <GlobjectCard\r\n            src={cardSrc}\r\n            title={cardTitle}\r\n            tags={cardTags}\r\n            description={cardDescription}\r\n            owner={cardOwner}\r\n            id={id}\r\n            team={team}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      <ReactGlobe\r\n        globeTexture={texture}\r\n        focus={focus}\r\n        height=\"100vh\"\r\n        width=\"100wh\"\r\n        markers={glojects}\r\n        options={options}\r\n        onClickMarker={onClick}\r\n        onDefocus={onDefocus}\r\n        initialCameraDistanceRadiusScale={25}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default World;\r\n\r\nconst cardStyle = {\r\n  position: 'fixed',\r\n  right: '10%',\r\n  top: '20%',\r\n};\r\n\r\nconst startModalStyle = {\r\n  width: '100%',\r\n  height: '100%',\r\n  position: 'fixed',\r\n  backgroundColor: 'rgba(0, 0, 0, 0)',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  color: 'white',\r\n  justifyContent: 'center',\r\n\r\n  pointEvents: 'none',\r\n};\r\n\r\nconst upperText = {\r\n  flex: 4,\r\n  // border: \"5px solid red\",\r\n  // backgroundColor: \"red\",\r\n  // fontSize: \"50px\"\r\n};\r\n\r\nconst middleText = {\r\n  flex: 3,\r\n  // backgroundColor: \"green\"\r\n  // border: \"5px solid green\",\r\n  fontSize: '8vw',\r\n  fontWeight: 'bold',\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  letterSpacing: '2vw',\r\n  // marginLeft: \"20vw\",\r\n  // paddingLeft: \"18%\"\r\n};\r\n\r\nconst left = {\r\n  flex: 4,\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  // border: \"2px solid purple\",\r\n  alignItems: 'flex-end',\r\n  justifyContent: 'flex-end',\r\n};\r\n\r\nconst middle = {\r\n  flex: 1,\r\n  // border: \"2px solid white\",\r\n};\r\n\r\nconst right = {\r\n  flex: 4,\r\n  // border: \"2px solid orange\",\r\n  alignItems: 'flex-start',\r\n};\r\n\r\nconst lowerText = {\r\n  flex: 4,\r\n  // border: \"5px solid yellow\",\r\n  textAlign: 'center',\r\n  // backgroundColor: \"yellow\"\r\n};\r\n","/* Animation helpers, including zooming around the globe to your points*/\r\n\r\n// Given a marker, sets the focus to that marker, updating the state\r\nexport const zoomToMarker = (setFocus, m) => {\r\n    console.log(\"Setting focus to marker\", m);\r\n    setFocus([m.coordinates[0], m.coordinates[1]]);\r\n}","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Dropdown, Header, Input, Radio, Segment } from 'semantic-ui-react';\r\nimport api from '../../api';\r\n\r\nconst ApiPage = () => {\r\n\r\n  const [glojectId, setGlojectId] = useState('VtXT4nokLsKbt3penPpx');\r\n  const [difficulty, setDifficulty] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const [allTags, setAllTags] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const allTags = await api.glojects.getAllTags();\r\n      setAllTags(allTags.map((tag) => ({key: tag, text: tag, value: tag})));\r\n    };\r\n    ue();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        API Implementation - check console\r\n      </Header>\r\n      <Segment>\r\n        <Button\r\n          content=\"Get all glojects\"\r\n          onClick={() => api.glojects.getAll().then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Button\r\n          content=\"Get all active glojects\"\r\n          onClick={() => api.glojects.getAllActives().then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Input\r\n          placeholder='glojectId'\r\n          id='glojectId'\r\n          value={glojectId}\r\n          onChange={(e) => setGlojectId(e.target.value)}\r\n        />\r\n        <Button\r\n          content=\"Get gloject by id\"\r\n          onClick={() => api.glojects.getById(glojectId).then((res) => console.log(res))}\r\n        />\r\n      </Segment>\r\n\r\n      <Segment>\r\n        <Radio\r\n          label='None'\r\n          value=''\r\n          checked={difficulty === ''}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Easy'\r\n          value='EASY'\r\n          checked={difficulty === 'EASY'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Medium'\r\n          value='MEDIUM'\r\n          checked={difficulty === 'MEDIUM'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n        <Radio\r\n          label='Hard'\r\n          value='HARD'\r\n          checked={difficulty === 'HARD'}\r\n          onChange={(e, { value }) => setDifficulty(value)}\r\n        />\r\n\r\n        <Dropdown\r\n          placeholder='Tags'\r\n          multiple\r\n          search\r\n          selection\r\n          options={allTags}\r\n          onChange={(e, {value}) => setTags(value)}\r\n        />\r\n        <Button\r\n          content=\"Get gloject meeting filters\"\r\n          onClick={() => api.glojects.getAllFilters({difficulty, tags}).then((res) => console.log(res + \" difficulty was \" + difficulty + \"!!!\"))}\r\n        />\r\n      </Segment>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ApiPage;","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Button, Container, Form, Header, Message, Popup, Radio } from 'semantic-ui-react';\r\nimport api from '../../api';\r\nimport { fileToDataUrl, redirect } from '../../helpers';\r\n\r\nconst EditGlojectPage = (props) => {\r\n  const { glojectId } = props.match.params;\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  // const [dueDate, setDueDate] = useState(null); // Due date gives time pressure - not rly a good thing? Make people learn and do stuff at their own pace\r\n  const [tags, setTags] = useState('');\r\n  const [difficulty, setDifficulty] = useState('EASY');\r\n  // const [language, setLanguage] = useState('English'); // I think we shouldn't do language because it creates a barrier of entry - better to force everyoen to use English?\r\n  const [maxTeamSize, setMaxTeamSize] = useState(6);\r\n  const [image, setImage] = useState('');\r\n  const [location, setLocation] = useState({longitude: 0, latitude: 0});\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const ue = async () => {\r\n      const glojectData = await api.glojects.getById(glojectId);\r\n      setTitle(glojectData.title);\r\n      setDescription(glojectData.description);\r\n      setTags(glojectData.tags.join(', '));\r\n      setDifficulty(glojectData.difficulty);\r\n      setMaxTeamSize(parseInt(glojectData.maxTeamSize, 10));\r\n      setImage(glojectData.image);\r\n      setLocation(glojectData.location);\r\n    };\r\n    ue();\r\n  }, [glojectId]);\r\n\r\n  const convertAndSetImage = async (file) => {\r\n    try {\r\n      const dataUrl = await fileToDataUrl(file);\r\n      setImage(dataUrl);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const extractTags = (tagsString) => [...new Set(tagsString\r\n    .split(',')\r\n    .map((tag) => tag.trim())\r\n    .filter((tag) => !!tag))];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (title === '') {\r\n      setErrorMsg('Title must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (description === '') {\r\n      setErrorMsg('Description must not be empty');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    if (maxTeamSize === '' || maxTeamSize < 2) {\r\n      setErrorMsg('Maximum team size must be an integer greater than or equal to 2');\r\n      setError(true);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    await api.glojects.update(glojectId, {\r\n      title, description, difficulty, image, maxTeamSize, location,\r\n      tags: extractTags(tags),\r\n    })\r\n    setLoading(false);\r\n\r\n    redirect(`/g/${glojectId}`);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header size='huge' content=\"Edit Gloject\"/>\r\n\r\n      <Button content='Mark as complete' positive onClick={(e) => {\r\n        e.preventDefault();\r\n        api.glojects.update({status: 'COMPLETED'});\r\n        redirect(\"/\");\r\n      }}/>\r\n      <Button content='Delete' negative onClick={(e) => {\r\n        e.preventDefault();\r\n        api.glojects.update({status: 'ARCHIVED'});\r\n        redirect(\"/\");\r\n      }}/>\r\n\r\n      <Form loading={loading} error={error} onSubmit={handleSubmit}>\r\n        <Message error content={errorMsg} />\r\n        <Form.Input\r\n          name='glojectTitle'\r\n          label='Title'\r\n          placeholder='Title'\r\n          id='Title'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <Form.TextArea\r\n          name='glojectDescription'\r\n          label='Description'\r\n          placeholder='Description'\r\n          id='Description'\r\n          value={description}\r\n          style={{ minHeight: 100 }}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            icon='group'\r\n            iconPosition='left'\r\n            label='Maximum Team Size (including you)'\r\n            placeholder='Maximum Team Size'\r\n            type='number'\r\n            value={maxTeamSize}\r\n            onChange={(e) => setMaxTeamSize(parseInt(e.target.value, 10) >= 2 ? e.target.value : 2)}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Cover photo'\r\n            type='file'\r\n            accept='image/png, image/jpeg, image/jpg'\r\n            onChange={(e) => convertAndSetImage(e.target.files[0])}\r\n          />\r\n        </Form.Group>\r\n\r\n        <label>Location Coordinates</label>\r\n        <Form.Group widths='equal'>\r\n          <Form.Input\r\n            label='Longitude'\r\n            placeholder='longitude'\r\n            value={location.longitude}\r\n            onChange={(e) => setLocation({longitude: e.target.value, latitude: location.latitude})}\r\n          />\r\n\r\n          <Form.Input\r\n            label='Latitude'\r\n            placeholder='latitude'\r\n            value={location.latitude}\r\n            onChange={(e) => setLocation({longitude: location.longitude, latitude: e.target.value})}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Field>\r\n          <label>Difficulty Level</label>\r\n          <Form.Group inline>\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Easy'\r\n              value='EASY'\r\n              checked={difficulty === 'EASY'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Medium'\r\n              value='MEDIUM'\r\n              checked={difficulty === 'MEDIUM'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label='Hard'\r\n              value='HARD'\r\n              checked={difficulty === 'HARD'}\r\n              onChange={(e, { value }) => setDifficulty(value)}\r\n            />\r\n          </Form.Group>\r\n        </Form.Field>\r\n        <Form.Input\r\n          name='glojectTags'\r\n          label='Tags'\r\n          placeholder='Tag (comma separated)'\r\n          id='Tags'\r\n          value={tags}\r\n          onChange={(e) => {setTags(e.target.value)}}\r\n        />\r\n\r\n        <Button primary type='submit' content='Save Gloject' />\r\n        <Button content='Cancel' onClick={(e) => redirect(`/g/${glojectId}`)}/>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditGlojectPage;\r\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './PrivateRoute';\r\nimport SignupPage from './components/signupPage/SignupPage';\r\nimport GlojectPage from './components/glojectPage.jsx/GlojectPage';\r\nimport UserProfilePage from './components/userProfilePage/UserProfilePage';\r\nimport NavBar from './components/common/NavBar';\r\nimport NewGlojectPage from './components/newGlojectPage/NewGlojectPage';\r\nimport World from './components/World';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport ApiPage from './components/apiPage/ApiPage';\r\nimport EditGlojectPage from './components/editGlojectPage/EditGlojectPage';\r\nimport { StoreProvider } from './utils/store';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <StoreProvider>\r\n        <NavBar />\r\n        <Router>\r\n          <Switch>\r\n            {console.log('In router')}\r\n            <PrivateRoute\r\n              path={`${process.env.PUBLIC_URL}/signup`}\r\n              component={SignupPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/`}\r\n              component={World}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/api`}\r\n              component={ApiPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/g/new`}\r\n              component={NewGlojectPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/g/:glojectId`}\r\n              component={GlojectPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/g/:glojectId/edit`}\r\n              component={EditGlojectPage}\r\n            />\r\n            <Route\r\n              exact\r\n              path={`${process.env.PUBLIC_URL}/u/:uid`}\r\n              component={UserProfilePage}\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </StoreProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}