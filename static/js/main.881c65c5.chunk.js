(this.webpackJsonpglojects=this.webpackJsonpglojects||[]).push([[0],{191:function(e,t,n){},202:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(76),i=n.n(r),o=(n(191),n(74)),s=n(22),l=n(3),u=function(e){return Object(l.jsx)(s.b,{path:e.path,component:e.component})},j=n(7),d=n(9),b=n.n(d),p=n(14),f=n(232),O=n(237),g=n(229),h=n(226),x=n(207),m=n(110),v=n(48),y=n(11),w=n(51),C=n(168),S=n(145),k=n(111),I=(n(201),{apiKey:"AIzaSyDnFzcl4K2gtIBIETg77m3a6N_izwZAGS4",authDomain:"glojects.firebaseapp.com",projectId:"glojects",storageBucket:"glojects.appspot.com",messagingSenderId:"837750996466",appId:"1:837750996466:web:79dc5e0db7ade834fb3f6b",measurementId:"G-6V45WZLM9W"}),A=n.p+"static/media/default.b832cfe0.png",D=function(e){var t=[];return e.forEach((function(e){var n=e.id,c=e.data(),a=Object(S.a)({id:n},c);t.push(a)})),t},T=Object(C.a)("db"),E=new function e(){var t=this;Object(y.a)(this,e),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object(w.a)(this,T)[T]=(0===k.a.apps.length&&k.a.initializeApp(I),k.a.firestore()),this.glojects={getAll:function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("glojects").get();case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllActives:function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("glojects").where("status","==","ACTIVE").get();case 2:return n=e.sent,e.abrupt("return",D(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(p.a)(b.a.mark((function e(n){var c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(w.a)(t,T)[T].collection("glojects").doc(n).get();case 4:if((c=e.sent).exists){e.next=7;break}return e.abrupt("return",{});case 7:return a=c.id,r=c.data(),e.abrupt("return",Object(S.a)({id:a},r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllFilters:function(){var e=Object(p.a)(b.a.mark((function e(n){var c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.difficulty,a=n.tags,e.next=3,t.glojects.getAll();case 3:return r=e.sent,console.log("tags length",a.length),e.abrupt("return",r.filter((function(e){return""===c||e.difficulty===c})).filter((function(e){return!a.length||a.every((function(t){return e.tags.includes(t)}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllTags:function(){var e=Object(p.a)(b.a.mark((function e(){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getAll();case 2:return n=e.sent,c=Object(v.a)(new Set(n.map((function(e){return e.tags})).flat())),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),exists:function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.glojects.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("glojects").add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("glojects").doc(n).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(p.a)(b.a.mark((function e(n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("glojects").doc(n).update(c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},this.users={createUser:function(){var e=Object(p.a)(b.a.mark((function e(n,c,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)(t,T)[T].collection("users").doc(n).set({username:c,email:a,location:r,active_glojects:[],past_glojects:[],interests:[],image:A});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),getById:function(){var e=Object(p.a)(b.a.mark((function e(n){var c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,Object(w.a)(t,T)[T].collection("users").doc(n).get();case 4:return c=e.sent,a=c.id,r=c.data(),e.abrupt("return",Object(S.a)({id:a},r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUserId:function(){return k.a.auth().currentUser.id},exists:function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.users.getById(n);case 2:return e.abrupt("return",e.sent.exists);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},M=function(){var e=Object(p.a)(b.a.mark((function e(t,n,c,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.auth().createUserWithEmailAndPassword(t,n).then((function(e){var n=e.user;n.sendEmailVerification().then((function(){console.log("Sent verification email")})),E.users.createUser(n.uid,c,t,a)})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1})),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.auth().signInWithEmailAndPassword(t,n).then((function(e){var t=e.user;if(!(null===t||void 0===t?void 0:t.emailVerified))throw new Error("Please verify your email");return console.log("Successfully logged in.",t),localStorage.setItem("id",t.uid),!0})).catch((function(e){var t=e.code,n=e.message;return console.log(t,n),!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.auth().signOut().then((function(){localStorage.removeItem("id"),console.log("Logged out!")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=(n(114),n(202),Object(c.createContext)(null)),B=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),s=Object(j.a)(o,2),u=s[0],d=s[1],b=Object(c.useState)(""),p=Object(j.a)(b,2),f=p[0],O=p[1],g=Object(c.useState)(!1),h=Object(j.a)(g,2),x=h[0],m=h[1],v=Object(c.useState)(""),y=Object(j.a)(v,2),w=y[0],C=y[1],S=Object(c.useState)(!1),k=Object(j.a)(S,2),I=k[0],A=k[1],D=Object(c.useState)(!1),T=Object(j.a)(D,2),E=T[0],M=T[1],L=Object(c.useState)(!1),G=Object(j.a)(L,2),B={loggedInContext:[r,i],profileOpenContext:[u,d],profileIdContext:[f,O],glojectOpenContext:[x,m],glojectIdContext:[w,C],signupContext:[I,A],loginContext:[E,M],newGlojectContext:[G[0],G[1]]};return Object(l.jsx)(F.Provider,{value:B,children:t})};function z(){var e=a.a.useState(""),t=Object(j.a)(e,2),n=t[0],r=t[1],i=a.a.useState(""),o=Object(j.a)(i,2),s=o[0],u=o[1],d=a.a.useState(""),m=Object(j.a)(d,2),v=m[0],y=m[1],w=a.a.useState(""),C=Object(j.a)(w,2),S=C[0],k=C[1],I=Object(c.useContext)(F).signupContext,A=Object(j.a)(I,2),D=A[0],T=A[1],E=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(s,S,n,v);case 2:T(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(f.a,{dimmer:"blurring",open:D,onClose:function(){return T(!1)},basic:!0,size:"tiny",style:{display:"flex",justifyContent:"center"},children:[Object(l.jsxs)(O.a,{as:"h1",textAlign:"center",children:["Become part of Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(l.jsx)(f.a.Content,{children:Object(l.jsx)(g.a,{children:Object(l.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Username"}),Object(l.jsx)(h.a,{onChange:function(e){return r(e.target.value)},placeholder:"xxJohnSmithxx",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey",color:"white"}}),Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(l.jsx)(h.a,{onChange:function(e){return u(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(l.jsx)(h.a,{onChange:function(e){return k(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,type:"password",transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Location"}),Object(l.jsx)(h.a,{onChange:function(e){return y(e.target.value)},placeholder:"Sydney",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}})]})})}),Object(l.jsx)(x.a,{style:{margin:"auto",display:"flex",justifyContent:"center"},inverted:!0,onClick:function(){return E()},children:"Sign up"})]})}var R=function(){var e=Object(s.g)(),t=Object(c.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(l.jsxs)("div",{children:["Sign up page",Object(l.jsx)("button",{onClick:function(){return e.push("/")},children:"Back to landing"}),Object(l.jsx)(z,{signupOpen:a,setSignupOpen:r})]})},P=n(227),H=n(176),U=n(235),q=n(238),Y=n(109),V=n(230),_=n(233),N=n(55),J=function(e){var t=e.leaveTeam,n=e.profileId,a=e.setProfileId,r=e.type,i=Object(c.useState)({}),o=Object(j.a)(i,2),s=o[0],u=o[1],d=Object(c.useContext)(F),f=d.profileOpenContext,O=d.glojectOpenContext,g=d.loggedInContext,h=Object(j.a)(g,2),x=h[0],m=(h[1],Object(j.a)(f,2)),v=m[0],y=m[1],w=Object(j.a)(O,2),C=w[0],S=w[1],k=localStorage.getItem("id");Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.users.getById(n);case 2:t=e.sent,console.log("response",t),u(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,v,C,x]);return console.log("type",r),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("a",{onClick:function(){return a(n),y(!0),S(!1),void console.log(n)},style:{flexGrow:1,alignSelf:"center",color:"".concat("light"===r?"white":"black")},children:[Object(l.jsx)(H.a,{src:s.image,avatar:!0,style:{marginRight:"0.5em"}}),Object(l.jsx)("span",{style:{flexGrow:1,width:"200px"},children:"".concat(s.username).concat(n===k?" (You)":"")})]}),t&&Object(l.jsx)(N.a,{fitted:!0,circular:!0,inverted:!0,size:"tiny",color:"grey",name:"minus",style:{cursor:"pointer"},onClick:function(e){return t()}})]})},W=n.p+"static/media/plus.3b1907cc.svg",K=function(e){var t,n=e.glojectData,a=e.setGlojectData,r=e.setSuccess,i=e.setSuccessMsg,o=Object(c.useState)(!1),s=Object(j.a)(o,2),u=s[0],d=s[1],f=Object(c.useContext)(F),g=f.profileOpenContext,h=f.profileIdContext,x=f.glojectOpenContext,m=Object(j.a)(g,2),v=(m[0],m[1],Object(j.a)(h,2)),y=(v[0],v[1]),w=Object(j.a)(x,2);w[0],w[1];Object(c.useEffect)((function(){var e,t,c,a;console.log(null===(e=n.team)||void 0===e?void 0:e.includes(C),(null===(t=n.team)||void 0===t?void 0:t.length)<n.maxTeamSize-1),console.log(n),d(!(null===(c=n.team)||void 0===c?void 0:c.includes(C))&&(null===(a=n.team)||void 0===a?void 0:a.length)<n.maxTeamSize-1)}),[n]);var C=localStorage.getItem("id"),S=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.concat(C)},e.next=3,E.glojects.update(n.id,t);case 3:return e.t0=a,e.next=6,E.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1),i("You have successfully joined the team!"),r(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={team:n.team.filter((function(e){return e!==C}))},e.next=3,E.glojects.update(n.id,t);case 3:return e.t0=a,e.next=6,E.glojects.getById(n.id);case 6:e.t1=e.sent,(0,e.t0)(e.t1),i("You have successfully removed yourself from the team."),r(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{size:"tiny",style:{color:"white"},children:"Owner:"}),Object(l.jsx)(J,{profileId:n.owner,setProfileId:y,type:"light"}),Object(l.jsx)(O.a,{size:"tiny",style:{marginTop:"1em",color:"white"},children:"Team members:"}),Object(l.jsxs)(V.a.Group,{as:_.a,duration:200,divided:!0,verticalAlign:"middle",children:[null===(t=n.team)||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)(_.a.Item,{children:Object(l.jsx)(J,{profileId:e,type:"light",setProfileId:y,leaveTeam:k})},t)})),u&&Object(l.jsxs)(_.a.Item,{style:{cursor:"pointer"},onClick:function(e){return S()},children:[Object(l.jsx)(H.a,{src:W,avatar:!0,style:{marginRight:"0.5em"}}),Object(l.jsx)("span",{style:{color:"grey"},children:"Join team"})]})]})]})};function Z(e){if(!["image/jpeg","image/png","image/jpg"].find((function(t){return t===e.type})))throw new Error("provided file is not a png, jpg or jpeg image.");var t=new FileReader,n=new Promise((function(e,n){t.onerror=n,t.onload=function(){return e(t.result)}}));return t.readAsDataURL(e),n}function X(e){document.location.href="".concat("/glojects").concat(e)}var Q=function(e){var t=e.difficulty,n="EASY"===t?"green":"MEDIUM"===t?"yellow":"red";return Object(l.jsx)(Y.a,{color:n,children:t})},$=n(231),ee=function(e){var t=e.comment,n=t.time,a=t.userId,r=t.content,i=Object(c.useState)({}),o=Object(j.a)(i,2),s=o[0],u=o[1];return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.users.getById(a);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(l.jsxs)($.a,{children:[Object(l.jsx)($.a.Avatar,{as:"a",href:"".concat("/glojects","/u/").concat(a),src:s.image||A}),Object(l.jsxs)($.a.Content,{style:{color:"white"},children:[Object(l.jsx)($.a.Author,{as:"a",href:"".concat("/glojects","/u/").concat(a),children:s.username}),Object(l.jsx)($.a.Metadata,{style:{color:"gray"},children:Object(l.jsx)("div",{children:n})}),Object(l.jsx)($.a.Text,{style:{color:"white"},children:r})]})]})},te=function(e){var t,n,a=e.glojectData,r=e.setGlojectData,i=Object(c.useState)(""),o=Object(j.a)(i,2),s=o[0],u=o[1],d=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==s.trim().length){e.next=3;break}return e.abrupt("return");case 3:return c=new Date,i={time:"".concat(c.toDateString()," ").concat(c.toTimeString().slice(0,8)),userId:localStorage.getItem("id"),content:s},e.next=7,E.glojects.update(a.id,{comments:(o=a.comments,o&&0!==Object.keys(a.comments).length?null===(n=a.comments)||void 0===n?void 0:n.concat(i):[i])});case 7:return u(""),e.t0=r,e.next=11,E.glojects.getById(a.id);case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(g.a,{children:[Object(l.jsx)(g.a.TextArea,{name:"glojectComment",label:"Comment",placeholder:"Comment",id:"Comment",value:s,style:{minHeight:100},onChange:function(e){return u(e.target.value)}}),Object(l.jsx)(x.a,{content:"Post",primary:!0,onClick:function(e){return d(e)}})]}),0===(null===(t=a.comment)||void 0===t?void 0:t.length)?"Be the first one to comment!":Object(l.jsx)($.a.Group,{style:{color:"white"},children:null===(n=a.comments)||void 0===n?void 0:n.map((function(e,t){return Object(l.jsx)(ee,{comment:e},t)}))})]})},ne=function(e){var t,n,a=e.match.params.glojectId,r=Object(c.useState)({}),i=Object(j.a)(r,2),o=i[0],s=i[1],u=Object(c.useState)(!1),d=Object(j.a)(u,2),f=d[0],g=d[1],h=Object(c.useState)(""),m=Object(j.a)(h,2),v=m[0],y=m[1];return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.glojects.getById(a);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(l.jsxs)(P.a,{children:[Object(l.jsx)(H.a,{style:{objectFit:"cover",maxHeight:100,marginBottom:"1em"},fluid:!0,src:o.image}),Object(l.jsx)(U.a,{hidden:!f,success:!0,content:v}),Object(l.jsxs)(q.a,{columns:"equal",children:[Object(l.jsxs)(q.a.Column,{width:10,children:[Object(l.jsx)(O.a,{size:"huge",children:o.title}),Object(l.jsx)(Y.a.Group,{children:Object(l.jsx)(Q,{difficulty:o.difficulty})})]}),Object(l.jsx)(q.a.Column,{children:Object(l.jsx)(x.a,{circular:!0,floated:"right",icon:"pencil",primary:!0,onClick:function(){return X("/g/".concat(a,"/edit"))}})})]}),Object(l.jsxs)(q.a,{columns:"equal",children:[Object(l.jsxs)(q.a.Column,{width:10,children:[null===(t=o.description)||void 0===t?void 0:t.split("\n").map((function(e,t){return Object(l.jsx)("p",{children:e},t)})),Object(l.jsx)(Y.a.Group,{tag:!0,style:{marginBottom:"2em"},children:null===(n=o.tags)||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(Y.a,{children:e},e)}))}),Object(l.jsx)(te,{glojectData:o,setGlojectData:s})]}),Object(l.jsx)(q.a.Column,{children:Object(l.jsx)(K,{glojectData:o,setGlojectData:s,setSuccess:g,setSuccessMsg:y})})]})]})},ce=function(e){e.params.math.userId;var t=Object(s.h)().uid,n=(Object(s.g)(),Object(c.useState)({})),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)([]),u=Object(j.a)(o,2),d=u[0],f=u[1],g=Object(c.useState)([]),h=Object(j.a)(g,2),x=h[0],m=h[1];return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.users.getById(t);case 2:return n=e.sent,i(n),e.next=6,E.glojects.getAll();case 6:c=e.sent.filter((function(e){return t===e.owner||e.team.includes(t)})),f(c.filter((function(e){return"ACTIVE"===e.status}))),m(c.filter((function(e){return"ACTIVE"!==e.status})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(l.jsx)("div",{children:Object(l.jsxs)(P.a,{style:{marginTop:"5%"},children:[Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"70px"},children:[Object(l.jsx)(H.a,{style:{objectFit:"cover",height:"150px",width:"150px",borderRadius:"50%"},src:r.image}),Object(l.jsxs)("div",{style:{marginLeft:"50px"},children:[Object(l.jsx)(O.a,{style:{fontSize:"40px"},children:r.username}),Object(l.jsxs)(O.a,{children:["\ud83d\udce7: ",r.email]})]})]}),Object(l.jsx)(O.a,{children:"About me"}),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",Object(l.jsxs)("div",{style:{marginTop:"50px",display:"flex"},children:[Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(O.a,{children:"Active Glojects"}),d]}),Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(O.a,{children:"Past Glojects"}),x]})]})]})})},ae=n(146),re=n(147);function ie(){var e=a.a.useState(""),t=Object(j.a)(e,2),n=t[0],r=t[1],i=a.a.useState(""),o=Object(j.a)(i,2),s=o[0],u=o[1],d=Object(c.useContext)(F),b=d.loginContext,p=d.loggedInContext,g=Object(j.a)(p,2),m=(g[0],g[1]),v=Object(j.a)(b,2),y=v[0],w=v[1];return Object(l.jsxs)(f.a,{dimmer:"blurring",open:y,onClose:function(){return w(!1)},basic:!0,size:"tiny",style:{zIndex:-1,display:"flex",justifyContent:"center"},children:[Object(l.jsxs)(O.a,{as:"h1",textAlign:"center",children:["Login to Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects now!"]}),Object(l.jsx)(f.a.Content,{children:Object(l.jsxs)("div",{style:{margin:10,marginRight:40,marginLeft:40},children:[Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Email"}),Object(l.jsx)(h.a,{onChange:function(e){return r(e.target.value)},placeholder:"john_smith@email.com",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"}}),Object(l.jsx)(O.a,{as:"h3",style:{color:"white"},children:"Password"}),Object(l.jsx)(h.a,{onChange:function(e){return u(e.target.value)},placeholder:"*******",fluid:!0,required:!0,autoFocus:!0,transparent:!0,style:{borderBottom:"1px solid grey"},type:"password"})]})}),Object(l.jsx)(f.a.Actions,{children:Object(l.jsx)(x.a,{inverted:!0,style:{margin:"auto",display:"flex",justifyContent:"center"},onClick:function(){L(n,s).then((function(){m(!0),w(!1)}))},children:"Log in"})})]})}var oe=n(16);function se(){var e,t=Object(c.useContext)(F),n=t.profileOpenContext,a=t.profileIdContext,r=t.glojectOpenContext,i=t.glojectIdContext,o=Object(j.a)(n,2),u=o[0],d=o[1],g=Object(j.a)(a,2),h=g[0],x=(g[1],Object(j.a)(r,2)),m=(x[0],x[1]),v=Object(j.a)(i,2),y=(v[0],v[1]),w=(Object(s.g)(),Object(c.useState)({active_glojects:[],past_glojects:[]})),C=Object(j.a)(w,2),S=C[0],k=C[1],I=Object(c.useState)([]),A=Object(j.a)(I,2),D=A[0],T=A[1],M=Object(c.useState)([]),L=Object(j.a)(M,2),G=L[0],B=L[1],z=function(e){d(!1),y(e),m(!0)};return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.users.getById(h);case 2:return t=e.sent,k(t),e.next=6,E.glojects.getAll();case 6:n=e.sent.filter((function(e){return h===e.owner||e.team.includes(h)})),T(n.filter((function(e){return"ACTIVE"===e.status})).map((function(e){return Object(l.jsx)(Y.a,{color:"black",as:"a",style:{marginBottom:"0.5em"},onClick:function(){return z(e.id)},children:e.title})}))),B(n.filter((function(e){return"ACTIVE"!==e.status})).map((function(e){return Object(l.jsx)(Y.a,{color:"black",as:"a",style:{marginBottom:"0.5em"},onClick:function(){return z(e.id)},children:e.title})})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[S,u]),Object(l.jsx)(f.a,(e={dimmer:"blurring",open:u,onClose:function(){return d(!1)},basic:!0,size:"tiny",style:{zIndex:-1}},Object(oe.a)(e,"style",{display:"flex",justifyContent:"center"}),Object(oe.a)(e,"children",Object(l.jsx)("div",{children:Object(l.jsxs)(P.a,{style:{marginTop:"5%"},children:[Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"70px"},children:[Object(l.jsx)(H.a,{style:{objectFit:"cover",height:"150px",width:"150px",borderRadius:"50%"},src:S.image}),Object(l.jsxs)("div",{style:{marginLeft:"50px"},children:[Object(l.jsx)(O.a,{style:{fontSize:"40px",color:"white"},children:S.username}),Object(l.jsxs)(O.a,{style:{color:"white"},children:["\ud83d\udce7: ",S.email]})]})]}),Object(l.jsx)(O.a,{style:{color:"white"},children:"About me"}),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",Object(l.jsxs)("div",{style:{marginTop:"50px",display:"flex"},children:[Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(O.a,{style:{color:"white"},children:"Active Glojects"}),D]}),Object(l.jsxs)("div",{style:{flex:1,display:"block"},children:[Object(l.jsx)(O.a,{style:{color:"white"},children:"Past Glojects"}),G]})]})]})})),e))}var le,ue,je,de=n(234),be=function(e){var t,n=Object(c.useContext)(F),a=n.profileIdContext,r=n.glojectOpenContext,i=n.glojectIdContext,o=Object(j.a)(a,2),s=(o[0],o[1]),u=Object(j.a)(r,2),d=(u[0],u[1]),b=Object(j.a)(i,2),p=(b[0],b[1]);return console.log("props",e),Object(l.jsxs)(de.a,{children:[Object(l.jsx)(H.a,{src:e.src,wrapped:!0,ui:!1}),Object(l.jsxs)(de.a.Content,{children:[Object(l.jsx)(de.a.Header,{children:e.title}),Object(l.jsx)(de.a.Meta,{children:Object(l.jsx)("span",{className:"date",children:e.tags&&e.tags.map((function(e){return Object(l.jsx)("span",{children:e})}))})}),Object(l.jsx)(de.a.Description,{children:e.description})]}),Object(l.jsx)(de.a.Content,{extra:!0,children:Object(l.jsxs)("div",{children:[Object(l.jsx)(O.a,{as:"h5",children:"The Team"}),null===(t=e.team)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)("div",{style:{margin:"5px 0"},children:Object(l.jsx)(J,{profileId:e,setProfileId:s,type:"dark"})})}))]})}),Object(l.jsxs)(de.a.Content,{extra:!0,children:[Object(l.jsx)(O.a,{as:"h5",children:"Creator"}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(l.jsx)(J,{profileId:e.owner,setProfileId:s,type:"dark"}),Object(l.jsx)("a",{onClick:function(){return console.log("props",e),p(e.id),void d(!0)},children:"Read more"})]})]})]})};function pe(){var e,t,n,a=Object(c.useContext)(F),r=a.profileOpenContext,i=a.profileIdContext,o=a.glojectOpenContext,s=a.glojectIdContext,u=Object(j.a)(r,2),d=(u[0],u[1],Object(j.a)(i,2)),g=(d[0],d[1],Object(j.a)(o,2)),h=g[0],m=g[1],v=Object(j.a)(s,2),y=v[0],w=(v[1],Object(c.useState)({})),C=Object(j.a)(w,2),S=C[0],k=C[1],I=Object(c.useState)(!1),A=Object(j.a)(I,2),D=A[0],T=A[1],M=Object(c.useState)(""),L=Object(j.a)(M,2),G=L[0],B=L[1];return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.glojects.getById(y);case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y]),Object(l.jsx)(f.a,(n={dimmer:"blurring",open:h,onClose:function(){return m(!1)},basic:!0,size:"tiny",style:{zIndex:-1}},Object(oe.a)(n,"style",{display:"flex",justifyContent:"center"}),Object(oe.a)(n,"children",Object(l.jsxs)(P.a,{children:[Object(l.jsx)(H.a,{style:{objectFit:"cover",maxHeight:100,marginBottom:"1em"},fluid:!0,src:S.image}),Object(l.jsx)(U.a,{hidden:!D,success:!0,content:G}),Object(l.jsxs)(q.a,{columns:"equal",children:[Object(l.jsxs)(q.a.Column,{width:10,children:[Object(l.jsx)(O.a,{style:{color:"white"},size:"huge",children:S.title}),Object(l.jsx)(Y.a.Group,{children:Object(l.jsx)(Q,{difficulty:S.difficulty})})]}),Object(l.jsx)(q.a.Column,{children:Object(l.jsx)(x.a,{circular:!0,floated:"right",icon:"pencil",primary:!0,onClick:function(){return X("/g/".concat(y,"/edit"))}})})]}),Object(l.jsxs)(q.a,{columns:"equal",children:[Object(l.jsxs)(q.a.Column,{width:10,children:[null===(e=S.description)||void 0===e?void 0:e.split("\n").map((function(e,t){return Object(l.jsx)("p",{children:e},t)})),Object(l.jsx)(Y.a.Group,{tag:!0,style:{marginBottom:"2em"},children:null===(t=S.tags)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(Y.a,{children:e},e)}))}),Object(l.jsx)(te,{glojectData:S,setGlojectData:k})]}),Object(l.jsx)(q.a.Column,{children:Object(l.jsx)(K,{glojectData:S,setGlojectData:k,setSuccess:T,setSuccessMsg:B})})]})]})),n))}var fe=re.a.div(le||(le=Object(ae.a)(["\n  display: flex;\n  justify-content: space-between;\n  // align-items: center;\n  // padding: 10px;\n  position: absolute;\n  top: 1vh;\n  // margin: 10px;\n  margin-right: 1vw;\n  margin-left: 1vw;\n  width: 100%;\n"]))),Oe=(re.a.div(ue||(ue=Object(ae.a)([""]))),re.a.div(je||(je=Object(ae.a)(["\n  display: flex;\n  // justify-content: center;\n  // padding: 10px;\n  // margin: 10px;\n  padding-left: 1vw;\n  padding-right: 1vw;\n  width: 275px;\n  // background-color: green;\n  justify-content: space-between;\n"])))),ge=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),s=(o[0],o[1],Object(c.useContext)(F)),u=s.loggedInContext,d=s.profileOpenContext,f=s.profileIdContext,g=s.glojectOpenContext,h=s.glojectIdContext,m=s.signupContext,v=s.loginContext,y=Object(j.a)(u,2),w=y[0],C=y[1],S=Object(j.a)(m,2),k=(S[0],S[1]),I=Object(j.a)(v,2),A=(I[0],I[1]),D=Object(j.a)(d,2),T=(D[0],D[1],Object(j.a)(f,2)),E=(T[0],T[1]),M=Object(j.a)(g,2),L=(M[0],M[1],Object(j.a)(h,2)),B=(L[0],L[1],function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:C(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){window.location.pathname;var e=localStorage.getItem("id");console.log("user",e),w||null!==e?(console.log(w,e),r(Object(l.jsxs)(Oe,{children:[Object(l.jsx)(J,{style:{margin:"10px"},profileId:e,setProfileId:E,type:"light"}),Object(l.jsx)(x.a,{name:"sign out",inverted:!0,onClick:B,style:{margin:"10px"},children:"Sign Out"})]}))):r(Object(l.jsxs)(Oe,{children:[Object(l.jsx)(x.a,{name:"sign in",style:{margin:"5px"},inverted:!0,onClick:function(){return A(!0)},children:"Sign In"}),Object(l.jsx)(x.a,{name:"register",style:{margin:"5px"},inverted:!0,onClick:function(){return k(!0)},children:"Register"})]}))}),[w]),Object(l.jsxs)(fe,{children:[Object(l.jsxs)(O.a,{as:"h1",style:{color:"white"},children:["Gl",Object(l.jsx)("span",{children:"\ud83c\udf0e"}),"jects"]}),Object(l.jsxs)(Oe,{children:[a,Object(l.jsx)(z,{}),Object(l.jsx)(ie,{}),Object(l.jsx)(se,{}),Object(l.jsx)(pe,{})]})]})},he=n(225),xe=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(j.a)(r,2),o=i[0],s=i[1],u=Object(c.useState)(""),d=Object(j.a)(u,2),f=d[0],h=d[1],m=Object(c.useState)("EASY"),y=Object(j.a)(m,2),w=y[0],C=y[1],S=Object(c.useState)(6),k=Object(j.a)(S,2),I=k[0],A=k[1],D=Object(c.useState)(""),T=Object(j.a)(D,2),M=T[0],L=T[1],G=Object(c.useState)({longitude:0,latitude:0}),F=Object(j.a)(G,2),B=F[0],z=F[1],R=[],H=[],q=Object(c.useState)(!1),Y=Object(j.a)(q,2),V=Y[0],_=Y[1],N=Object(c.useState)(""),J=Object(j.a)(N,2),W=J[0],K=J[1],Q=Object(c.useState)(!1),$=Object(j.a)(Q,2),ee=$[0],te=$[1],ne=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:n=e.sent,L(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=5;break}return K("Title must not be empty"),te(!0),e.abrupt("return");case 5:if(""!==o){e.next=9;break}return K("Description must not be empty"),te(!0),e.abrupt("return");case 9:return _(!0),e.next=12,E.glojects.create({title:n,description:o,difficulty:w,owner:"9cT8BRyqvf9I8l9EPB6i",team:R,status:"ACTIVE",image:M,maxTeamSize:I,location:B,comments:H,tags:(a=f,Object(v.a)(new Set(a.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 12:c=e.sent,_(!1),X("/g/".concat(c.id));case 15:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(P.a,{children:[Object(l.jsx)(O.a,{size:"huge",content:"Make a new Gloject"}),Object(l.jsxs)(g.a,{loading:V,error:ee,onSubmit:ce,children:[Object(l.jsx)(U.a,{error:!0,content:W}),Object(l.jsx)(g.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:n,onChange:function(e){return a(e.target.value)}}),Object(l.jsx)(g.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:o,style:{minHeight:100},onChange:function(e){return s(e.target.value)}}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:I,onChange:function(e){return A(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(l.jsx)(g.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return ne(e.target.files[0])}})]}),Object(l.jsx)("label",{children:"Location Coordinates"}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{label:"Longitude",placeholder:"longitude",value:B.longitude,onChange:function(e){return z({longitude:e.target.value,latitude:B.latitude})}}),Object(l.jsx)(g.a.Input,{label:"Latitude",placeholder:"latitude",value:B.latitude,onChange:function(e){return z({longitude:B.longitude,latitude:e.target.value})}})]}),Object(l.jsxs)(g.a.Field,{children:[Object(l.jsx)("label",{children:"Difficulty Level"}),Object(l.jsxs)(g.a.Group,{inline:!0,children:[Object(l.jsx)(g.a.Field,{control:he.a,label:"Easy",value:"EASY",checked:"EASY"===w,onChange:function(e,t){var n=t.value;return C(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===w,onChange:function(e,t){var n=t.value;return C(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Hard",value:"HARD",checked:"HARD"===w,onChange:function(e,t){var n=t.value;return C(n)}})]})]}),Object(l.jsx)(g.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:f,onChange:function(e){h(e.target.value)}}),Object(l.jsx)(x.a,{inverted:!0,type:"submit",content:"Create Gloject"})]})]})},me=n(175),ve=n.p+"static/media/8k.c6149084.jpeg",ye=n(228),we=function(e){var t={id:e.id,title:e.title,description:e.description,difficulty:e.difficulty,coordinates:[e.location.latitude,e.location.longitude],team:e.team,tags:e.tags,owner:e.owner,maxTeamSize:e.maxTeamSize,value:25,image:e.image};return"EASY"===t.difficulty?t.color="#90ee90":"MEDIUM"===t.difficulty?t.color="#fce37f":"HARD"===t.difficulty&&(t.color="#ff7272"),t},Ce=function(e){var t=e.updateGlojects,n=Object(c.useState)("ALL"),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)([]),s=Object(j.a)(o,2),u=s[0],d=s[1],f=Object(c.useState)([]),O=Object(j.a)(f,2),g=O[0],h=O[1];Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.glojects.getAllTags();case 2:t=e.sent,h(t.map((function(e){return{key:e,text:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e="ALL"===r?"EASY":"EASY"===r?"MEDIUM":"MEDIUM"===r?"HARD":"HARD"===r?"ALL":void 0;i(e);var t=e;"ALL"===t&&(t=""),v(t)},v=function(e){E.glojects.getAllFilters({difficulty:e,tags:u}).then((function(e){var n=[];e.forEach((function(e){n.push(we(e))})),t(n)}))};return Object(l.jsxs)(l.Fragment,{children:["ALL"===r?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:Se,children:["Difficulty: ",r]}):null,"EASY"===r?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:ke,children:[" ","Difficulty: ",r]}):null,"MEDIUM"===r?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:Ie,children:["Difficulty: ",r]}):null,"HARD"===r?Object(l.jsxs)(x.a,{inverted:!0,onClick:m,style:Ae,children:["Difficulty: ",r]}):null,Object(l.jsxs)("div",{style:De,children:[Object(l.jsx)(ye.a,{inverted:!0,placeholder:"Add tags",multiple:!0,search:!0,selection:!0,options:g,onChange:function(e,t){var n=t.value;return d(n)}}),Object(l.jsx)(x.a,{style:{marginLeft:"20px"},inverted:!0,content:"Filter",onClick:function(){var e=r;"ALL"===e&&(e=""),v(e)}})]})]})},Se={position:"absolute",bottom:"7.5vh",left:"1vw",color:"white"},ke={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#90ee90"},Ie={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#fce37f"},Ae={position:"absolute",bottom:"7.5vh",left:"1vw",color:"#ff7272"},De={position:"absolute",bottom:"2vh",left:"1vw"},Te=function(e){var t=e.glojects,n=e.updateFocus;return Object(l.jsx)(x.a,{style:Ee,inverted:!0,onClick:function(){var e=Math.floor(Math.random()*t.length),c=[t[e].coordinates[0],t[e].coordinates[1]];n(c)},children:"Random Gloject"})},Ee={position:"absolute",bottom:"2vh",right:"1vw"},Me=(n(205),function(e){e.updateFocus;var t,n=Object(c.useContext)(F),a=n.newGlojectContext,r=n.glojectOpenContext,i=n.glojectIdContext,o=Object(j.a)(a,2),s=o[0],u=o[1],d=Object(j.a)(r,2),h=(d[0],d[1]),m=Object(j.a)(i,2),y=(m[0],m[1]),w=Object(c.useState)(""),C=Object(j.a)(w,2),S=C[0],k=C[1],I=Object(c.useState)(""),A=Object(j.a)(I,2),D=A[0],T=A[1],M=Object(c.useState)(""),L=Object(j.a)(M,2),G=L[0],B=L[1],z=Object(c.useState)("EASY"),R=Object(j.a)(z,2),H=R[0],q=R[1],Y=Object(c.useState)(6),V=Object(j.a)(Y,2),_=V[0],N=V[1],J=Object(c.useState)(""),W=Object(j.a)(J,2),K=W[0],X=W[1],Q=Object(c.useState)({longitude:0,latitude:0}),$=Object(j.a)(Q,2),ee=$[0],te=$[1],ne=[],ce=[],ae=Object(c.useState)(!1),re=Object(j.a)(ae,2),ie=re[0],se=re[1],le=Object(c.useState)(""),ue=Object(j.a)(le,2),je=ue[0],de=ue[1],be=Object(c.useState)(!1),pe=Object(j.a)(be,2),fe=pe[0],Oe=pe[1],ge=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:n=e.sent,X(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==S){e.next=5;break}return de("Title must not be empty"),Oe(!0),e.abrupt("return");case 5:if(""!==D){e.next=9;break}return de("Description must not be empty"),Oe(!0),e.abrupt("return");case 9:return se(!0),e.next=12,E.glojects.create({title:S,description:D,difficulty:H,owner:"9cT8BRyqvf9I8l9EPB6i",team:ne,status:"ACTIVE",image:K,maxTeamSize:_,location:ee,comments:ce,tags:(c=G,Object(v.a)(new Set(c.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 12:n=e.sent,se(!1),u(!1),y(n.id),h(!0);case 17:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{inverted:!0,style:Le,onClick:function(){return u(!0)},children:"Create a Gloject"}),Object(l.jsx)(f.a,(t={dimmer:"blurring",open:s,onClose:function(){return u(!1)},basic:!0,className:"glojectModal",size:"tiny",style:{zIndex:-1}},Object(oe.a)(t,"style",{display:"flex",justifyContent:"center"}),Object(oe.a)(t,"children",Object(l.jsxs)(P.a,{children:[Object(l.jsx)(O.a,{size:"huge",content:"Make a new Gloject",style:{color:"white"}}),Object(l.jsxs)(g.a,{loading:ie,error:fe,onSubmit:xe,children:[Object(l.jsx)(U.a,{error:!0,content:je}),Object(l.jsx)(g.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:S,style:{color:"white"},onChange:function(e){return k(e.target.value)}}),Object(l.jsx)(g.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:D,style:{minHeight:100},onChange:function(e){return T(e.target.value)}}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:_,onChange:function(e){return N(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(l.jsx)(g.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return ge(e.target.files[0])}})]}),Object(l.jsx)("label",{children:"Location Coordinates"}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{label:"Longitude",placeholder:"longitude",value:ee.longitude,onChange:function(e){return te({longitude:e.target.value,latitude:ee.latitude})}}),Object(l.jsx)(g.a.Input,{label:"Latitude",placeholder:"latitude",value:ee.latitude,onChange:function(e){return te({longitude:ee.longitude,latitude:e.target.value})}})]}),Object(l.jsxs)(g.a.Field,{children:[Object(l.jsx)("label",{children:"Difficulty Level"}),Object(l.jsxs)(g.a.Group,{inline:!0,children:[Object(l.jsx)(g.a.Field,{control:he.a,label:"Easy",value:"EASY",checked:"EASY"===H,onChange:function(e,t){var n=t.value;return q(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===H,onChange:function(e,t){var n=t.value;return q(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Hard",value:"HARD",checked:"HARD"===H,onChange:function(e,t){var n=t.value;return q(n)}})]})]}),Object(l.jsx)(g.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:G,onChange:function(e){B(e.target.value)}}),Object(l.jsx)(x.a,{inverted:!0,type:"submit",content:"Create Gloject"})]})]})),t))]})}),Le={position:"absolute",bottom:"2vh",right:"16vw"},Ge={enableMarkerGlow:!0,markerGlowCoefficient:1,markerGlowPower:1,markerGlowRadiusScale:.6,markerRadiusScaleRange:[.005,.02],markerType:"dot",enableMarkerToolTip:!0,markerTooltipRenderer:function(e){return"".concat(e.title)},focusAnimationDuration:2e3,focusDistanceRadiusScale:1.5,cameraRotateSpeed:.5,focusEasingFunction:["Linear","None"],enableDefocus:!0},Fe=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),i=Object(j.a)(r,2),o=i[0],s=i[1],u=Object(c.useState)(!0),d=Object(j.a)(u,2),b=d[0],p=d[1],f=Object(c.useState)(Ge),O=Object(j.a)(f,2),g=O[0],h=(O[1],Object(c.useState)(!1)),x=Object(j.a)(h,2),m=x[0],v=x[1],y=Object(c.useState)(""),w=Object(j.a)(y,2),C=w[0],S=w[1],k=Object(c.useState)(""),I=Object(j.a)(k,2),A=I[0],D=I[1],T=Object(c.useState)([]),M=Object(j.a)(T,2),L=M[0],G=M[1],F=Object(c.useState)(""),B=Object(j.a)(F,2),z=B[0],R=B[1],P=Object(c.useState)(""),H=Object(j.a)(P,2),U=H[0],q=H[1],Y=Object(c.useState)(""),V=Object(j.a)(Y,2),_=V[0],N=V[1],J=Object(c.useState)(""),W=Object(j.a)(J,2),K=W[0],Z=W[1],X=function e(){window.removeEventListener("keydown",e,!0),window.removeEventListener("click",e,!0),s([-33,151]),p(!1)};Object(c.useEffect)((function(){window.addEventListener("keydown",X,!0),window.addEventListener("click",X,!0),E.glojects.getAllActives().then((function(e){var t=[];e.forEach((function(e,n){t.push(we(e))})),console.log("New glojects are ",t),a(t)}))}),[]);var Q=function(e){s(e)};return Object(l.jsxs)(l.Fragment,{children:[console.log("In world"),b?Object(l.jsxs)("div",{style:ze,children:[Object(l.jsx)("div",{style:Re}),Object(l.jsxs)("div",{style:Pe,children:[Object(l.jsxs)("div",{style:He,children:["G",Object(l.jsx)("span",{style:{letterSpacing:0},children:"L"})]}),Object(l.jsx)("div",{style:Ue}),Object(l.jsx)("div",{style:qe,children:"JECTS"})]}),Object(l.jsx)("div",{style:Ye,children:"Press any key to continue"})]}):null,b?null:Object(l.jsx)(Te,{glojects:n,updateFocus:Q}),b?null:Object(l.jsx)(Me,{updateFocus:Q}),b?null:Object(l.jsx)(Ce,{updateGlojects:function(e){a(e)}}),m?Object(l.jsx)("div",{style:Be,children:Object(l.jsx)(be,{src:C,title:A,tags:L,description:z,owner:U,id:_,team:K})}):null,Object(l.jsx)(me.a,{globeTexture:ve,focus:o,height:"100vh",width:"100wh",markers:n,options:g,onClickMarker:function(e){!function(e,t){console.log("Setting focus to marker",t),e([t.coordinates[0],t.coordinates[1]])}(Q,e),S(e.image),D(e.title),G(e.tags),R(e.description),q(e.owner),N(e.id),Z(e.team),v(!0)},onDefocus:function(){v(!1)},initialCameraDistanceRadiusScale:25})]})},Be={position:"fixed",right:"10%",top:"20%"},ze={width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",display:"flex",flexDirection:"column",color:"white",justifyContent:"center",pointEvents:"none"},Re={flex:4},Pe={flex:3,fontSize:"8vw",fontWeight:"bold",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",letterSpacing:"2vw"},He={flex:4,display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},Ue={flex:1},qe={flex:4,alignItems:"flex-start"},Ye={flex:4,textAlign:"center"},Ve=(n(164),n(239)),_e=function(){var e=Object(c.useState)("VtXT4nokLsKbt3penPpx"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(j.a)(r,2),o=i[0],s=i[1],u=Object(c.useState)([]),d=Object(j.a)(u,2),f=d[0],g=d[1],m=Object(c.useState)([]),v=Object(j.a)(m,2),y=v[0],w=v[1];return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.glojects.getAllTags();case 2:t=e.sent,w(t.map((function(e){return{key:e,text:e,value:e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(l.jsxs)(P.a,{children:[Object(l.jsx)(O.a,{children:"API Implementation - check console"}),Object(l.jsx)(Ve.a,{children:Object(l.jsx)(x.a,{content:"Get all glojects",onClick:function(){return E.glojects.getAll().then((function(e){return console.log(e)}))}})}),Object(l.jsx)(Ve.a,{children:Object(l.jsx)(x.a,{content:"Get all active glojects",onClick:function(){return E.glojects.getAllActives().then((function(e){return console.log(e)}))}})}),Object(l.jsxs)(Ve.a,{children:[Object(l.jsx)(h.a,{placeholder:"glojectId",id:"glojectId",value:n,onChange:function(e){return a(e.target.value)}}),Object(l.jsx)(x.a,{content:"Get gloject by id",onClick:function(){return E.glojects.getById(n).then((function(e){return console.log(e)}))}})]}),Object(l.jsxs)(Ve.a,{children:[Object(l.jsx)(he.a,{label:"None",value:"",checked:""===o,onChange:function(e,t){var n=t.value;return s(n)}}),Object(l.jsx)(he.a,{label:"Easy",value:"EASY",checked:"EASY"===o,onChange:function(e,t){var n=t.value;return s(n)}}),Object(l.jsx)(he.a,{label:"Medium",value:"MEDIUM",checked:"MEDIUM"===o,onChange:function(e,t){var n=t.value;return s(n)}}),Object(l.jsx)(he.a,{label:"Hard",value:"HARD",checked:"HARD"===o,onChange:function(e,t){var n=t.value;return s(n)}}),Object(l.jsx)(ye.a,{placeholder:"Tags",multiple:!0,search:!0,selection:!0,options:y,onChange:function(e,t){var n=t.value;return g(n)}}),Object(l.jsx)(x.a,{content:"Get gloject meeting filters",onClick:function(){return E.glojects.getAllFilters({difficulty:o,tags:f}).then((function(e){return console.log(e+" difficulty was "+o+"!!!")}))}})]})]})},Ne=function(e){var t=e.match.params.glojectId,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object(j.a)(o,2),u=s[0],d=s[1],f=Object(c.useState)(""),h=Object(j.a)(f,2),m=h[0],y=h[1],w=Object(c.useState)("EASY"),C=Object(j.a)(w,2),S=C[0],k=C[1],I=Object(c.useState)(6),A=Object(j.a)(I,2),D=A[0],T=A[1],M=Object(c.useState)(""),L=Object(j.a)(M,2),G=L[0],F=L[1],B=Object(c.useState)({longitude:0,latitude:0}),z=Object(j.a)(B,2),R=z[0],H=z[1],q=Object(c.useState)(!1),Y=Object(j.a)(q,2),V=Y[0],_=Y[1],N=Object(c.useState)(""),J=Object(j.a)(N,2),W=J[0],K=J[1],Q=Object(c.useState)(!1),$=Object(j.a)(Q,2),ee=$[0],te=$[1];Object(c.useEffect)((function(){(function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.glojects.getById(t);case 2:n=e.sent,i(n.title),d(n.description),y(n.tags.join(", ")),k(n.difficulty),T(parseInt(n.maxTeamSize,10)),F(n.image),H(n.location);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var ne=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t);case 3:n=e.sent,F(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==r){e.next=5;break}return K("Title must not be empty"),te(!0),e.abrupt("return");case 5:if(""!==u){e.next=9;break}return K("Description must not be empty"),te(!0),e.abrupt("return");case 9:if(!(""===D||D<2)){e.next=13;break}return K("Maximum team size must be an integer greater than or equal to 2"),te(!0),e.abrupt("return");case 13:return _(!0),e.next=16,E.glojects.update(t,{title:r,description:u,difficulty:S,image:G,maxTeamSize:D,location:R,tags:(c=m,Object(v.a)(new Set(c.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})))))});case 16:_(!1),X("/g/".concat(t));case 18:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(P.a,{children:[Object(l.jsx)(O.a,{size:"huge",content:"Edit Gloject"}),Object(l.jsx)(x.a,{content:"Mark as complete",positive:!0,onClick:function(e){e.preventDefault(),E.glojects.update({status:"COMPLETED"}),X("/")}}),Object(l.jsx)(x.a,{content:"Delete",negative:!0,onClick:function(e){e.preventDefault(),E.glojects.update({status:"ARCHIVED"}),X("/")}}),Object(l.jsxs)(g.a,{loading:V,error:ee,onSubmit:ce,children:[Object(l.jsx)(U.a,{error:!0,content:W}),Object(l.jsx)(g.a.Input,{name:"glojectTitle",label:"Title",placeholder:"Title",id:"Title",value:r,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)(g.a.TextArea,{name:"glojectDescription",label:"Description",placeholder:"Description",id:"Description",value:u,style:{minHeight:100},onChange:function(e){return d(e.target.value)}}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{icon:"group",iconPosition:"left",label:"Maximum Team Size (including you)",placeholder:"Maximum Team Size",type:"number",value:D,onChange:function(e){return T(parseInt(e.target.value,10)>=2?e.target.value:2)}}),Object(l.jsx)(g.a.Input,{label:"Cover photo",type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return ne(e.target.files[0])}})]}),Object(l.jsx)("label",{children:"Location Coordinates"}),Object(l.jsxs)(g.a.Group,{widths:"equal",children:[Object(l.jsx)(g.a.Input,{label:"Longitude",placeholder:"longitude",value:R.longitude,onChange:function(e){return H({longitude:e.target.value,latitude:R.latitude})}}),Object(l.jsx)(g.a.Input,{label:"Latitude",placeholder:"latitude",value:R.latitude,onChange:function(e){return H({longitude:R.longitude,latitude:e.target.value})}})]}),Object(l.jsxs)(g.a.Field,{children:[Object(l.jsx)("label",{children:"Difficulty Level"}),Object(l.jsxs)(g.a.Group,{inline:!0,children:[Object(l.jsx)(g.a.Field,{control:he.a,label:"Easy",value:"EASY",checked:"EASY"===S,onChange:function(e,t){var n=t.value;return k(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Medium",value:"MEDIUM",checked:"MEDIUM"===S,onChange:function(e,t){var n=t.value;return k(n)}}),Object(l.jsx)(g.a.Field,{control:he.a,label:"Hard",value:"HARD",checked:"HARD"===S,onChange:function(e,t){var n=t.value;return k(n)}})]})]}),Object(l.jsx)(g.a.Input,{name:"glojectTags",label:"Tags",placeholder:"Tag (comma separated)",id:"Tags",value:m,onChange:function(e){y(e.target.value)}}),Object(l.jsx)(x.a,{primary:!0,type:"submit",content:"Save Gloject"}),Object(l.jsx)(x.a,{content:"Cancel",onClick:function(e){return X("/g/".concat(t))}})]})]})};var Je=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(B,{children:[Object(l.jsx)(ge,{}),Object(l.jsx)(o.a,{children:Object(l.jsxs)(s.d,{children:[console.log("In router"),Object(l.jsx)(u,{path:"".concat("/glojects","/signup"),component:R}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/"),component:Fe}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/api"),component:_e}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/g/new"),component:xe}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/g/:glojectId"),component:ne}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/g/:glojectId/edit"),component:Ne}),Object(l.jsx)(s.b,{exact:!0,path:"".concat("/glojects","/u/:uid"),component:ce})]})})]})})},We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(Je,{})}),document.getElementById("root")),We()}},[[206,1,2]]]);
//# sourceMappingURL=main.881c65c5.chunk.js.map